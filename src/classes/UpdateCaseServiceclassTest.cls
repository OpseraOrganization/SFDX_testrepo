@istest
global class UpdateCaseServiceclassTest {
    testMethod static void SI_SAPtoSFDCServiceclassTest(){
        test.startTest();
        Account acc= new Account();
        acc.name='test acc';
        acc.Sbl_Account_Row_Id__c='test acc';
        acc.REPORT_ACCOUNT_NAME__c='testn ';
        insert acc;
        
        contact con = new contact();
        con.FirstName='test1';
        con.LastName='test2';
        con.email='test@test.com';
        con.AccountId=acc.id;
        insert con;
        
        Account_Cross_Ref__c acref= new Account_Cross_Ref__c();
        acref.name='test acref';
        acref.Account_Name__c=acc.id;
        acref.External_Account_ID__c='test';
        acref.Site_Code__c='test';
        insert acref;
        
        Plant_Code_Master__c pcm=new Plant_Code_Master__c();
        pcm.Name='testl';
        pcm.SAP_Plant_Code__c='testloc';
        insert pcm;
        
        List<SI_SAPtoSFDCServiceclass.Userstatus> usrlst= new List<SI_SAPtoSFDCServiceclass.Userstatus>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> zlst= new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> ztasklstlist = new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();       
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS tasklist = new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();           
        tasklist.Tasktype='Z106 Order Review and Completion';
        tasklist.Type='Task Creation';
        tasklist.TaskNumber='0001';
        tasklist.Taskid=null;      
        tasklist.TaskShorttext='Test';
        tasklist.Tasklongtext='Test';
        tasklist.TaskCreatedBy ='test id ztestNUS0004';
        tasklist.TaskChangedBy ='venkat';
        tasklist.TaskClosedBy='venkat';
        tasklist.TaskCreatedDate ='2016-09-22';
        tasklist.TaskChangedDate ='2016-09-22';
        tasklist.TaskClosedDate = '2016-09-22';
        tasklist.TaskStatus = 'Open';
        tasklist.TaskOwner='CSO';
        tasklist.LanguageKey='0003238978630001';    
        ztasklstlist.add(tasklist); 
        SI_SAPtoSFDCServiceclass.RnO_CASE_cls cas = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls(); 
  // cas.NotificationNumber = '21324'; 
        cas.CaseType = 'Datalink';
        //  cas.QuoteNumber='3435';
        // cas.CASENUMBER= 'Test123';   
        cas.Classification= 'AIRCRAFT';
        //cas.CUSTOMER_PO_RO_WO_NUM = '12332';
        cas.SALES_ORDER_NUMBER = '6553';     
        cas.EXPORT_COMPLIANCE_IND = 'No';
        cas.GOVT_COMPLIANCE_IND = 'No';
        cas.SUBJECT = 'Portal data test';
        cas.STATUS = 'Open';
        cas.DESCRIPTION= 'Test'; 
        cas.NotificationNumber = '000331353458'; 
        cas.ZTASKITEMS=ztasklstlist;
        cas.CUSTOMER_REQUEST_DT='2018-05-03';
        cas.ORDER_ENTERED_DT= '2018-05-03';
        //cas.PRODUCT_SERIAL_NUM='12345';  
        cas.SPEX_EXG_IND='true';
        cas.Status='open';
        cas.SUB_CLASS='Pending';
        cas.CUSTOMER_PO_RO_WO_NUM='Test';
        cas.PRODUCT_SERIAL_NUM='Test';
        cas.PRODUCT_NUM='Test';
        cas.WORKSCOPECHANGE='testwr';
        cas.TESTFAILURENOTE='test';
        cas.MAINTLOCATION='test';
        cas.REPLEVEL='test';
        cas.REPTYPE='test';
        cas.ORDERCREATED_DATE=string.valueof(system.now());
        cas.CUSTMATERIALNUM=string.valueof('10');
        cas.CUSTMATERIALSERIAL= string.valueof('5');
        cas.POPRICE=string.valueof('7483252');
        cas.ORDERPRICE=string.valueof('9786');
        cas.STDSHORTTEXT='test';
        cas.WARRANTYREQ='test';
        cas.REMINDERFLAG='test';
        cas.REMINDERDAYS=string.valueof(system.now());
        cas.RAIDAY='test';
        cas.SAP_ACCOUNT_NAME='test';
        cas.ACCOUNT_NAME='test acc';
        cas.CUSTOMER_EMAIL_VBAK='test@test.com';
        cas.REPAIR_LOCATION='testloc';
        cas.QuoteNumber='testquote';
        cas.CASENUMBER='test'; 
        cas.CaseObjectNo='test';
        //cas.SALES_ORDER_NETVALUE='testval';
        //cas.QUOTE_NETVALUE='testq';
        cas.DELAY_CODE='testc';
        cas.ORDER_CHANNEL='testo';
        cas.TAT_TARGET_DAYS='test';
        cas.BASIC_FINISH_DATE='test';
        cas.PORTAL_ESD='test';
        cas.APUWorkcenter='testapuw';
        cas.CaseObjectNo='testcaseobn';
        cas.SALES_ORDER_NETVALUE=string.valueOf(23456);
        cas.QUOTE_NETVALUE=string.valueOf(23456);
        
               
        Case cas1 = new Case();
        cas1.Origin = 'web';
        cas1.Status = 'Open';  
        cas1.OwnerId = Label.UFR_Owner_Id;
        cas1.Classification__c = 'CSO Repair Order';
        cas1.Export_Compliance_Content_ITAR_EAR__c = 'No';
        cas1.Government_Compliance_SM_M_Content__c = 'No';
        cas1.Sales_Order_Number__c = '12345678';
        cas1.Quote_Number__c= '213424';
        cas1.CaseOwnerChanged__c = 'nandini.nanjappan@nttdata.com';
        cas1.Description = 'Test cases';
        cas1.subject='test case';
        cas1.Sales_Order_Number__c =  '12345678';
        cas1.Repair_Notification_Number__c = '000331353458';
        cas1.SALES_ORDER_NETVALUE__c='98765';
        cas1.QUOTE_NETVALUE__c='897654567';
        cas1.DELAY_CODE__c='01';
        cas1.ORDER_CHANNEL__c='8976';
        cas1.TAT_TARGET_DAYS__c=string.valueof(date.today());
        insert cas1;
        
        ROI_Order_Information__c newroi= new ROI_Order_Information__c();
        newroi.CaseNumber__c=cas1.id;
        insert newroi;
        
        Case_Extension__c ce1=new Case_Extension__c();
        ce1=[select id,Case_object__c,Receipt_Date__c,IDS_OTTR_Date__c,Warranty_End_Date__c,Notification_Number__c,APU_Workcenter__c,SAP_Notification_Object_No__c,Warranty_requested__c,Warranty_Accepted__c,Warranty_Start_Date__c from Case_Extension__c where Case_object__c=:cas1.id];
        //system.debug('ce1 size is::'+ce1.size());
        //Case_Extension__c ce=new Case_Extension__c();
        ce1.APU_Workcenter__c='testapce';
        ce1.SAP_Notification_Object_No__c='testnocce';
        ce1.Warranty_requested__c=userinfo.getUserId();
        ce1.Warranty_Accepted__c='yes';
        ce1.Warranty_Start_Date__c=system.today();
        ce1.Warranty_End_Date__c=system.today();
        ce1.Notification_Number__c='testnce';
        ce1.Receipt_Date__c=system.today();
        ce1.IDS_OTTR_Date__c=system.today();
        //ce.Case_object__c=cas1.id;
        update ce1;
        
        
         SI_SAPtoSFDCServiceclass.RnO_CASE_cls cse = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls();
        cas1=[select id,status,casenumber,Quote_Number__c,Sales_Order_Number__c,Requestor_Email__c,Repair_Notification_Number__c,ownerid from case where id=:cas1.id];
        cse.CASENUMBER = cas1.casenumber;
        cse.NotificationNumber  = '00023424';
        cse.SALES_ORDER_NUMBER  = cas1.Sales_Order_Number__c;
        cse.QuoteNumber =cas1.Quote_Number__c;
        cse.CUSTOMER_EMAIL_VBAK = cas1.Requestor_Email__c;
        cse.NotificationNumber = cas1.Repair_Notification_Number__c;
        cse.STATUS = 'closed';
        cse.Caseowner = 'Aero default';
        
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS ztask= new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();      
        //List<Z_Task__c> castklst= [SELECT Name,Id,SAP_ZTask_Number__c,Long_Text__c,Language_Key__c,Sub_Type__c,Comments__c,Status__c,Other_Short_Text__c,Type__c,SAPTaskObjectNo__c,Short_Text__c FROM Z_Task__c where  RelatedTo__c=:cas.Id ];  
        ztask.TaskNumber = '434523';
        zlst.add(ztask);
        cse.ZTASKITEMS = zlst;
        SI_SAPtoSFDCServiceclass.Userstatus usr= new SI_SAPtoSFDCServiceclass.Userstatus();  
        usr.Status = 'Open'; 
        usr.ParentObjectNo = '3213';   
        usrlst.add(usr);
        cas.Userstatuslst= usrlst;
      
        UpdateCaseServiceclass.UPDATE_CASE(cas);
        test.stopTest();
}
     testMethod static void SI_SAPtoSFDCServiceclassTest1(){
               test.startTest();

        List<SI_SAPtoSFDCServiceclass.Userstatus> usrlst= new List<SI_SAPtoSFDCServiceclass.Userstatus>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> zlst= new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> ztasklstlist = new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();       
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS tasklist = new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();           
        tasklist.Tasktype='Z106 Order Review and Completion';
        tasklist.Type='Task Creation';
        tasklist.TaskNumber='0001';
        tasklist.Taskid=null;      
        tasklist.TaskShorttext='Test';
        tasklist.Tasklongtext='Test';
        tasklist.TaskCreatedBy ='test id ztestNUS0004';
        tasklist.TaskChangedBy ='venkat';
        tasklist.TaskClosedBy='venkat';
        tasklist.TaskCreatedDate ='2016-09-22';
        tasklist.TaskChangedDate ='2016-09-22';
        tasklist.TaskClosedDate = '2016-09-22';
        tasklist.TaskStatus = 'Open';
        tasklist.TaskOwner='CSO';
        tasklist.LanguageKey='0003238978630001';    
        ztasklstlist.add(tasklist); 
        SI_SAPtoSFDCServiceclass.RnO_CASE_cls cas = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls(); 
  // cas.NotificationNumber = '21324'; 
        cas.CaseType = 'Datalink';
        //  cas.QuoteNumber='3435';
        // cas.CASENUMBER= 'Test123';   
        cas.Classification= 'AIRCRAFT';
        cas.CUSTOMER_PO_RO_WO_NUM = '12332';
        cas.SALES_ORDER_NUMBER = '6553';     
        cas.EXPORT_COMPLIANCE_IND = 'No';
        cas.GOVT_COMPLIANCE_IND = 'No';
        cas.SUBJECT = 'Portal data test';
        cas.STATUS = 'Open';
        cas.DESCRIPTION= 'Test'; 
        cas.NotificationNumber = '000331353458'; 
        cas.ZTASKITEMS=ztasklstlist;
        cas.CUSTOMER_REQUEST_DT='2018-05-03';
        cas.ORDER_ENTERED_DT= '2018-05-03';
        //cas.PRODUCT_SERIAL_NUM='12345';  
        cas.SPEX_EXG_IND='true';
        cas.Status='open';
        cas.SUB_CLASS='Pending';
        cas.CUSTOMER_PO_RO_WO_NUM='Test';
        cas.PRODUCT_SERIAL_NUM='Test';
        cas.PRODUCT_NUM='Test';
        cas.WORKSCOPECHANGE='testwr';
        cas.TESTFAILURENOTE='test';
        cas.MAINTLOCATION='test';
        cas.REPLEVEL='test';
        cas.REPTYPE='test';
        cas.ORDERCREATED_DATE=string.valueof(system.now());
        cas.CUSTMATERIALNUM=string.valueof('10');
        cas.CUSTMATERIALSERIAL= string.valueof('5');
        cas.POPRICE=string.valueof('7483252');
        cas.ORDERPRICE=string.valueof('9786');
               
        Case cas1 = new Case();
        cas1.Origin = 'web';
        cas1.Status = 'Open';  
        cas1.OwnerId = Label.UFR_Owner_Id;
        cas1.Classification__c = 'CSO Repair Order';
        cas1.Export_Compliance_Content_ITAR_EAR__c = 'No';
        cas1.Government_Compliance_SM_M_Content__c = 'No';
        cas1.Sales_Order_Number__c = '12345678';
        cas1.Quote_Number__c= '213424';
        cas1.CaseOwnerChanged__c = 'nandini.nanjappan@nttdata.com';
        cas1.Description = 'Test cases';
        cas1.subject='test case';
        cas1.Sales_Order_Number__c =  '12345678';
        cas1.Repair_Notification_Number__c = '000331353458';
        insert cas1;
                      
        SI_SAPtoSFDCServiceclass.RnO_CASE_cls cse = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls();
        cas1=[select id,status,casenumber,Quote_Number__c,Sales_Order_Number__c,Requestor_Email__c,Repair_Notification_Number__c,ownerid from case where id=:cas1.id];
        cse.CASENUMBER = cas1.casenumber;
        cse.NotificationNumber  = '00023424';
        cse.SALES_ORDER_NUMBER  = cas1.Sales_Order_Number__c;
        cse.QuoteNumber =cas1.Quote_Number__c;
        cse.CUSTOMER_EMAIL_VBAK = cas1.Requestor_Email__c;
        cse.NotificationNumber = cas1.Repair_Notification_Number__c;
        cse.STATUS = 'closed';
        cse.Caseowner = 'Aero default';
        
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS ztask= new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();      
        //List<Z_Task__c> castklst= [SELECT Name,Id,SAP_ZTask_Number__c,Long_Text__c,Language_Key__c,Sub_Type__c,Comments__c,Status__c,Other_Short_Text__c,Type__c,SAPTaskObjectNo__c,Short_Text__c FROM Z_Task__c where  RelatedTo__c=:cas.Id ];  
        ztask.TaskNumber = '434523';
        zlst.add(ztask);
        cse.ZTASKITEMS = zlst;
        SI_SAPtoSFDCServiceclass.Userstatus usr= new SI_SAPtoSFDCServiceclass.Userstatus();  
        usr.Status = 'Open'; 
        usr.ParentObjectNo = '3213';   
        usrlst.add(usr);
        cas.Userstatuslst= usrlst;
      
        UpdateCaseServiceclass.UPDATE_CASE(cas);
         test.stopTest();
     }
     testMethod static void SI_SAPtoSFDCServiceclassTest2(){
               test.startTest();

        List<SI_SAPtoSFDCServiceclass.Userstatus> usrlst= new List<SI_SAPtoSFDCServiceclass.Userstatus>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> zlst= new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> ztasklstlist = new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();       
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS tasklist = new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();           
        tasklist.Tasktype='Z106 Order Review and Completion';
        tasklist.Type='Task Creation';
        tasklist.TaskNumber='0001';
        tasklist.Taskid=null;      
        tasklist.TaskShorttext='Test';
        tasklist.Tasklongtext='Test';
        tasklist.TaskCreatedBy ='test id ztestNUS0004';
        tasklist.TaskChangedBy ='venkat';
        tasklist.TaskClosedBy='venkat';
        tasklist.TaskCreatedDate ='2016-09-22';
        tasklist.TaskChangedDate ='2016-09-22';
        tasklist.TaskClosedDate = '2016-09-22';
        tasklist.TaskStatus = 'Open';
        tasklist.TaskOwner='CSO';
        tasklist.LanguageKey='0003238978630001';    
        ztasklstlist.add(tasklist); 
        SI_SAPtoSFDCServiceclass.RnO_CASE_cls cas = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls(); 
  // cas.NotificationNumber = '21324'; 
        cas.CaseType = 'Datalink';
        //  cas.QuoteNumber='3435';
        // cas.CASENUMBER= 'Test123';   
        cas.Classification= 'AIRCRAFT';
        //cas.CUSTOMER_PO_RO_WO_NUM = '12332';
        cas.SALES_ORDER_NUMBER = '6553';     
        cas.EXPORT_COMPLIANCE_IND = 'No';
        cas.GOVT_COMPLIANCE_IND = 'No';
        cas.SUBJECT = 'Portal data test';
        cas.STATUS = 'Open';
        cas.DESCRIPTION= 'Test'; 
        cas.NotificationNumber = '7566'; 
        cas.ZTASKITEMS=ztasklstlist;
        cas.CUSTOMER_REQUEST_DT='2018-05-03';
        cas.ORDER_ENTERED_DT= '2018-05-03';
        //cas.PRODUCT_SERIAL_NUM='12345';  
        cas.SPEX_EXG_IND='true';
        cas.Status='open';
        cas.SUB_CLASS='Pending';
        cas.CUSTOMER_PO_RO_WO_NUM='Test';
        //cas.PRODUCT_SERIAL_NUM='Test';
        //cas.PRODUCT_NUM='Test';
        cas.WORKSCOPECHANGE='testwr';
        cas.TESTFAILURENOTE='test';
        cas.MAINTLOCATION='test';
        cas.REPLEVEL='test';
        cas.REPTYPE='test';
        cas.ORDERCREATED_DATE=string.valueof(system.now());
        cas.CUSTMATERIALNUM=string.valueof('10');
        cas.CUSTMATERIALSERIAL= string.valueof('5');
        cas.POPRICE=string.valueof('7483252');
        cas.ORDERPRICE=string.valueof('9786');
        
        
        Case cas1 = new Case();
        cas1.Origin = 'web';
        cas1.Status = 'Open';  
        cas1.OwnerId = Label.UFR_Owner_Id;
        cas1.Classification__c = 'CSO Repair Order';
        cas1.Export_Compliance_Content_ITAR_EAR__c = 'No';
        cas1.Government_Compliance_SM_M_Content__c = 'No';
        cas1.Sales_Order_Number__c = '12345678';
        cas1.Quote_Number__c= '213424';
        cas1.CaseOwnerChanged__c = 'nandini.nanjappan@nttdata.com';
        cas1.Description = 'Test cases';
        cas1.subject='test case';
        cas1.Sales_Order_Number__c =  '12345678';
        cas1.Repair_Notification_Number__c = '000331353458';
        insert cas1;
        
                
         SI_SAPtoSFDCServiceclass.RnO_CASE_cls cse = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls();
        cas1=[select id,status,casenumber,Quote_Number__c,Sales_Order_Number__c,Requestor_Email__c,Repair_Notification_Number__c,ownerid from case where id=:cas1.id];
        cse.CASENUMBER = cas1.casenumber;
        cse.NotificationNumber  = '00023424';
        cse.SALES_ORDER_NUMBER  = cas1.Sales_Order_Number__c;
        cse.QuoteNumber =cas1.Quote_Number__c;
        cse.CUSTOMER_EMAIL_VBAK = cas1.Requestor_Email__c;
        cse.NotificationNumber = cas1.Repair_Notification_Number__c;
        cse.STATUS = 'closed';
        cse.Caseowner = 'Aero default';
        
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS ztask= new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();      
        //List<Z_Task__c> castklst= [SELECT Name,Id,SAP_ZTask_Number__c,Long_Text__c,Language_Key__c,Sub_Type__c,Comments__c,Status__c,Other_Short_Text__c,Type__c,SAPTaskObjectNo__c,Short_Text__c FROM Z_Task__c where  RelatedTo__c=:cas.Id ];  
        ztask.TaskNumber = '434523';
        zlst.add(ztask);
        cse.ZTASKITEMS = zlst;
        SI_SAPtoSFDCServiceclass.Userstatus usr= new SI_SAPtoSFDCServiceclass.Userstatus();  
        usr.Status = 'Open'; 
        usr.ParentObjectNo = '3213';   
        usrlst.add(usr);
        cas.Userstatuslst= usrlst;
      
        UpdateCaseServiceclass.UPDATE_CASE(cas);
         test.stopTest();
     }
    
      testMethod static void SI_SAPtoSFDCServiceclassTest3(){
        test.startTest();
        Account acc= new Account();
        acc.name='test acc';
        acc.Sbl_Account_Row_Id__c='test acc';
        acc.REPORT_ACCOUNT_NAME__c='testn ';
        insert acc;
        
        contact con = new contact();
        con.FirstName='test1';
        con.LastName='test2';
        con.email='test@test.com';
        con.AccountId=acc.id;
        insert con;
        
        Account_Cross_Ref__c acref= new Account_Cross_Ref__c();
        acref.name='test acref';
        acref.Account_Name__c=acc.id;
        acref.External_Account_ID__c='test';
        acref.Site_Code__c='test';
        insert acref;
        
        Plant_Code_Master__c pcm=new Plant_Code_Master__c();
        pcm.Name='testl';
        pcm.SAP_Plant_Code__c='testloc';
        insert pcm;
        
        List<SI_SAPtoSFDCServiceclass.Userstatus> usrlst= new List<SI_SAPtoSFDCServiceclass.Userstatus>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> zlst= new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> ztasklstlist = new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();       
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS tasklist = new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();           
        tasklist.Tasktype='Z106 Order Review and Completion';
        tasklist.Type='Task Creation';
        tasklist.TaskNumber='0001';
        tasklist.Taskid=null;      
        tasklist.TaskShorttext='Test';
        tasklist.Tasklongtext='Test';
        tasklist.TaskCreatedBy ='test id ztestNUS0004';
        tasklist.TaskChangedBy ='venkat';
        tasklist.TaskClosedBy='venkat';
        tasklist.TaskCreatedDate ='2016-09-22';
        tasklist.TaskChangedDate ='2016-09-22';
        tasklist.TaskClosedDate = '2016-09-22';
        tasklist.TaskStatus = 'Open';
        tasklist.TaskOwner='CSO';
        tasklist.LanguageKey='0003238978630001';    
        ztasklstlist.add(tasklist); 
        SI_SAPtoSFDCServiceclass.RnO_CASE_cls cas = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls(); 
  // cas.NotificationNumber = '21324'; 
        cas.CaseType = 'Datalink';
        //  cas.QuoteNumber='3435';
        // cas.CASENUMBER= 'Test123';   
        cas.Classification= 'AIRCRAFT';
        //cas.CUSTOMER_PO_RO_WO_NUM = '12332';
        cas.SALES_ORDER_NUMBER = '6553';     
        cas.EXPORT_COMPLIANCE_IND = 'No';
        cas.GOVT_COMPLIANCE_IND = 'No';
        cas.SUBJECT = 'Portal data test';
        cas.STATUS = 'Open';
        cas.DESCRIPTION= 'Test'; 
        cas.NotificationNumber = '000331353458'; 
        cas.ZTASKITEMS=ztasklstlist;
        cas.CUSTOMER_REQUEST_DT='2018-05-03';
        cas.ORDER_ENTERED_DT= '2018-05-03';
        //cas.PRODUCT_SERIAL_NUM='12345';  
        cas.SPEX_EXG_IND='true';
        cas.Status='Closed';
        cas.SUB_CLASS='Pending';
        cas.CUSTOMER_PO_RO_WO_NUM='Test';
        cas.PRODUCT_SERIAL_NUM='Test';
        cas.PRODUCT_NUM='Test';
        cas.WORKSCOPECHANGE='testwr';
        cas.TESTFAILURENOTE='test';
        cas.MAINTLOCATION='test';
        cas.REPLEVEL='test';
        cas.REPTYPE='test';
        cas.ORDERCREATED_DATE=string.valueof(system.now());
        cas.CUSTMATERIALNUM=string.valueof('10');
        cas.CUSTMATERIALSERIAL= string.valueof('5');
        cas.POPRICE=string.valueof('7483252');
        cas.ORDERPRICE=string.valueof('9786');
        cas.STDSHORTTEXT='test';
        cas.WARRANTYREQ='test';
        cas.REMINDERFLAG='test';
        cas.REMINDERDAYS=string.valueof(system.now());
        cas.RAIDAY='test';
        cas.SAP_ACCOUNT_NAME='test';
        cas.ACCOUNT_NAME='test acc';
        cas.CUSTOMER_EMAIL_VBAK='test@test.com';
        cas.REPAIR_LOCATION='testloc';
        cas.QuoteNumber='testquote';
        
        Case cas1 = new Case();
        cas1.Origin = 'web';
        cas1.Status = 'Closed';  
        cas1.OwnerId = userinfo.getUserId();
        cas1.Classification__c = 'CSO Repair Order';
        cas1.Export_Compliance_Content_ITAR_EAR__c = 'No';
        cas1.Government_Compliance_SM_M_Content__c = 'No';
        cas1.Sales_Order_Number__c = '12345678';
        cas1.Quote_Number__c= '213424';
        cas1.CaseOwnerChanged__c = 'nandini.nanjappan@nttdata.com';
        cas1.Description = 'Test cases';
        cas1.subject='test case';
        cas1.Sales_Order_Number__c =  '12345678';
        cas1.Repair_Notification_Number__c = '000331353458';
        insert cas1;
        
        ROI_Order_Information__c newroi= new ROI_Order_Information__c();
        newroi.CaseNumber__c=cas1.id;
        insert newroi;
        
        
         SI_SAPtoSFDCServiceclass.RnO_CASE_cls cse = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls();
        cas1=[select id,status,casenumber,Quote_Number__c,Sales_Order_Number__c,Requestor_Email__c,Repair_Notification_Number__c,ownerid from case where id=:cas1.id];
        cse.CASENUMBER = cas1.casenumber;
        cse.NotificationNumber  = '00023424';
        cse.SALES_ORDER_NUMBER  = cas1.Sales_Order_Number__c;
        cse.QuoteNumber =cas1.Quote_Number__c;
        cse.CUSTOMER_EMAIL_VBAK = cas1.Requestor_Email__c;
        cse.NotificationNumber = cas1.Repair_Notification_Number__c;
        cse.STATUS = 'closed';
        cse.Caseowner = 'Aero default';
        
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS ztask= new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();      
        //List<Z_Task__c> castklst= [SELECT Name,Id,SAP_ZTask_Number__c,Long_Text__c,Language_Key__c,Sub_Type__c,Comments__c,Status__c,Other_Short_Text__c,Type__c,SAPTaskObjectNo__c,Short_Text__c FROM Z_Task__c where  RelatedTo__c=:cas.Id ];  
        ztask.TaskNumber = '434523';
        zlst.add(ztask);
        cse.ZTASKITEMS = zlst;
        SI_SAPtoSFDCServiceclass.Userstatus usr= new SI_SAPtoSFDCServiceclass.Userstatus();  
        usr.Status = 'Open'; 
        usr.ParentObjectNo = '3213';   
        usrlst.add(usr);
        cas.Userstatuslst= usrlst;
      
        UpdateCaseServiceclass.UPDATE_CASE(cas);
        test.stopTest();
}
    
    testMethod static void SI_SAPtoSFDCServiceclassTest4(){
        test.startTest();
        Account acc= new Account();
        acc.name='test acc';
        acc.Sbl_Account_Row_Id__c='test acc';
        acc.REPORT_ACCOUNT_NAME__c='testn ';
        insert acc;
        
        contact con = new contact();
        con.FirstName='test1';
        con.LastName='test2';
        con.email='test@test.com';
        con.AccountId=acc.id;
        insert con;
        
        Account_Cross_Ref__c acref= new Account_Cross_Ref__c();
        acref.name='test acref';
        acref.Account_Name__c=acc.id;
        acref.External_Account_ID__c='test';
        acref.Site_Code__c='test';
        insert acref;
        
        Plant_Code_Master__c pcm=new Plant_Code_Master__c();
        pcm.Name='testl';
        pcm.SAP_Plant_Code__c='testloc';
        insert pcm;
        
        List<SI_SAPtoSFDCServiceclass.Userstatus> usrlst= new List<SI_SAPtoSFDCServiceclass.Userstatus>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> zlst= new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();
        List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS> ztasklstlist = new List<SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS>();       
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS tasklist = new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();           
        tasklist.Tasktype='Z106 Order Review and Completion';
        tasklist.Type='Task Creation';
        tasklist.TaskNumber='0001';
        tasklist.Taskid=null;      
        tasklist.TaskShorttext='Test';
        tasklist.Tasklongtext='Test';
        tasklist.TaskCreatedBy ='test id ztestNUS0004';
        tasklist.TaskChangedBy ='venkat';
        tasklist.TaskClosedBy='venkat';
        tasklist.TaskCreatedDate ='2016-09-22';
        tasklist.TaskChangedDate ='2016-09-22';
        tasklist.TaskClosedDate = '2016-09-22';
        tasklist.TaskStatus = 'Open';
        tasklist.TaskOwner='CSO';
        tasklist.LanguageKey='0003238978630001';    
        ztasklstlist.add(tasklist); 
        SI_SAPtoSFDCServiceclass.RnO_CASE_cls cas = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls(); 
  // cas.NotificationNumber = '21324'; 
        cas.CaseType = 'Datalink';
        //  cas.QuoteNumber='3435';
        // cas.CASENUMBER= 'Test123';   
        cas.Classification= 'AIRCRAFT';
        //cas.CUSTOMER_PO_RO_WO_NUM = '12332';
        cas.SALES_ORDER_NUMBER = '6553';     
        cas.EXPORT_COMPLIANCE_IND = 'No';
        cas.GOVT_COMPLIANCE_IND = 'No';
        cas.SUBJECT = 'Portal data test';
        cas.STATUS = 'Open';
        cas.DESCRIPTION= 'Test'; 
        cas.NotificationNumber = '000331353458'; 
        cas.ZTASKITEMS=ztasklstlist;
        cas.CUSTOMER_REQUEST_DT='2018-05-03';
        cas.ORDER_ENTERED_DT= '2018-05-03';
        //cas.PRODUCT_SERIAL_NUM='12345';  
        cas.SPEX_EXG_IND='true';
        cas.Status='Closed';
        cas.SUB_CLASS='Pending';
        cas.CUSTOMER_PO_RO_WO_NUM='Test';
        cas.PRODUCT_SERIAL_NUM='Test';
        cas.PRODUCT_NUM='Test';
        cas.WORKSCOPECHANGE='testwr';
        cas.TESTFAILURENOTE='test';
        cas.MAINTLOCATION='test';
        cas.REPLEVEL='test';
        cas.REPTYPE='test';
        cas.ORDERCREATED_DATE=string.valueof(system.now());
        cas.CUSTMATERIALNUM=string.valueof('10');
        cas.CUSTMATERIALSERIAL= string.valueof('5');
        cas.POPRICE=string.valueof('7483252');
        cas.ORDERPRICE=string.valueof('9786');
        cas.STDSHORTTEXT='test';
        cas.WARRANTYREQ='test';
        cas.REMINDERFLAG='test';
        cas.REMINDERDAYS=string.valueof(system.now());
        cas.RAIDAY='test';
        cas.SAP_ACCOUNT_NAME='test';
        cas.ACCOUNT_NAME='test acc';
        cas.CUSTOMER_EMAIL_VBAK='test@test.com';
        cas.REPAIR_LOCATION='testloc';
        cas.QuoteNumber='testquote';
        cas.APUWorkcenter='testcasapu';
        cas.CaseObjectNo='trestcaseno';
        cas.SALES_ORDER_NETVALUE='testso';
        cas.QUOTE_NETVALUE='testqu';
        cas.DELAY_CODE='testcode';
        cas.ORDER_CHANNEL='testoc';
        cas.TAT_TARGET_DAYS='testttd';
        cas.BASIC_FINISH_DATE='testbdate';
        cas.PORTAL_ESD='testpe';
        
        Case cas1 = new Case();
        cas1.Origin = 'web';
        cas1.Status = 'Closed';  
        cas1.OwnerId = userinfo.getUserId();
        cas1.Classification__c = 'CSO Repair Order';
        cas1.Export_Compliance_Content_ITAR_EAR__c = 'No';
        cas1.Government_Compliance_SM_M_Content__c = 'No';
        cas1.Sales_Order_Number__c = '12345678';
        cas1.Quote_Number__c= '213424';
        cas1.CaseOwnerChanged__c = 'nandini.nanjappan@nttdata.com';
        cas1.Description = 'Test cases';
        cas1.subject='test case';
        cas1.Sales_Order_Number__c =  '12345678';
        cas1.Repair_Notification_Number__c = '000331353458';
        cas1.SALES_ORDER_NETVALUE__c='98765';
        cas1.QUOTE_NETVALUE__c='897654567';
        cas1.DELAY_CODE__c='01';
        cas1.ORDER_CHANNEL__c='8976';
        cas1.TAT_TARGET_DAYS__c=string.valueof(date.today());
        insert cas1;
        
        ROI_Order_Information__c newroi= new ROI_Order_Information__c();
        newroi.CaseNumber__c=cas1.id;
        insert newroi;
        
         Case_Extension__c ce1=new Case_Extension__c();
        ce1=[select id,Case_object__c,Receipt_Date__c,IDS_OTTR_Date__c,Warranty_End_Date__c,Notification_Number__c,APU_Workcenter__c,SAP_Notification_Object_No__c,Warranty_requested__c,Warranty_Accepted__c,Warranty_Start_Date__c from Case_Extension__c where Case_object__c=:cas1.id];
        //system.debug('ce1 size is::'+ce1.size());
        //Case_Extension__c ce=new Case_Extension__c();
        ce1.APU_Workcenter__c='testapce';
        ce1.SAP_Notification_Object_No__c='testnocce';
        ce1.Warranty_requested__c=userinfo.getUserId();
        ce1.Warranty_Accepted__c='yes';
        ce1.Warranty_Start_Date__c=system.today();
        ce1.Warranty_End_Date__c=system.today();
        ce1.Notification_Number__c='testnce';
        ce1.Receipt_Date__c=system.today();
        ce1.IDS_OTTR_Date__c=system.today();
        //ce.Case_object__c=cas1.id;
        update ce1;
                
         SI_SAPtoSFDCServiceclass.RnO_CASE_cls cse = new SI_SAPtoSFDCServiceclass.RnO_CASE_cls();
        cas1=[select id,status,casenumber,Quote_Number__c,Sales_Order_Number__c,Requestor_Email__c,Repair_Notification_Number__c,ownerid from case where id=:cas1.id];
        cse.CASENUMBER = cas1.casenumber;
        cse.NotificationNumber  = '00023424';
        cse.SALES_ORDER_NUMBER  = cas1.Sales_Order_Number__c;
        cse.QuoteNumber =cas1.Quote_Number__c;
        cse.CUSTOMER_EMAIL_VBAK = cas1.Requestor_Email__c;
        cse.NotificationNumber = cas1.Repair_Notification_Number__c;
        cse.STATUS = 'closed';
        cse.Caseowner = 'Aero default';
        
        SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS ztask= new SI_SAPtoSFDCServiceclass.ZTASKITEMDETAILS();      
        //List<Z_Task__c> castklst= [SELECT Name,Id,SAP_ZTask_Number__c,Long_Text__c,Language_Key__c,Sub_Type__c,Comments__c,Status__c,Other_Short_Text__c,Type__c,SAPTaskObjectNo__c,Short_Text__c FROM Z_Task__c where  RelatedTo__c=:cas.Id ];  
        ztask.TaskNumber = '434523';
        zlst.add(ztask);
        cse.ZTASKITEMS = zlst;
        SI_SAPtoSFDCServiceclass.Userstatus usr= new SI_SAPtoSFDCServiceclass.Userstatus();  
        usr.Status = 'Open'; 
        usr.ParentObjectNo = '3213';   
        usrlst.add(usr);
        cas.Userstatuslst= usrlst;
      
        UpdateCaseServiceclass.UPDATE_CASE(cas);
        test.stopTest();
}
}