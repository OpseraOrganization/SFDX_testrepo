/*******
 **** @@ Componenet Name : GetCaseOverViewTest
 **** @@ DESC : Test class for GetCaseOverView Service class.
*******/
@isTest(SeeAllData=false)
public class GetCaseOverViewTest {
    public static testMethod void doPostTest(){
        test.startTest();
            Account acc = new Account();
            acc.Name    = 'Boeing';
            acc.GCE_Customer_Segment__c = 'Airline';
            acc.GCE_CSS__c = 'Phoenix/America';
            acc.GCE_CSS_Type__c = 'Dedicated';
            insert acc;
            Contact con     = new Contact();
            con.LastName    = 'Martin';
            con.AccountId   = acc.Id;
            insert con;
            acc.GCE_CSS_Assignment__c = con.Id;
            update acc;
            String casertid = Schema.SObjectType.Case.getRecordTypeInfosByName().get(System.Label.Appian_Case_Record_Types.split(',')[0]).getRecordTypeId();
            Case newcase = new Case();
            newcase.AccountId = acc.Id;
            newcase.ContactId = con.Id;
            newcase.Customer_PO_RO_WONumber__c = '12345';
            newcase.Sales_Order_Number__c = '12345';
        	newcase.Repair_Notification_Number__c = '12345';
            newcase.RecordTypeId = casertid;
            newcase.Government_Compliance_SM_M_Content__c = 'No';
            newcase.Export_Compliance_Content_ITAR_EAR__c = 'No';
        	newcase.Status = 'Open';
        	newcase.OwnerId = UserInfo.getUserId();
            insert newcase;
        
            GetCaseOverView.GCESegmentDetail segmentdetails = new GetCaseOverView.GCESegmentDetail();
            segmentdetails.CaseStatus = '';
            segmentdetails.CSSRegion = 'Phoenix/America,Rico/America';
            segmentdetails.CSSType = 'Dedicated,Shared';
            segmentdetails.CustomerName = 'Boeing,NORTH FLYING AS';
            segmentdetails.DocType = 'PO';
            segmentdetails.DocumentNumber = '12345,46512';
            segmentdetails.GCECSSAssignment = con.Name+',Sam Pugh';
            segmentdetails.GCESegment = 'Airline,OEM';
            segmentdetails.HonOrgId = 'AERO';
            segmentdetails.StatusFlag = 'N';
            String myJson        = JSON.serialize(segmentdetails); 
            RestRequest  req     = new RestRequest();
            RestResponse res     = new RestResponse();
            req.httpMethod       = 'POST';
            req.requestURI       = '/services/apexrest/GetCaseOverView';
            req.requestBody      = Blob.valueOf(myJson);
            RestContext.request  = req;
            RestContext.response = res;
            GetCaseOverView.doPost();
        
            GetCaseOverView.GCESegmentDetail segmentdetails1 = new GetCaseOverView.GCESegmentDetail();
            segmentdetails1.CaseStatus = 'OPEN';
            segmentdetails1.CSSRegion = 'Phoenix/America';
            segmentdetails1.CSSType = 'Dedicated';
            segmentdetails1.CustomerName = 'Boeing';
            segmentdetails1.DocType = 'CASE';
            segmentdetails1.DocumentNumber = newcase.Id+','+newcase.Id;
            segmentdetails1.GCECSSAssignment = con.Name;
            segmentdetails1.GCESegment = 'NA';
            segmentdetails1.HonOrgId = 'AERO';
            segmentdetails1.StatusFlag = 'Y';
            String myJson1       = JSON.serialize(segmentdetails1); 
            RestRequest  req1     = new RestRequest();
            RestResponse res1     = new RestResponse();
            req1.httpMethod      = 'POST';
            req1.requestURI      = '/services/apexrest/GetCaseOverView';
            req1.requestBody         = Blob.valueOf(myJson1);
            RestContext.request  = req1;
            RestContext.response = res1;
            GetCaseOverView.doPost();
            
            GetCaseOverView.GCESegmentDetail segmentdetails2 = new GetCaseOverView.GCESegmentDetail();
            segmentdetails2.CaseStatus = 'OPEN';
            segmentdetails2.CSSRegion = 'Phoenix/America';
            segmentdetails2.CSSType = 'Dedicated';
            segmentdetails2.CustomerName = 'Boeing';
            segmentdetails2.DocType = 'SO';
            segmentdetails2.DocumentNumber = '12345,45657';
            segmentdetails2.GCECSSAssignment = con.Name;
            segmentdetails2.GCESegment = '';
            segmentdetails2.HonOrgId = 'AERO';
            segmentdetails2.StatusFlag = 'Y';
            String myJson2       = JSON.serialize(segmentdetails2); 
            RestRequest  req2     = new RestRequest();
            RestResponse res2     = new RestResponse();
            req2.httpMethod      = 'POST';
            req2.requestURI      = '/services/apexrest/GetCaseOverView';
            req2.requestBody         = Blob.valueOf(myJson2);
            RestContext.request  = req2;
            RestContext.response = res2;
            GetCaseOverView.doPost();
        
            GetCaseOverView.GCESegmentDetail segmentdetails3 = new GetCaseOverView.GCESegmentDetail();
            segmentdetails3.CaseStatus = 'OPEN';
            segmentdetails3.CSSRegion = 'Phoenix/America';
            segmentdetails3.CSSType = 'Dedicated';
            segmentdetails3.CustomerName = 'Boeing';
            segmentdetails3.DocType = 'RN';
            segmentdetails3.DocumentNumber = '12345,87941';
            segmentdetails3.GCECSSAssignment = con.Name;
            segmentdetails3.GCESegment = '';
            segmentdetails3.HonOrgId = 'AERO';
            segmentdetails3.StatusFlag = 'Y';
            String myJson3       = JSON.serialize(segmentdetails3); 
            RestRequest  req3     = new RestRequest();
            RestResponse res3     = new RestResponse();
            req3.httpMethod      = 'POST';
            req3.requestURI      = '/services/apexrest/GetCaseOverView';
            req3.requestBody         = Blob.valueOf(myJson3);
            RestContext.request  = req3;
            RestContext.response = res3;
            GetCaseOverView.doPost();
        
            GetCaseOverView.GCESegmentDetail segmentdetails4 = new GetCaseOverView.GCESegmentDetail();
            segmentdetails4.CaseStatus = 'OPEN';
            segmentdetails4.CSSRegion = 'Phoenix/America';
            segmentdetails4.CSSType = 'Dedicated';
            segmentdetails4.CustomerName = 'Boeing';
            segmentdetails4.DocType = 'RN';
            segmentdetails4.DocumentNumber = '12345,87941';
            segmentdetails4.GCECSSAssignment = con.Name;
            segmentdetails4.GCESegment = '';
            segmentdetails4.HonOrgId = 'AERO';
            segmentdetails4.StatusFlag = 'Y';
            String myJson4       = JSON.serialize(segmentdetails4); 
            RestRequest  req4     = new RestRequest();
            RestResponse res4     = new RestResponse();
            req4.httpMethod      = 'POST';
            req4.requestURI      = '/services/apexrest/GetCaseOverView';
            req4.requestBody         = Blob.valueOf(myJson4);
            RestContext.request  = req4;
            RestContext.response = res4;
            GetCaseOverView.doPost();
        
        	GetCaseOverView.GCESegmentDetail segmentdetails5 = new GetCaseOverView.GCESegmentDetail();
            segmentdetails5.CaseStatus = 'OPEN';
            segmentdetails5.CSSRegion = 'NA';
            segmentdetails5.CSSType = 'NA';
            segmentdetails5.CustomerName = 'Boeing';
            segmentdetails5.DocType = 'RN';
            segmentdetails5.DocumentNumber = '12345,87941';
            segmentdetails5.GCECSSAssignment = con.Name;
            segmentdetails5.GCESegment = 'All';
            segmentdetails5.HonOrgId = 'AERO';
            segmentdetails5.StatusFlag = 'Y';
            segmentdetails5.PageSize = '200';
        	segmentdetails5.NextPageSet = '';
            String myJson5       = JSON.serialize(segmentdetails5); 
            RestRequest  req5     = new RestRequest();
            RestResponse res5     = new RestResponse();
            req5.httpMethod      = 'POST';
            req5.requestURI      = '/services/apexrest/GetCaseOverView';
            req5.requestBody         = Blob.valueOf(myJson5);
            RestContext.request  = req5;
            RestContext.response = res5;
            GetCaseOverView.doPost();
        
        	GetCaseOverView.GCESegmentDetail segmentdetails6 = new GetCaseOverView.GCESegmentDetail();
            segmentdetails6.CaseStatus = 'ALLCASE';
            segmentdetails6.CSSRegion = '';
            segmentdetails6.CSSType = '';
            segmentdetails6.CustomerName = '';
            segmentdetails6.DocType = '';
            segmentdetails6.DocumentNumber = '';
            segmentdetails6.GCECSSAssignment = '';
            segmentdetails6.GCESegment = 'All';
            segmentdetails6.HonOrgId = 'AERO';
            segmentdetails6.StatusFlag = 'Y';
            segmentdetails6.PageSize = '200';
        	segmentdetails6.NextPageSet = '';
            String myJson6       = JSON.serialize(segmentdetails6); 
            RestRequest  req6     = new RestRequest();
            RestResponse res6     = new RestResponse();
            req6.httpMethod      = 'POST';
            req6.requestURI      = '/services/apexrest/GetCaseOverView';
            req6.requestBody         = Blob.valueOf(myJson6);
            RestContext.request  = req6;
            RestContext.response = res6;
            GetCaseOverView.doPost();
        test.stopTest();
    }
}