<apex:page sidebar="false" showHeader="false" standardStylesheets="false" title="GOLD WEEK 2015" cache="false" docType="html-5.0" applyHtmlTag="false">
<html>
<head>
    <title>GOLD WEEK 2015 | Login</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
    <meta name="apple-mobile-web-app-title" content="GOLD WEEK" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <link rel="icon" href="{!URLFOR($Resource.goldweek_resources,'img/favicon.png')}" />
    
    <!--    Bootstrap CSS -->
    <link href="{!URLFOR($Resource.goldweek_resources,'css/bootstrap.min.css')}" rel="stylesheet" media="screen"/>
    <link href="{!URLFOR($Resource.goldweek_resources,'css/goldweek.min.css')}" rel="stylesheet" media="screen"/>
    
    <!--   Images for iOS   -->
    <link href="{!URLFOR($Resource.goldweek_resources,'img/gold_144x144.png')}" rel="apple-touch-icon-precomposed" sizes="144x144" />
    <link href="{!URLFOR($Resource.goldweek_resources,'img/gold_114x114.png')}" rel="apple-touch-icon-precomposed" sizes="114x114" />
    <link href="{!URLFOR($Resource.goldweek_resources,'img/gold_72x72.png')}" rel="apple-touch-icon-precomposed" sizes="72x72" />
    <link href="{!URLFOR($Resource.goldweek_resources,'img/gold_57x57.png')}" rel="apple-touch-icon-precomposed" />
        
    <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.goldweek_resources,'css/addtohomescreen.css')}" />
    <script src="{!URLFOR($Resource.goldweek_resources,'js/addtohomescreen.min.js')}"></script>
   
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script>
      //if(document.URL.indexOf("LogoutParam") == -1)location.replace("https://cwa.honeywell.com/ssoagent.do?cwa.appid=2672");
      if(document.URL.indexOf("cwa") == -1 && localStorage.GW_usrnm != null && localStorage.GW_psswd != null && document.cookie.indexOf("GW_logout") == -1) {
        var style = document.createElement('style');
        style.type = 'text/css';
        style.innerHTML = '.form-signin { display: none !important; }.hon-loader{ display: block !important; }';
        document.getElementsByTagName('head')[0].appendChild(style);
      }
    </script>

    <style>
      @-ms-viewport{
          width: device-width;
      }
      html, body, container {
          height: 100%;
      }
      body {
        background-image: url("{!URLFOR($Resource.goldweek_resources,'img/gold-week-2015-splash.jpg')}");
        background-position: 50% 200px;
        background-repeat: no-repeat;
        background-attachment: scroll;
        -webkit-background-size: cover;
        background-size: cover;
      }
      header{
        text-align: center;
      }
      @media (min-width: 768px) { 
        header{       
            margin-top: 50px;
        }
      }
      #hon-logo img{
        width: 210px;
        margin: 0px auto 10px;
        display: block;
      }
      #hon-logo .hon-brand span{
        font-size: 1.2em;
        color: rgb(104, 115, 122);
      }
      #hon-logo .hon-brand span:last-child{
        font-weight: 600;
        color: rgb(48, 48, 48);
        border-left-color: rgb(230, 41, 0);
      }
      .form-signin {
        margin-top: 50px;
        margin-bottom: 25px;
      }
      .form-signin label{
        margin-top: 10px;
        font-size: 1.3em;
        text-shadow: rgba(255, 255, 255, 0.9) 1px 1px 0px;
      }
      .form-signin .form-control{
        margin-bottom: 10px;      
      }
      .form-signin .btn {
        margin-top: 20px;
        border: none;
        color: rgb(48, 48, 48) !important;
        background-color: rgb(251, 186, 32) !important;
      }
    </style> 

</head>

<body>

<div class="container">

  <header>
    <div id="hon-logo">
      <img src="{!URLFOR($Resource.goldweek_resources,'img/honeywell-logo.svg')}" />
      <div class="hon-brand">
        <span>GOLD WEEK</span>
        <span>SHANGHAI</span>
      </div>
    </div>
  </header>

  <form class="form-horizontal form-signin col-sm-offset-3 col-sm-6" action="https://cwa.honeywell.com/login.do" method="post" name="cwa_login">
    <label for="user-nameid">Honeywell ID</label>
    <input type="text" id="user-nameid" name ='username' class="form-control" placeholder="EID" required="required" autofocus="autofocus" />
    <label for="inputPassword">Password</label>
    <input type="password" id="inputPassword" name="password" class="form-control" placeholder="LDAP" required="required" aria-describedby="helpBlock" />
    <span id="helpBlock" class="help-block"><a href="https://na19.salesforce.com/secur/forgotpasswordp.jsp?orgId=00D30000000dWxY&portalId=060a0000000wsCU&retURL=/apex/IdeaExchange">Forgot your username/password?</a></span>
    <input type="hidden" value="2672" name="appid" />
    <button type="submit" id="signin-id" class="btn btn-lg btn-primary btn-block" name="honidsubmit" value="Sign In">Sign In</button>
  </form>

</div> <!-- /container -->

<!--  Loader Icon  -->
<div class="hon-loader">
    <div class="hon-loader-overlay"></div>
    <div class="spinner">
      <div class="double-bounce1"></div>
      <div class="double-bounce2"></div>
    </div>
</div>

<!-- Error Popup alert begins-->
<div class="modal fade" id="error_modal" tabindex="-1" role="dialog" aria-labelledby="error_modal_title">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="error_modal_title">Login Error</h4>
      </div>
      <div class="modal-body">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>
<!-- Error Popup alert ends -->

<script src="{!URLFOR($Resource.goldweek_resources,'js/jquery.min.js')}"></script>
<script src="{!URLFOR($Resource.goldweek_resources,'js/bootstrap.min.js')}"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="{!URLFOR($Resource.goldweek_resources,'js/ie10-viewport-bug-workaround.js')}"></script>
<script src="{!URLFOR($Resource.goldweek_resources,'js/goldweek.js')}"></script>
<script>
function checkCookie(){

    var cookieEnabled=(navigator.cookieEnabled)? true : false

    if (typeof navigator.cookieEnabled=="undefined" && !cookieEnabled){ 
        document.cookie="testcookie";
        cookieEnabled=(document.cookie.indexOf("testcookie")!=-1)? true : false;
    }
    return (cookieEnabled)?true:showCookieFail();
}

function showCookieFail(){
  window.location.replace("http://honeywellaero.force.com/PacIdeas/IdeaExchCookieError");
}

$(document).ready(function () {

  /* Added for error url conditions */
  var thisURL = document.URL;
  var error_body;

  if( localStorage.GW_usrnm != null && localStorage.GW_psswd != null && thisURL.indexOf("cwa01") == -1 && readCookie("GW_logout") != "true" ){
    $(".hon-loader").show();    
    $("#user-nameid").val(localStorage.GW_usrnm);
    $("#inputPassword").val(localStorage.GW_psswd);
    $(".form-signin").submit();
  }

  addToHomescreen({
    maxDisplayCount: 2
  });

  // within a window load,dom ready or something like that place your:
  checkCookie();

  $(".form-signin").submit(function(){

    if (("standalone" in window.navigator) && window.navigator.standalone) {
      localStorage.GW_usrnm = $("#user-nameid").val();
      localStorage.GW_psswd = $("#inputPassword").val();
      eraseCookie("GW_logout");
    }
    $(".hon-loader").show();

  });
  
  /*if(thisURL.indexOf("LogoutParam") == -1)location.replace("https://cwa.honeywell.com/ssoagent.do?cwa.appid=2672");*/

  if( thisURL.indexOf("cwa") != -1 ){
    
    if(thisURL.indexOf("cwa01") != -1)
      error_body = "The Honeywell ID or Password entered may be incorrect. Please verify.";
    if(thisURL.indexOf("cwa02") != -1)
      error_body = "User Account is locked due to number of unsuccessful login attempts above the allowed limit. Please contact the Honeywell IT Helpdesk.";
    if(thisURL.indexOf("cwa03") != -1)
      error_body = "Your password has expired. Please contact the Honeywell IT Helpdesk.";
    if(thisURL.indexOf("cwa04") != -1)
      error_body = "You do not have enough privileges to access this application. Please contact the Salesforce support team.";
    if(thisURL.indexOf("cwa06") != -1)
      error_body = "The application has encountered an unknown error. Please try again or contact the Honeywell IT Helpdesk for assistance.";
    if(thisURL.indexOf("cwa05") == -1){
        $("#error_modal .modal-body").text(error_body);
        $('#error_modal').modal('show');
    }
  }
});
</script>
</body>
</html>
<apex:insert name="footer">
        <c:honeywellFooter1 />
</apex:insert>
</apex:page>