<!-- 
    Apttus Contract Management
    AgreementClone
     
    @2009-2017 Apttus Inc. All rights reserved.

 -->
<apex:page standardController="Apttus__APTS_Agreement__c" 
		   extensions="Apttus.AgreementCloneController" >
    <apex:variable var="isLightning" value="{!$User.UIThemeDisplayed == 'Theme4d'}"  />
    <apex:variable var="isSalesforce1" value="{!$User.UIThemeDisplayed == 'Theme4t'}" />
	 
    
	 <apex:variable var="isIncludecss" value="{!isLightning  || isSalesforce1 }" 
                   rendered="{!isLightning || isSalesforce1}">
        <apex:stylesheet value="{!URLFOR($Resource.Apttus__LightningResource, 'css/agreement-clone-styling.css')}" />
        <apex:stylesheet value="{!URLFOR($Resource.Apttus__SLDS080, 'assets/styles/salesforce-lightning-design-system-vf.css')}" />
        <style>
            html body.sfdcBody {
            padding:0 0 0 0;
            }
           	body .bPageBlock .detailList tr td, body .bPageBlock .detailList tr th, body table.list tr td, body table.list tr th, body .hoverDetail .bPageBlock .detailList tr td, body .hoverDetail .bPageBlock .detailList tr th{
            	border-color:#f4f6f9;
            }
			body .bPageBlock, body #bodyCell .bResource .secondaryPalette, body .secondaryPalette.bPageBlock, body .individualPalette .secondaryPalette.bPageBlock, body .bodyDiv .genericTable, body .genericPageBlockTable, body .bodyDiv .bSubBlock, body .bComponentBlock .bPageBlock, body .bMyDashboard .bPageBlock, body.rlHoverFrame .bPageBlock, body.subjectSelectionPopup div.choicesBox, body.lookupTab .secondaryPalette.bPageBlock, body.popupTab .secondaryPalette.bPageBlock, body.UserTagStatsPage .secondaryPalette.bPageBlock{
				border-color:#f4f6f9;
            	border-bottom:#f4f6f9;
            	border-left:#f4f6f9;
            	border-right:#f4f6f9;
            }            
        </style>
    </apex:variable>
        <script language="Javascript">
			/** Handle Click disable button and invoke Action
			*/	    
		    function SubmitOnClick (objSubmitBtn) {
		        
		        var isFirefox = typeof InstallTrigger !== 'undefined';
		        var isChrome = !!window.chrome && !!window.chrome.webstore;
		        
		        if(isFirefox == true){
		            objSubmitBtn.className = 'btnDisabled';
		        }
		        else if(isChrome == true){
		            objSubmitBtn.disabled = true;
		            objSubmitBtn.className = 'btnDisabled';
		            doSubmit();
		        }
		            else{
		                objSubmitBtn.className = 'btnDisabled';
		            }
		        return true;
		    }
    
    </script>	   
	<apex:form >	
        <apex:outputPanel rendered="{!!(isLightning || isSalesforce1)}">
		<!--  required fields -->
		<apex:outputText value="{!Apttus__APTS_Agreement__c.Name}" rendered="false"/>
		
      	<apex:pageBlock rendered="{!NOT(isInitialized) && NOT(hasErrors)}">
			<apex:pageBlockButtons location="bottom">
				<apex:commandButton value="{!$Label.apttus__continue}"  onclick="return SubmitOnClick(this);" action="{!onLoad}" />
				<apex:commandButton value="{!$Label.apttus__cancel}" action="{!doCancel}" immediate="true" />
		    </apex:pageBlockButtons>
		    <apex:pageBlockSection title="{!$Label.apttus__cloneagreement}" columns="2" collapsible="false">
				<apex:outputField value="{!Apttus__APTS_Agreement__c.Name}" rendered="{!NOT(isLightningTheme)}"/>
				<apex:inputField value="{!Apttus__APTS_Agreement__c.Name}" required="true" rendered="{!isLightningTheme}"/>

				<apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__FF_Agreement_Number__c}"/>

				<apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Contract_Start_Date__c}" rendered="{!NOT(isLightningTheme)}"/>
				<apex:inputField value="{!Apttus__APTS_Agreement__c.Apttus__Contract_Start_Date__c}" rendered="{!isLightningTheme}"/>

				<apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Contract_End_Date__c}"/>
				<apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Status__c}"/>
				<apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Status_Category__c}"/>
				<apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Requestor__c}"/>
				<apex:outputField value="{!Apttus__APTS_Agreement__c.OwnerId}"/>
		    </apex:pageBlockSection>
		</apex:pageBlock>
		
		<apex:pageBlock mode="edit" rendered="{!hasErrors}" >
			<apex:pageMessages />
			<apex:pageBlockButtons location="bottom" >
				<apex:commandButton action="{!doCancel}" value="{!$Label.apttus__cancel}" immediate="true"/>
			</apex:pageBlockButtons>
		</apex:pageBlock>
        </apex:outputPanel>
        <apex:outputPanel rendered="{!isLightning || isSalesforce1}">
            <div class="slds" width="95%">
                <div class="" role="banner" >
                    <div class="slds-wrap"> 
                        <apex:outputPanel id="messageLightening">
                            <apex:pageBlock mode="edit" rendered="{!hasErrors}" >
                                <apex:pageMessages />
                            </apex:pageBlock>
                        </apex:outputPanel> 
                    </div>
                    <div class="slds-wrap"> 
                        <div class="slds-page-header" role="banner">
                            
                            <h1 class="slds-text-heading--medium">{!$Label.apttus__cloneagreement}</h1>
                            <div> 
                                <div class="slds-wrap"></div>
                                <div  class="slds-wrap"> 
                                    <apex:pageBlock rendered="{!NOT(isInitialized) && NOT(hasErrors)}" >
                                        <apex:pageBlockSection columns="{!if(isSalesforce1,1,2)}" collapsible="false" >
                                            
                                            <apex:inputField value="{!Apttus__APTS_Agreement__c.Name}" required="true" styleClass="fieldcontrol" />
                                            
                                            <apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__FF_Agreement_Number__c}"/>
                                            
                                            <apex:inputField value="{!Apttus__APTS_Agreement__c.Apttus__Contract_Start_Date__c}" rendered="{!isLightningTheme}"/>
                                            
                                            <apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Contract_End_Date__c}"/>
                                            <apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Status__c}"/>
                                            <apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Status_Category__c}"/>
                                            <apex:outputField value="{!Apttus__APTS_Agreement__c.Apttus__Requestor__c}"/>
                                            <apex:outputField value="{!Apttus__APTS_Agreement__c.OwnerId}"/>
                                        </apex:pageBlockSection>
                                        
                                        
                                        
                                    </apex:pageBlock>
                                </div>
                                
                                <div  class="slds-wrap"></div>
                            </div>
                        </div>
                        
                    </div>
                    <div class="slds-wrap"> 
                        <div class="slds-page-header" role="banner">
                            <div class="slds-grid"> 
                                <div class="slds-col"></div>
                                <div class="slds-grid slds-grid_align-end">
                                    <apex:commandButton styleclass="slds-button slds-button--neutral"  value="{!$Label.apttus__cancel}"  action="{!doCancel}" />
                                    &nbsp;
                                    <apex:commandButton styleclass="slds-button slds-button--brand" onclick="return SubmitOnClick(this);" value="{!$Label.apttus__continue}" action="{!onLoad}"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </apex:outputPanel>
		<apex:actionFunction name="doSubmit" action="{!onLoad}" />
	</apex:form>
	
</apex:page>