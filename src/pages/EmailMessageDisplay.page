<!--
Created By : Puvaneswari
Created Date : 10-March-2020
Usages : Section display Email list from Case in Case Quality Audit-->
<apex:page standardController="Case_Quality_Audit__c" extensions="CaseQualityController" action="{!Emails}" applyHtmlTag="{!$CurrentPage.parameters.showFullList == 'true'}" showHeader="{!$CurrentPage.parameters.showFullList == 'true'}">
    <apex:form >
        <style type="text/CSS">
            body{
            font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;         
            }
            
            .center{
            text-align:center;
            }
            
            .table-bordered {
            border: 1px solid #000;
            border-collapse : collapse;
            font-size : .7em;
            }
            
            
            thead>tr>th {
            vertical-align: bottom;
            border: 1px solid #000;
            border-spacing: 0;
            text-align:center;
            border-collapse: collapse;
            background : #202d79;
            color:white;
            }
            
            td {
            vertical-align: bottom;
            border: 1px solid #000;
            border-spacing: 0;
            border-collapse: collapse;
            text-align:center;
            }
            
            .header>td{
            font-weight:bold;
            background : #c4c4c4;               
            }
            
            .echoArea>td{
            padding:10px;
            }   
            
            @page {
            size: letter;
            margin: 25mm;
            margin-top: 0.8cm;
            }
            @bottom-center {
            content: "Page " counter(page) " of " counter(pages);
            }
            
            .page-break {
            display:block;
            page-break-after:always;
            }
            
            body {
            font-family: Arial Unicode MS;
            }
            .sample{
            font-weight: bold;
            align :center;
            } 
            
        </style>
        
        <apex:pageBlock >
            <apex:pageBlockSection rendered="{! IF(mailMessage.size > 0, true, false)}">
                <div class="slds-grid slds-grid_frame">
                    <div class="slds-card__body">
                        <table>
                            <thead>
                                <tr >
                                    <th scope="col" >
                                        <div title="Departments">STATUS &nbsp;</div>
                                    </th> 
                                    <th scope="col">
                                        <div title="Type">SUBJECT</div>
                                    </th>
                                    <th class="slds-cell-shrink" scope="col">
                                        <div class="slds-truncate" title="Phone">FROM ADDRESS</div>
                                    </th>
                                    <th class="slds-cell-shrink" scope="col" >
                                        <div class="slds-truncate" title="Phone">TO ADDRESS</div>
                                    </th>
                                    <th class="slds-cell-shrink" scope="col" >
                                        <div class="slds-truncate" title="Phone">MESSAGE DATE</div>
                                    </th>
                                </tr>
                            </thead>
                            <apex:repeat value="{!mailMessage}" var="a">
                                <tbody>
                                    <tr class="slds-hint-parent">
                                        <td scope="row">
                                            <div class="slds-truncate" >{!a.Status} &nbsp;</div>
                                        </td>
                                        <td scope="row" width="35%">
                                            <div class="slds-truncate" ><a href="{!'/'+a.id}" target="_parent">{!a.Subject}</a></div>
                                        </td>
                                        <td scope="row" >
                                            <div class="slds-truncate" >{!a.FromAddress}</div>
                                        </td>
                                        <td scope="row">
                                            <div class="slds-truncate">{!a.ToAddress}</div>
                                        </td>
                                        <td scope="row">
                                            <div class="slds-truncate">{!a.MessageDate}</div>
                                        </td>
                                    </tr>
                                </tbody>
                            </apex:repeat>
                        </table>
                    </div></div>
            </apex:pageBlockSection>
            <apex:pageBlockSection rendered="{!! IF(mailMessage.size > 0, true, false)}">
                <apex:outputText ><p style="text-align:center"><b><i>Case has no emails to display</i></b></p></apex:outputText>
            </apex:pageBlockSection>  
        </apex:pageBlock>
    </apex:form>
</apex:page>