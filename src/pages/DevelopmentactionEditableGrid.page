<apex:page StandardController="Sales_Competency__c" Extensions="DevelopmentactionEditableGrid" id="thePage" >
<script>
        function refreshme()
        {
            parent.window.opener.location.reload(true); 
        }
        
        </script>
<apex:form id="theForm">
    <apex:outputPanel id="refresh" rendered="true">
            <apex:outputPanel id="refresh1" rendered="{!refreshPage}">
                <script>
                     window.top.location='/{!Sales_Competency__c.Id}';
                </script>
            </apex:outputPanel>
        </apex:outputPanel>
        
<apex:pageBlock id="pgBlock">
    <apex:Messages id="errorMessage" style="color: red;  font-weight:bold;"/>
        <apex:pageBlockTable value="{!SalesCompetencies}" var="DA" id="List" >
             <apex:column headerValue="Action">
             
                <apex:commandLink value="Edit" reRender="List,pgBlock" rendered="{!if(NOT(DA.edit),true,false)}">
                    <apex:param assignTo="{!DA.edit}" name="edit" value="True"/>
                    <apex:param assignTo="{!strSCId}" name="SCId" value="{!DA.Id}"/>
                </apex:commandLink>
                
                <apex:commandLink value="Save" action="{!saveRecord}" reRender="pgBlock" rendered="{!DA.edit}" >
                    <apex:param assignTo="{!DA.edit}" name="edit" value="false"/>
                    <apex:param assignTo="{!saveId}" name="saveId" value="{!DA.Id}"/>
                </apex:commandLink>
                
                <br></br>
                <apex:commandLink value="Cancel" action="{!cancel}" reRender="List" rendered="{!DA.edit}">
                    <apex:param assignTo="{!DA.edit}" name="edit" value="False"/>
                </apex:commandLink>
                
            </apex:column>
            
            <apex:column headerValue="Action Id">
                <!--<apex:outputText value="{!DA.DA.Name}"/>   -->
                <apex:outputLink value="/{!DA.Id}" target="_parent">{!DA.DA.Name}</apex:outputLink>               
            </apex:column>
            
            <apex:column headerValue="Competency">
                <apex:outputField value="{!DA.DA.Competency__c}"/>                
            </apex:column>
            
            <apex:column headerValue="Action Steps">
                <apex:outputField value="{!DA.DA.Action_Steps__c}"/>                
            </apex:column>
            
            <apex:column headerValue="Target Completion Date">
                <apex:outputField value="{!DA.DA.Target_Completion_Date__c}"/>                
            </apex:column>
            
            <apex:column headerValue="Actual Completion Date">
                <apex:outputField value="{!DA.DA.Actual_Completion_Date__c}"/>                
            </apex:column>
            
            <apex:column headerValue="Requires Follow-up" id="colheader">
                <apex:outputField value="{!DA.DA.Requires_Follow_up__c}" rendered="{!NOT(DA.edit)}" id="RequiresFollow1"/> 
                <apex:inputField value="{!DA.DA.Requires_Follow_up__c}"  rendered="{!DA.edit}" id="RequiresFollow"/>  
                             
            </apex:column>
            
            <apex:column headerValue="Follow-up Date" id="datecol">
                <apex:outputField value="{!DA.DA.Follow_Up_Date__c}" rendered="{!NOT(DA.edit)}"/> 
                <apex:inputField value="{!DA.DA.Follow_Up_Date__c}"  rendered="{!DA.edit}" id="DateFollow"/>                 
            </apex:column>
            
            <apex:column headerValue="Action Accepted">
                <apex:outputField value="{!DA.DA.Action_Accepted__c}" rendered="{!NOT(DA.edit)}"/>   
                <apex:inputField value="{!DA.DA.Action_Accepted__c}"  rendered="{!DA.edit}" required="{!DA.edit}" />             
            </apex:column>
            
        </apex:pageBlockTable>
       </apex:pageBlock>
</apex:form>
</apex:page>