<apex:page cache="false"  standardController="Case" extensions="BGAMobCustomWebtocase,BGATechserre"  showHeader="false" standardStylesheets="false">
<html lang="en"> 
<head>
<meta charset="utf-8" />
<meta http-equiv="refresh" content="900" />
<title>Direct Access</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes"/>
<!-- Le styles -->
<link href="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'css/jquery.mobile-1.3.1.min.css')}" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
<link href="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'css/common.css')}" rel="stylesheet" type="text/css" />
<link href="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'css/desktop.css')}" rel="stylesheet" type="text/css" />
<link href="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'css/tablet.css')}" rel="stylesheet" type="text/css" />
<link href="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'css/smartphone.css')}" rel="stylesheet" type="text/css" />
<link href="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'css/RetinaPhone.css')}" rel="stylesheet" type="text/css" />
<link href="{!URLFOR($Resource.HoneywellFonts)}" />
<script type="text/javascript" src="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'js/jquery-1.9.1.min.js')}"></script> 
<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<script type="text/javascript" src="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'js/jquery.mobile-1.3.1.min.js')}"></script>  
<script type="text/javascript" src="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'js/common.js')}"></script>
<script type="text/javascript" src="{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'js/forcetk.js')}"></script>
<script type="text/javascript" src="{!URLFOR($Resource.jqueryCookieJS)}"></script>
<!--  Support for IE8  -->
<apex:includeScript value="{!URLFOR($Resource.BGAMob_IESupport)}"/>
<style>
.ui-btn-inner {
    padding: 5px 20px;
}
.ui-tooltip, .arrow:after {
    background: #EFEEEC;
    border: 2px solid white;
}
.ui-tooltip {
    padding: 10px 20px;
    color: black;
    border-radius: 20px;
    font: bold 14px "Helvetica Neue", Sans-Serif;

    box-shadow: 0 0 7px black;
}
.arrow {
    width: 70px;
    height: 16px;
    overflow: hidden;
    position: absolute;
    left: 50%;
    margin-left: -35px;
    bottom: -16px;
}
.arrow.top {
    top: -16px;
    bottom: auto;
}
.arrow.left {
    left: 20%;
}
.arrow:after {
    content: "";
    position: absolute;
    left: 20px;
    top: -20px;
    width: 25px;
    height: 25px;
    box-shadow: 6px 5px 9px -9px black;
    -webkit-transform: rotate(45deg);
    -moz-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    -o-transform: rotate(45deg);
    tranform: rotate(45deg);
}
.arrow.top:after {
    bottom: -20px;
    top: auto;
}
</style>
<style>
.Mandatory {
    color:#FF0000;
    font-size:150%;
}
.ui-select .ui-btn {
    border-radius: 9px;
    margin: 0.5em 0px;
}
.ui-icon-loading {
    background-image: url("{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'css/images/ajax-loader.gif')}") !important;
}
.ui-icon {
    width: 18px;
    height: 18px;
    background-image: url("{!URLFOR($Resource.BGAMob_JQueryMobile_zip, 'css/images/icons-18-white.png')}");    
}
#clearBtn{
    float: right;
    position: relative;
    margin-top: -9%;
    margin-right: 1%;
} 
textarea{
    max-height: 45px;
}
@font-face{
   font-family:HoneywellSans-Medium;
   src:url("{!URLFOR($Resource.HoneywellFonts,'HoneywellFonts/HoneywellSans-Medium.eot?#iefix')}");
   src:url("{!URLFOR($Resource.HoneywellFonts,'HoneywellFonts/HoneywellSans-Medium.eot?#iefix')}") format("eot"),
       url("{!URLFOR($Resource.HoneywellFonts,'HoneywellFonts/HoneywellSans-Medium.woff2')}") format("woff2"),
       url("{!URLFOR($Resource.HoneywellFonts,'HoneywellFonts/HoneywellSans-Medium.woff')}") format("woff"),
       url("{!URLFOR($Resource.HoneywellFonts,'HoneywellFonts/HoneywellSans-Medium.ttf')}") format("truetype"),
       url("{!URLFOR($Resource.HoneywellFonts,'HoneywellFonts/HoneywellSans-Medium.svg')}") format("svg");
}
.HelveThin {
    font-family: HoneywellSans-Medium;
}
</style>
<script type="text/javascript">
$(document).ready(function() {
    /*var $this = $( this ),
        theme = $this.jqmData( "theme" ) || $.mobile.loader.prototype.options.theme,
        msgText = $this.jqmData( "msgtext" ) || $.mobile.loader.prototype.options.text,
        textVisible = $this.jqmData( "textvisible" ) || $.mobile.loader.prototype.options.textVisible,
        textonly = !!$this.jqmData( "textonly" );
        html = $this.jqmData( "html" ) || ""; */
    if (("standalone" in window.navigator) && window.navigator.standalone) {
  // For iOS Apps
  $("a").on("click", function(e){
    var new_location = $(this).attr("href");
    if (new_location != undefined && new_location.substr(0, 1) != "#" && new_location!='' && $(this).attr("data-method") == undefined){
      e.preventDefault();
      window.location = new_location;
    }
  });
}       
    var userAgent = navigator.userAgent;   
    if (userAgent.match(/(iPad|iPhone|iPod|Mobile|Android|BlackBerry)/g)) {    
        $("#aog-caseNo-page .aog-content").height($(document).height() - 10);
    }
    else {   
        $("#aog-caseNo-page .aog-content").height($(document).height() - 100);
    }          
    // Tool Tip Code
    $(function() {
        $( document ).tooltip({
            position: {
                my: "center bottom-20",
                at: "center top",
                using: function( position, feedback ) {
                    $( this ).css( position );
                    $( "<div>" )
                    .addClass( "arrow" )
                    .addClass( feedback.vertical )
                    .addClass( feedback.horizontal )
                    .appendTo( this );
                }
            }
        });
    });
    // Populating the picklist     
    $("#make-choice").empty().append("<option value=''>Select a value</option>").attr( 'selected', 'true' );  
    BGAMobCustomWebtocase.getMakeLists(function(result, event){
        if(event.status) {
            var cookieVal = readCookie('selectBoxValue');
            if(result.length !=0) {
                for (var i=0; i<result.length; i++) {
                    if(cookieVal-1 == i){
                        $("#make-choice").append("<option value='"+result[i]+"' selected='selected'>"+result[i]+"</option>");
                    }else{
                        $("#make-choice").append("<option value='"+result[i]+"'>"+result[i]+"</option>");
                    }
                }
                $('#make-choice').selectmenu( "refresh", true ).selectmenu('enable');
            }
        }
        else {
            alert('Please try again after sometime');
        }
    });
   
    $(function() {
        $( ".datepicker" ).datepicker({ dateFormat: 'yy-mm-dd' , minDate: 0});
    });
     $("#IEbtn").click(function(){      
    var phone = $("#phone").val();
    var mail = $("#Email").val();
    var alter = $("#Alter").val();    
    var ser = $("#serial").val();
    var tal= $('#tail').val();
    var mak=$('#make-choice option:selected').val();  
    var modl= $('#model').val();
    var loc = $('#location').val();
    var nextval = $('#next').val();
    var descrp = $('#Desc').val();
    
    if(phone == "") {
        $.mobile.silentScroll(0);
        $("#Phone-no").text("Please enter the Phone Number.");
    } else {
        $("#Phone-no").text("");
        var filter = /^[0-9-+()\sxX]+$/;
        if (!(filter.test(phone))) 
        {
            $.mobile.silentScroll(0);
            $("#Phone-no").text("Please enter valid Phone Number.");
            return false;
        }
    }    
    if(mail == "") { 
        $.mobile.silentScroll(0);
        $("#mail").text("Please enter the Business Email Address.");
    } else  {
       $("#mail").text("")
       if(!isValidEmailAddress(mail))
       {
            $.mobile.silentScroll(0);
            $("#mail").text("Please enter valid email address");
            return false;
       }    
    }
    if(alter == "") { 
        $.mobile.silentScroll(0);
        $("#alter").text("Please enter the alternative Email Address.");
    } else  {
       $("#alter").text("")
       if(!isValidEmailAddress(alter))
       {
            $.mobile.silentScroll(0);
            $("#alter").text("Please enter valid email address");
            return false;
       }   
    }    
    if (ser == "") {
       $.mobile.silentScroll(0);
        $("#Serial").text("Please enter the Aircraft Serial Number.");
    } else {
        $("#Serial").text("");
    }
    if(tal == "") {
       $.mobile.silentScroll(0);
        $("#Tail-no").text("Please enter the Aircraft Tail Number.");
    } else {
        $("#Tail-no").text("");
    } 
    if(modl == "") {
      // $.mobile.silentScroll(0);
        $("#Model").text("Please enter the Aircraft Type/Model.");
    } else  {
        $("#Model").text("");
    }     
    if(loc == "") {
     //  $.mobile.silentScroll(0);
        $("#Location").text("Please enter the Aircraft Location Number.");
    } else  {
        $("#Location").text("");
    }    
    if(mak == "") {
        $.mobile.silentScroll(0);
        $("#Make").text("Please enter the Aircraft Make.");
    } else  {
        $("#Make").text("");
    }    
    if(nextval == "") {
        
        $("#Nextval").text("Please enter the Next Flight Out Date/MEL Expiration Date.");
    } else {
        $("#Nextval").text("");                   
       if(isPastDate(nextval))
        {
         $("#Nextval").text("Next Flight Out Date/MEL Expiration Date cannot be in the past.");
          return false;
        }       
    } 
    if(descrp == "" ) {
        $("#descrp").text("Please enter the Problem Description.");
    } else  {
        $("#descrp").text("");
    }       
    if(phone !="" && mail != "" && alter != "" && ser != "" && tal != "" && modl != "" && mak != "" && loc != "" && nextval != "" && descrp != ""  )
    {
       $("#IEbtn").attr('href',"mailto:{!EmailAog}?Subject=AOG Request From BGA Mobile App&body=Case Details: "+"%0D%0A %0D%0A"+"Phone: "+phone
       +"%0D%0A %0D%0A"+"Business Email Address: "+mail+"%0D%0A %0D%0A"+" Alternative Email Address: "+alter+"%0D%0A %0D%0A"+"Aircraft Serial Number: "+ser+"%0D%0A %0D%0A"+"Aircraft Tail Number: "+tal+"%0D%0A %0D%0A"+"Aircraft Make: "+mak
       +"%0D%0A %0D%0A"+"Aircraft Type/Model: "+modl+"%0D%0A %0D%0A"+"Aircraft Location: "+loc+"%0D%0A %0D%0A"+"Next Flight Out Date/MEL Expiration Date: "+nextval
       +"%0D%0A %0D%0A"+"Problem Description: "+descrp+"%0D%0A %0D%0A"+"Sent from Honeywell's Direct Access");      
     }            
   });
    var ua = navigator.userAgent; 
        var msie = false;
        //Javascript Browser Detection - Internet Explorer
        if (/MSIE (\d+\.\d+);/.test(ua)) //test for MSIE x.x; True or False
        {
            var msie = (/MSIE (\d+\.\d+);/.test(ua)); //True or False
            var ieversion = new Number(RegExp.$1); //gets browser version
            
            if(ieversion<10){
            $("#commentForm").hide();
           $("#attachFileDiv").hide();
            
            }
            else
              $("#IEbtn").hide();
       }
        else if (ua.indexOf("BlackBerry") >= 0)
        {
           $("#commentForm").hide();
            $("#attachFileDiv").hide();
         }
        else
         $("#IEbtn").hide();
         
        $("#clearBtn").hide();
        $("#clearBtn").click(function(){
             $('[id$=attachmentFile]').val('');
             $("#clearBtn").hide();
        });
       
        $("input[type='file']").change( function() {
              if( $("#attachmentFile").val()!= ""){
                      // IF THE BROWSER IS INTERNET EXPLORER 10
                    if (navigator.appVersion.indexOf("MSIE 10") != -1)
                    {
                     //   window.alert('This is IE 10');
                       // $("#clearBtn").hide();
                       $('#clearBtn').css("display","none");
                    }else{
                  //  window.alert('This is NOT IE 10');
                     $("#clearBtn").show();
                    }
              }
        });
        //Set cookie - INC000005753027               
        var ca = document.cookie.split(';');
        for(var i=0; i<ca.length; i++) 
        {
            var c = ca[i].trim();
            //alert(c);
            if(c.indexOf("phone") != -1  )
            {
                var c1 = c.substring(6);
                //alert('inside phone  '+c1);
                $("#phone").val(c1);
            }
            if(c.indexOf("email") != -1){
                var c2 = c.substring(6);
                $("#Email").val(c2);
            }  
            if(c.indexOf("alter") != -1){
                var c3 = c.substring(6);
                $("#Alter").val(c3);
            }
            //alert(c);
            if(c.indexOf("Serial") != -1){
                var c4 = c.substring(7);               
                $("#serial").val(c4);
            } 
            if(c.indexOf("Tail-no") != -1){             
                var c5 = c.substring(8);
                //alert('inside Tail-no'+c5);
                $("#tail").val(c5);
            }           
            if(c.indexOf("Make") != -1){
                var c8 = c.substring(5);
                //alert('inside make'+c8);
                var mak="make-choice" + c8;
                //alert(mak);                                           
            }
            if(c.indexOf("Model") != -1){
                var c6 = c.substring(6);
                $("#model").val(c6);
            }
            if(c.indexOf("Location") != -1){
                var c7 = c.substring(9);
                $("#location").val(c7);
            }
            if(c.indexOf("Nextval") != -1){
                var c9 = c.substring(8);
                $("#next").val(c9);
            }
            if(c.indexOf("descrp") != -1){
                var c10 = c.substring(7);
                $("#Desc").val(c10);
            }           
        }       
        //Set cookie - INC000005753027        
        $('#Email').blur(function(){
            if($('#Email').val() != '')
                $('#Alter').val($('#Email').val() );
        });                
});

function changeSelectedvalue()
{
    var mySelectedIndex = document.getElementById('make-choice').selectedIndex;
    //alert(mySelectedIndex);
    createCookie("selectBoxValue",mySelectedIndex,1000);
}
function readCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}
function createCookie(name,value,days) {
    
    //alert('inside createcokkie');
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}
// On click of submit button - Validation part
function submitform()
{    
    var phone = $("#phone").val(); 
    var mail = $("#Email").val();
    var alter = $("#Alter").val();
    var ser = $("#serial").val();
    var tal= $('#tail').val();
    var mak=$('#make-choice option:selected').val();  
    var modl= $('#model').val();
    var loc = $('#location').val();
    var nextval = $('#next').val();
    var descrp = $('#Desc').val();
    
    var file = document.getElementById('j_id0:attachmentFile').files[0];
       //alert(file.size);
    
    if(phone == "") {
         $.mobile.silentScroll(0);
         $("#Phone-no").text("Please enter the Phone Number.");
    } else {
        $("#Phone-no").text("");
        var filter = /^[0-9-+()\sxX]+$/;
        if (!(filter.test(phone))) 
        {
         $.mobile.silentScroll(0);
         $("#Phone-no").text("Please enter valid Phone Number.");
          return false;
        }
        //Save in cookie - INC000005753027
       document.cookie="phone=" + phone + ";";
       //Save in cookie - INC000005753027
    }    
    if(mail == "") { 
        $.mobile.silentScroll(0);
        $("#mail").text("Please enter the Business Email Address.");
    } else  {
       $("#mail").text("")
       if(!isValidEmailAddress(mail))
       {
            $.mobile.silentScroll(0);
            $("#mail").text("Please enter valid email address");
            return false;
       }
       //Save in cookie - INC000005753027
       document.cookie="email=" + mail + ";";
       //Save in cookie - INC000005753027
    }
    if(alter == "") { 
        $.mobile.silentScroll(0);
        $("#alter").text("Please enter the Alternative Email Address.");
    } else  {
       $("#alter").text("")
       if(!isValidEmailAddress(alter))
       {
            $.mobile.silentScroll(0);
            $("#alter").text("Please enter valid email address");
            return false;
       }
       //Save in cookie - INC000005753027
       document.cookie="alter=" + alter + ";";
       //Save in cookie - INC000005753027
    }
    if (ser == "") {
       $.mobile.silentScroll(0);
        $("#Serial").text("Please enter the Aircraft Serial Number.");
    } else {
        $("#Serial").text("");
        //Save in cookie 
       document.cookie="Serial=" + ser + ";";
       //Save in cookie 
    }

    if(tal == "") {
       $.mobile.silentScroll(0);
        $("#Tail-no").text("Please enter the Aircraft Tail Number.");
    } else {
        $("#Tail-no").text("");
        //Save in cookie 
       document.cookie="Tail-no=" + tal + ";";
       //Save in cookie 
    } 
    if(modl == "") {
      // $.mobile.silentScroll(0);
        $("#Model").text("Please enter the Aircraft Type/Model.");
    } else  {
        $("#Model").text("");
        //Save in cookie 
       document.cookie="Model=" + modl + ";";
       //Save in cookie
    }     
    if(loc == "") {
     //  $.mobile.silentScroll(0);
        $("#Location").text("Please enter the Aircraft Location Number.");
    } else  {
        $("#Location").text("");
        //Save in cookie 
       document.cookie="Location=" + loc + ";";
       //Save in cookie
    }    
    if(mak == "") {
        $.mobile.silentScroll(0);
        $("#Make").text("Please enter the Aircraft Make.");
    } else  {
        $("#Make").text("");
        //Save in cookie 
       document.cookie="Make=" + mak + ";";
       //Save in cookie
    }   
    if(nextval == "") {        
        $("#Nextval").text("Please enter the Next Flight Out Date/MEL Expiration Date.");
    } else {
        $("#Nextval").text("");                    
        if(isPastDate(nextval))
        {
         $("#Nextval").text("Next Flight Out Date/MEL Expiration Date cannot be in the past.");
          return false;
        } 
        //Save in cookie 
       document.cookie="Nextval=" + nextval + ";";
       //Save in cookie     
    } 
    if(descrp == "" ) {
        $("#descrp").text("Please enter the Problem Description.");
    } else  {
        $("#descrp").text("");
        //Save in cookie 
       document.cookie="descrp=" + descrp + ";";
       //Save in cookie
    } 
    if(phone !="" && mail != "" && alter != "" && ser != "" && tal != "" && modl != "" && mak != "" && loc != "" && nextval != "" && descrp != ""  )
    {      
        //$.mobile.loading( "show" );  
        $(".bga-loader").show(); // To Show loader      
        uploadFile(phone,mail,alter,mak,loc,ser,tal,modl,nextval,descrp);        
        $("#make-choice").empty().append("<option value=''>Select a value</option>").attr( 'selected', 'true' );  
        BGAMobCustomWebtocase.getMakeLists(function(result, event) {
            if(event.status) {
                if(result.length !=0) {
                    for (var i=0; i<result.length; i++) {
                        $("#make-choice").append("<option value='"+result[i]+"'>"+result[i]+"</option>");
                    }
                    $('#make-choice').selectmenu( "refresh", true ).selectmenu('enable');                     
                }
            }
            else {
            }
        });        
    } 
}
//  Upload file functionality
var maxStringSize = 6000000;    //Maximum String size is 6,000,000 characters
var maxFileSize = 104823351;      //After Base64 Encoding, this is the max file size
var chunkSize = 950000;         //Maximum Javascript Remoting message size is 1,000,000 characters
var attachment;
var attachmentName;
var fileSize;
var positionIndex;
var doneUploading;
var caseidval;
var temp;
//Method to prepare a file to be attached to the Account bound to the page by the standardController
function uploadFile(phone,mail,alter,mak,loc,ser,tal,modl,nextval,descrp) {
   // alert('in upload form');
    
    if ( navigator.userAgent.indexOf("MSIE") > 9 ) {
        var str = alter;
        var res = str.split('@');
        var str2 = res[0];
        var str3 = str2.replace('.',' ');   
        str3 = str3.toLowerCase().replace(/\b[a-z]/g, function(letter) {
           return letter.toUpperCase();
        });
        //alert(str3);
        BGAMobCustomWebtocase.insertCase(phone,mail,alter,mak,loc,ser,tal,modl,nextval,descrp, null, null,str3, function(result, event) {           
            if(event.status) {
                $.mobile.changePage("#aog-caseNo-page");
                //$.mobile.loading( "hide" );
                $(".bga-loader").hide();
                var t=result.CaseNumber;
                 temp=t.substr(5,t.length);                
                $("#caseid-alertTxt").text('Thank you for your submittal. You will receive an email confirmation shortly with this Case #' +temp+ ' for further correspondence on this request.');
                $("#phone").val("");
                $("#Email").val("");
                $("#Alter").val("");
                $("#serial").val("");
                $('#tail').val("");
                $('#model').val("");
                $('#location').val("");
                $('#next').val("");
                $('#Desc').val("");
                $("#attachmentFile").val("");   
                $("#make-choice").empty().append("<option value=''>Select a value</option>").attr( 'selected', 'true' );  
                    BGAMobCustomWebtocase.getMakeLists(function(result, event){
                        if(event.status) {
                            if(result.length !=0) {
                                for (var i=0; i<result.length; i++) {
                                    $("#make-choice").append("<option value='"+result[i]+"'>"+result[i]+"</option>");
                                }
                                $('#make-choice').selectmenu( "refresh", true ).selectmenu('enable');
                            }
                        }
                        else {
                        }
                    }); 
            }
        },
        { buffer: true, escape: true, timeout: 120000 }
        );
    }
    else {
        var file = document.getElementById('j_id0:attachmentFile').files[0];
       //alert('you uploaded file size--->'+file.size);
       $(".bga-loader").show(); // To Show loader       
        if(file != undefined) {
            if(file.size <= (25 * 1024 * 1024)) {
                attachmentName = file.name;
                var fileReader = new FileReader();
                fileReader.onloadend = function(e) 
                {
                    attachment = window.btoa(this.result);  //Base 64 encode the file before sending it
                    positionIndex = 0;
                    fileSize = file.size;
                    doneUploading = false;
                    if(file.size <= (25 * 1024 * 1024)) 
                    {
                        var str = alter;
                        var res = str.split('@');
                        var str2 = res[0];
                        var str3 = str2.replace('.',' ');   
                        str3 = str3.toLowerCase().replace(/\b[a-z]/g, function(letter) {
                           return letter.toUpperCase();
                        });
                        BGAMobCustomWebtocase.insertCase(phone,mail,alter,mak,loc,ser,tal,modl,nextval,descrp, null, null,str3, function(result, event) {
                            if(event.status) {                    
                                //$.mobile.loading( "hide" );
                                //$.mobile.changePage("#aog-caseNo-page");
                                var t=result.CaseNumber;
                                temp=t.substr(5,t.length);
                                var temp1=result.Id ;                   
                                //$("#caseid-alertTxt").text('Thank you for your submittal. You will receive an email confirmation shortly with this Case #' +temp+ ' for further correspondence on this request.');
                                $("#phone").val(""); 
                                $("#Email").val("");
                                $("#Alter").val("");
                                $("#serial").val("");
                                $('#tail').val("");
                                $('#model').val("");
                                $('#location').val("");
                                $('#next').val("");
                                $('#Desc').val("");
                                $("#attachmentFile").val("");            
                                $("#clearBtn").hide();   
                                $("#make-choice").empty().append("<option value=''>Select a value</option>").attr( 'selected', 'true' );  
                                BGAMobCustomWebtocase.getMakeLists(function(result, event){
                                    if(event.status) {
                                        if(result.length != 0) {
                                            for (var i = 0; i < result.length; i++) {
                                                $("#make-choice").append("<option value='"+result[i]+"'>"+result[i]+"</option>");
                                            }
                                            $('#make-choice').selectmenu( "refresh", true ).selectmenu('enable');
                                        }
                                    }
                                    else {
                                    }
                                });
                                if(temp1 != undefined)
                                {
                                    caseidval=temp1;
                                    var reader = new FileReader();
                                    reader.onload = loaded;
                                    reader.readAsDataURL(file);                         
                                }
                            }
                        },
                        {   buffer: true, escape: true, timeout: 120000 });
                    }               
                }
                fileReader.onerror = function(e) {
                    alert("There was an error reading the file.  Please try again.");
                }
                fileReader.onabort = function(e) {
                    alert("There was an error reading the file.  Please try again.");
                }           
                fileReader.readAsBinaryString(file);                
            }
            else 
            {
                alert("File must be under 25 MB in size.  Your file is too large.  Please try again.");
            }
        }
        else {
            var str = alter;
            var res = str.split('@');
            var str2 = res[0];
            var str3 = str2.replace('.',' ');   
            str3 = str3.toLowerCase().replace(/\b[a-z]/g, function(letter) {
               return letter.toUpperCase();
            });
            BGAMobCustomWebtocase.insertCase(phone,mail,alter,mak,loc,ser,tal,modl,nextval,descrp, null, null,str3, function(result, event) {
                if(event.status) {
                    //$.mobile.loading( "hide" );
                    $(".bga-loader").hide();
                    $.mobile.changePage("#aog-caseNo-page");
                    var t=result.CaseNumber;
                    var temp=t.substr(5,t.length);                 
                    $("#caseid-alertTxt").text('Thank you for your submittal. You will receive an email confirmation shortly with this Case #' +temp+ ' for further correspondence on this request.');
                    $("#phone").val(""); 
                    $("#Email").val("");
                    $("#Alter").val("");
                    $("#serial").val("");
                    $('#tail').val("");
                    $('#model').val("");
                    $('#location').val("");
                    $('#next').val("");
                    $('#Desc').val("");
                    $("#attachmentFile").val("");            
                    $("#clearBtn").hide();   
                    $("#make-choice").empty().append("<option value=''>Select a value</option>").attr( 'selected', 'true' );  
                    BGAMobCustomWebtocase.getMakeLists(function(result, event){
                        if(event.status) {
                            if(result.length != 0) {
                                for (var i = 0; i < result.length; i++) {
                                    $("#make-choice").append("<option value='"+result[i]+"'>"+result[i]+"</option>");
                                }
                                $('#make-choice').selectmenu( "refresh", true ).selectmenu('enable');
                            }
                        }
                        else {
                        }
                    });
                }
            },
            {   buffer: true, escape: true, timeout: 120000 });
        }
    }
       $.mobile.silentScroll(0);
}
function loaded(evt) {
    //alert('inside loaded function');
    $(".bga-loader").show(); // To Show loader      
    var filename = document.getElementById('j_id0:attachmentFile').files[0].name;
    var file = document.getElementById('j_id0:attachmentFile').files[0];
    //alert(file.size);
    var fileContent = String(evt.target.result);
    fileContent = fileContent.substr(fileContent.indexOf(',') + 1);  
    uploadContentVersion(filename, fileContent);  
}
///////////////////File upload////////////////////////  
    var forcetkClient = new forcetk.Client();       
    var fileUrl ='';
    var fileUploading = false;
    var fileBody;
    var fileNameText = '';

function uploadContentVersion(filename, filecontent) {
        //alert('inside uploadContentVersion function');
        $(".bga-loader").show(); // To Show loader      
        fileBody = filecontent;
        fileNameText = filename;
        //alert('case id val:::' + caseidval);
        //alert('fileNameText:::::::::' + fileNameText);       
        BGAMobCustomWebtocase.getAccessToken(function(result,event)
            {
                $(".bga-loader").show(); // To Show loader      
                //alert(event.status);
                if(event.status) 
                {
                    $(".bga-loader").show(); // To Show loader      
                    accesstoken = result;
                    //alert(accesstoken );
                    forcetkClient.setSessionToken(accesstoken);        
                    //alert('calling access token '+ accesstoken);
                    forcetkClient.create('Attachment', {
                        "ParentId": caseidval,
                        "Name": fileNameText,
                        "Body": fileBody
                    }, function(data) {
                        //alert('Attachment successfully attached to case');  
                        var caseid=data.id;
                        //alert(caseid);
                        BGAMobCustomWebtocase.caseownerupdate(caseidval,function(result,event)
                        {
                             if(event.status)
                             {
                                 //alert('Successfully case owner updated');
                                 //$.mobile.loading( "hide" );
                                 $(".bga-loader").hide();
                                 $.mobile.changePage("#aog-caseNo-page");
                                 $("#caseid-alertTxt").text('Thank you for your submittal. You will receive an email confirmation shortly with this Case #' +temp+ ' for further correspondence on this request.');
                             }
                        });                    
                    },function(error) {
                        //alert(JSON.stringify(error));
                        BGAMobCustomWebtocase.caseownerupdate(caseidval,function(result,event)
                        {
                             if(event.status)
                             {
                                 //alert('Successfully case owner updated');
                                 //$.mobile.loading( "hide" );
                                 $(".bga-loader").hide();
                                 $.mobile.changePage("#aog-caseNo-page");
                                 $("#caseid-alertTxt").text('Thank you for your submittal. You will receive an email confirmation shortly with this Case #' +temp+ ' for further correspondence on this request.');
                             }
                        });
                    });
                }       
            });          
}
//Method to send a file to be attached to the Account bound to the page by the standardController
//Sends parameters: Account Id, Attachment (body), Attachment Name, and the Id of the Attachment if it exists to the controller   
function uploadAttachment(fileId,phone,mail,alter,mak,loc,ser,tal,modl,nextval,descrp) {
    var attachmentBody = "";
    if(file.size <= positionIndex + chunkSize) {
        attachmentBody = attachment.substring(positionIndex);
        doneUploading = true;
    } else {
        attachmentBody = attachment.substring(positionIndex, positionIndex + chunkSize);
    }
        var str = alter;
        var res = str.split('@');
        var str2 = res[0];
        var str3 = str2.replace('.',' ');   
        str3 = str3.toLowerCase().replace(/\b[a-z]/g, function(letter) {
           return letter.toUpperCase();
        });
    BGAMobCustomWebtocase.insertCase(phone,mail,alter,mak,loc,ser,tal,modl,nextval,descrp, attachmentBody, attachmentName,str3,   function(result, event) {
        if(event.status) {
            //$.mobile.loading( "hide" );
            $(".bga-loader").hide();
            $.mobile.changePage("#aog-caseNo-page");
            var t=result.CaseNumber;
            var temp=t.substr(5,t.length);                 
            $("#caseid-alertTxt").text('Thank you for your submittal. You will receive an email confirmation shortly with this Case #' +temp+ ' for further correspondence on this request.');
            $("#phone").val("");
            $("#Email").val("");
            $("#Alter").val("");
            $("#serial").val("");
            $('#tail').val("");
            $('#model').val("");
            $('#location').val("");
            $('#next').val("");
            $('#Desc').val("");
            $("#attachmentFile").val("");
            $("#clearBtn").hide();   
            $("#make-choice").empty().append("<option value=''>Select a value</option>").attr( 'selected', 'true' );              
            BGAMobCustomWebtocase.getMakeLists(function(result, event){   
                if(event.status) {
                    if(result.length !=0) {
                        for (var i=0; i< result.length; i++) {
                        $("#make-choice").append("<option value='"+result[i]+"'>"+result[i]+"</option>");
                        }
                        $('#make-choice').selectmenu( "refresh", true ).selectmenu('enable');
                    }
                }
                else {
                }
            });            
        }
    },
    { buffer: true, escape: true, timeout: 120000 } );
}
function isValidEmailAddress(emailAddress) {
    var pattern = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
    return pattern.test(emailAddress);
};
function parseISO8601(dateStringInRange) {
    var isoExp = /^\s*(\d{4})-(\d\d)-(\d\d)\s*$/,
        date = new Date(NaN), month,
        parts = isoExp.exec(dateStringInRange);
    if(parts) {
      month = +parts[2];
      date.setFullYear(parts[1], month - 1, parts[3]);
      if(month != date.getMonth() + 1) {
        date.setTime(NaN);
      }
    }
    return date;
} 
function isPastDate(value) {
  var now    = new Date;
  var target = parseISO8601($("#next").val());
  //alert('test'+( (now.getMonth()- target.getMonth())>=0 ));
  if (now.getFullYear()> target.getFullYear()) {
    //alert('e-if-y'+now.getFullYear());
    return true;
  }
  else if ((now.getFullYear()- target.getFullYear())>=0 && now.getMonth() > target.getMonth()) {
   //alert('e-if-y'+now.getMonth);
    return true;
  }
  else if ((now.getFullYear()- target.getFullYear())>=0 && (now.getMonth()- target.getMonth())>=0 && now.getDate() > target.getDate()) {
   //alert('e-if-y2'+now.getDate);
    return true;
  }
  return false;
}

</script>
</head>
<body>
<form id="form1" enctype="multipart/form-data" data-ajax="false" autocomplete="off">
<!-- AOG case Support Page  -->
<div id="aog-case-page" class="" data-role="page" >   
    <div data-role="header" class="page-header">
        <a href="BGAMob_AOG"  rel="external" class="back-button" data-icon="arrow-l"></a>
        <span class="bgamob-header ui-title">Contact AOG Support</span>
        <a id="home-menu-id" href="#navPanel" class="menu-btn" data-role="button" ></a>
    </div>    
    <div data-role="content" class="aog-content"  >
        <div class="content-cls">
                <p align="center" id="case-number" style="color:#5D7BB9"></p>        
                <h3 align="center" style="font-weight: normal;"><font  COLOR="#666666">Please complete the required(*) fields and click the "Submit" button to create a Case with AOG Support.  You will receive an email confirmation shortly.</font> </h3>                    
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"><span class="Mandatory"> *</span>Phone</div>
                    <div class="ui-block-b"> <input type="text" value="{!Case.SuppliedPhone}" id="phone" placeholder="+Country Code-Area Code-Number" /><span style="color:red" id="Phone-no"></span> </div>
                </div>               
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"><span class="Mandatory"> *</span>Your Business Email Address</div>
                    <div class="ui-block-b"><input type="text" value="{!Case.SuppliedEmail}" id="Email" placeholder="Your Business Email Address"  /><span id="mail" style="color:red"></span> </div>
                </div>
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"><span class="Mandatory"> *</span>Send Confirmation To</div>
                    <div class="ui-block-b"><input type="text" value="{!Case.App_Email__c}" id="Alter" placeholder="Email Address to receive follow up"  /><span id="alter" style="color:red"></span> </div>
                </div>
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"><span class="Mandatory"> *</span>Aircraft Serial Number</div>
                    <div class="ui-block-b"><input type="text" value="{!Case.Aircraft_Serial_Number__c}" id="serial"  /><span id="Serial" style="color:red"></span> </div>
                </div>                
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"> <span class="Mandatory"> *</span>Aircraft Tail Number</div>
                    <div class="ui-block-b"><input type="text" value="{!Case.Aircraft_Tail_Number__c}" id="tail"   /><span id="Tail-no" style="color:red"></span> </div>
                </div>                
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"><span class="Mandatory"> *</span>Aircraft Make</div>
                    <div class="ui-block-b">      
                        <select  name="make-choice" id="make-choice" onchange="changeSelectedvalue()">
                            <option value="">Select a value</option>
                        </select>
                        <span id="Make" style="color:red"></span>  
                    </div>
                </div>
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"> <span class="Mandatory"> *</span>Aircraft Type/Model</div>
                    <div class="ui-block-b"> <input type="text" value="{!Case.Aircraft_Type_Model__c}" id="model"/><span id="Model" style="color:red"></span></div>
                </div>                
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"><span class="Mandatory"> *</span>Aircraft Location</div>
                    <div class="ui-block-b"> <input type="text" value="{!Case.Aircraft_Location__c}" id="location"  /><span id="Location" style="color:red"></span></div>
                </div>                
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"> <span class="Mandatory"> *</span>Next Flight Out Date/MEL Expiration Date</div>
                    <div class="ui-block-b"><input type="text" value="{!Case.Next_Flight_Out_Date__c}" placeholder="YYYY-MM-DD" id="next" class="datepicker" /><span id="Nextval" style="color:red"></span></div> 
                </div>             
                <div class="ui-grid-a ui-responsive">
                    <div class="ui-block-a"><span class="Mandatory"> *</span>Problem Description </div>
                    <div class="ui-block-b"> <textarea value="{!case.Description}" id="Desc"  /><span id="descrp" style="color:red"></span></div> 
                </div>                
                <div class="ui-grid-a ui-responsive" id="File">
                    <div class="ui-block-a">Attach a File</div>
                    <div class="ui-block-b">
 <!--<input type="file" id="attachmentFile"/>--->
                    <apex:inputFile id="attachmentFile" value="{!filedata}" fileName="{!filename}"/>
                    <img id="clearBtn" src="{!URLFOR($Resource.BGAMob_Map, 'clearBtn.png')}"/>                                      
                    </div>
                </div>               
                <br/>
                <div id="commentForm"  style="width: 100%; background: #EE3124; color: #FFFFFF; text-shadow: none;" data-role="button" data-inline="true" onclick="submitform()"> Submit </div>         
                <a id="IEbtn" href="" data-role="button" style="width:100%; background: #EE3124; color: #FFFFFF; text-shadow: none;"> Submit </a>            
        </div>
    </div>
    <div data-role="panel" data-position="right" data-display="overlay" id="navPanel" class="nav-panel" >
        <ul data-role="listview" data-divider-theme="d" class="nav-list">
            <li><a href="/bgadir/BGAMob_HomePage" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_home_navpaneel" />Direct Access Home</a></li>
            <li><a href="/bgadir/BGAMob_AOG" data-prefetch="true" rel="external"  class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_aogID" />AOG - Aircraft On Ground</a></li>
            <li><a href="/bgadir/BGAMob_Tollfreedirectory" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_tollfreeID_navpaneel" />Toll Free Directory</a></li>
            <li><a href="/bgadir/BGAMob_TechnicalSupport" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_techID_navpaneel" />Technical Support</a></li>
            <li><a href="/bgadir/BGAMob_PilotSupport" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_pilotID_navpaneel" />Pilot Support</a></li>
            <li><a href="/bgadir/BGAMob_BusinessSales" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_salesID_navpaneel" />Business &amp; Sales Support</a></li>
            <li><a href="/bgadir/BGAMob_Tabpage" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_dealerID_navpaneel" />Dealers &amp; Service Centers</a></li>
            <li><a href="/bgadir/BGAMob_PartsSupport" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_partsID_navpaneel" />Parts Support</a></li>
            <li><a href="/bgadir/BGAMob_Business" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_newsID_navpaneel" />Business Aviation News</a></li>
            <li><a href="/bgadir/BGAMob_QuickLinks" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_quickID_navpaneel" />Quick Links &amp; Apps</a></li>
            <li><a href="/bgadir/BGAMob_TSO" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_help_navpaneel" />Help</a></li>
            <li><a href="/bgadir/BGAMob_Settings" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_settings_navpaneel" />Settings</a></li>
        </ul>
    </div>
</div>   
<!--     AOG Page - Case number display    -->
<div id="aog-caseNo-page" class="" data-role="page" >
    <div data-role="header" class="page-header" >
        <a href="BGAMob_AOG" rel="external" class="back-button show-page-loading-msg" data-role="button" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true" data-icon="arrow-l"></a> 
         <p class="bgamob-header ui-title">AOG - Aircraft On Ground</p> 
        <a href="#navPanel" class="menu-btn" data-role="button"></a> 
    </div>   
    <div data-role="content" class="aog-content"  >
        <div class="content-cls" style="padding-top:15%;">
            <h3 align="center" id="caseid-alertTxt" style="font-weight: normal;COLOR:#666666;"> </h3>
            <a href="BGAMob_AOG" rel="external" style="width: 100%; background: #EE3124; color: #FFFFFF; text-shadow: none;" data-role="button" data-inline="true"> Close </a>
        </div>
    </div>
    <div data-role="panel" data-position="right" data-display="overlay" id="navPanel" class="nav-panel" >
        <ul data-role="listview" data-divider-theme="d" class="nav-list">
            <li><a href="/bgadir/BGAMob_HomePage" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_home_navpaneel" />Direct Access Home</a></li>
            <li><a href="/bgadir/BGAMob_AOG" data-prefetch="true" rel="external"  class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_aogID" />AOG - Aircraft On Ground</a></li>
            <li><a href="/bgadir/BGAMob_Tollfreedirectory" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_tollfreeID_navpaneel" />Toll Free Directory</a></li>
            <li><a href="/bgadir/BGAMob_TechnicalSupport" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_techID_navpaneel" />Technical Support</a></li>
            <li><a href="/bgadir/BGAMob_PilotSupport" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_pilotID_navpaneel" />Pilot Support</a></li>
            <li><a href="/bgadir/BGAMob_BusinessSales" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_salesID_navpaneel" />Business &amp; Sales Support</a></li>
            <li><a href="/bgadir/BGAMob_Tabpage" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_dealerID_navpaneel" />Dealers &amp; Service Centers</a></li>
            <li><a href="/bgadir/BGAMob_PartsSupport" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_partsID_navpaneel" />Parts Support</a></li>
            <li><a href="/bgadir/BGAMob_Business" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_newsID_navpaneel" />Business Aviation News</a></li>
            <li><a href="/bgadir/BGAMob_QuickLinks" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_quickID_navpaneel" />Quick Links &amp; Apps</a></li>
            <li><a href="/bgadir/BGAMob_TSO" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_help_navpaneel" />Help</a></li>
            <li><a href="/bgadir/BGAMob_Settings" data-prefetch="true" rel="external" class="show-page-loading-msg" data-theme="d" data-textonly="false" data-textvisible="false" data-msgtext="" data-inline="true"><div  class="ui-li-icon hp_settings_navpaneel" />Settings</a></li>
        </ul>
    </div>
</div>
<!--  Loader Icon  -->
<div class="bga-loader">
    <div class="bga-loader-overlay"></div>
    <div class="bga-loader-icon"></div>
</div>       
</form>
</body>
</html>
<apex:insert name="footer">
        <c:honeywellFooter1 />
</apex:insert>

</apex:page>