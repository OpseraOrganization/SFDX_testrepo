<!-- AERO -->
<apex:page controller="GH_OrderRequest" showHeader="false" sidebar="false" docType="html-5.0" applyHtmlTag="false">
<meta charset="utf-8" />
<!-- <meta http-equiv="refresh" content="900" /> -->
<!--<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes"/>-->
<!--<meta name="viewport" content="width=device-width, initial-scale=0.5, user-scalable=1, minimum-scale=0.5, maximum-scale=1.0" />-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <link href="{!URLFOR($Resource.GEResource,'css/jquery-ui.css')}" rel="stylesheet" media="screen"/>
    <link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.GEResource,'/css/bootstrap.min.css')}" />
    
    <link href="{!URLFOR($Resource.GEResource,'/css/common.css')}" rel="stylesheet" media="screen"/>
    <link href="{!URLFOR($Resource.GEResource,'/css/tablet.css')}" rel="stylesheet" media="screen"/>
    <link href="{!URLFOR($Resource.GEResource,'/css/smartphone.css')}" rel="stylesheet" media="screen"/>
    
    <link href="{!URLFOR($Resource.GEResource,'css/switch/bootstrap-switch.min.css')}" rel="stylesheet" media="screen"/> 
    <link href="{!URLFOR($Resource.GEResource,'css/slider/bootstrap-slider.css')}" rel="stylesheet" media="screen"/>
<head>
<style>
    
/*Slider CSS - Starts*/
   #ex1Slider.slider.slider-horizontal, #ex2Slider.slider.slider-horizontal,.slider.slider-horizontal{
        width: 60px !important;
        margin: 0 10px;
        background-image: none;
        background-color: #8B8B8B;
        border-radius: 20px;
        height: 34px;

    }
    #ex1Slider.slider.slider-horizontal .slider-track, #ex2Slider.slider.slider-horizontal .slider-track, .slider.slider-horizontal .slider-track {
        background-color: transparent;
        background-image: none;
        box-shadow: none;
        width: 46%;
        left: 19%;
    }
    #ex1Slider .slider-selection, #ex2Slider .slider-selection, .slider-selection  {
        background-color: transparent;
        background-image: none;
        box-shadow: none;
    }
    #ex1Slider.slider.slider-horizontal .slider-handle, #ex2Slider.slider.slider-horizontal .slider-handle, .slider.slider-horizontal .slider-handle {
        outline: none;
        opacity: 1;
        background-color: #FFFFFF;
        background-image: none;
        //border:1px solid #000000;

        width: 30px;
        height: 30px;
        margin-top: -10px;

    }
    /*Slider CSS - Ends*/

</style>

<script> 
(function(){try{var a=navigator.userAgent;if((a.indexOf('Salesforce')!=-1)&&(a.indexOf('iPhone')!=-1||a.indexOf('iPad')!=-1)&&(a.indexOf('OS/8')!=-1||a.indexOf('OS 8')!=-1)&&(a.indexOf('Safari')==-1)){ 
var s=document.createElement('style'); 
s.innerHTML="html,html body{overflow: auto;-webkit-overflow-scrolling:touch;}body{position:absolute;left:0;right:0;top:0;bottom:0;}"; 
document.getElementsByTagName('head')[0].appendChild(s);}}catch(e){}})(); 
</script> 

<div class="container">

    <!-- Header with Logo -->
    <div class="row gh-header">
        
        <!--<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 gh-header-slider" style="">
            <img src="{!URLFOR($Resource.GEResource,'images/gh-slider-icon.png')}" alt="Nav" style="" />
        </div>-->

        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-logo"> 
            <img id="gh-logo" src="{!URLFOR($Resource.GEResource,'images/honeywelllogo-giftsandhospitality.png')}" alt="Logo" style="height: 22px;"/>
        </div>
        
    </div>   
    <!-- End of Header with Logo -->
   
    <!------------------------------------ Disclaimer Message --------------------------------->
    <div id="disclaimerPage">
        <!-- Welcome Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Welcome 
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                {!$User.Firstname} {!$User.Lastname}
            </div>
        </div>   
        <!-- End of Welcome Message -->
        
        <!-- Corrupt Intent Disclaimer -->
        <div class="row gh-disclaimer"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Corrupt Intent Disclaimer
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Honeywell Code of Conduct, as well as applicable national anti-bribery laws and international anti-bribery principles strictly require that Honeywell employees and anyone acting on Honeywell behalf do not, directly or indirectly, offer, promise, authorize, solicit, pay, or give any benefits to: 
                <br/><br/>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding-left: 30px;">
                <div> <b style="margin-left: -23px;">(1)</b> <span>Influence any acts, decisions, or omissions by any individual or third party to obtain or retain business or secure an improper business advantage;</span></div>
                <div> <b style="margin-left: -23px;">(2)</b> Induce any individual to act improperly in violation of his or her duty; or</div>
                <div> <b style="margin-left: -23px;">(3)</b> Induce any individual or third party to use its influence with a government or private entity to commit an improper act or to obtain or retain business.</div>
                </div>
                <br/>
                Users of this application certify that they understand the above principles and will at all times abide by these principles when they use this application to request an approval to offer any kind of benefits to third parties.
            </div>
        </div>   
        <!-- End of Corrupt Intent Disclaimer -->
        
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="btn gh-red-btn" href="#" onclick="navigateToPrinciples()">Next</a>
            </div>
            
        </div>
    </div>
    <!----------------------------- End  of Disclaimer Message -----------------------------------> 
    
    <!--<div id="idQuestions" class="hidden">
        <apex:include pageName="GH_FAQ" />
    </div>-->

    
    <!----------------------------------------- 8 Principles ----------------------------------->    
    <div id="principlesPage" class="hidden" style="height:100%">
        <!-- 8 Principles Message -->
        <head>
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Mandatory Principles of All Benefits
            </div>
        </div>   
        <!-- End of 8 Principles Message -->
        </head>
        <!-- 8 Benefits -->
        <body>
        <div class="row gh-benefits"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                All Benefits: 
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div><b>1.</b>    Must promote Honeywell;</div>
                <div><b>2.</b>    Must not be lavish or extravagant under the circumstances;</div>
                <div><b>3.</b>    Must comply with applicable law;</div>
                <div><b>4.</b>    Must conform with local custom and business practice;</div>
                <div><b>5.</b>    Must not create or give the appearance of an obligation for the recipient;</div>
                <div><b>6.</b>    Must be reported and documented accurately in Honeywellâ€™s records;</div>
                <div><b>7.</b>    May not conceivably be construed as a bribe or payoff, or be embarrassing to the company in any way; and</div>
                <div><b>8.</b>    Must not be solicited by the recipient.</div>
            </div>
        </div>   
        <!-- End of 8 Benefits -->
        
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="btn gh-red-btn" onclick="navigateToMyRequests(0);" href="#">I Agree</a> 
            </div>
            
        </div>
        </body>
           
    </div>
    <!--------------------------- End  of 8 Principles -------------------------------->
    
    <!----------------------------------------- My Requests  ----------------------------------->    
    <div id="myRequestPage" class="hidden" style="height:100%">
        <!-- My Requests Message -->
        <head>
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="ShowFAQs()">
                    FAQs
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    My Requests
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="createRequest();">
                    + Request
                </div>
            </div>
        </div>   
        </head>
        <!-- End of My Requests Message -->
        
        <!-- Type Selection  -->
        <body>
        <div class="row gh-status-align"> 

            <div class="gh-status-type gh-status-type-alignment"> 
                <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 inactive" id="DraftRecs">  
                    Draft
                </div>
                <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2" id="PendingRecs">   
                    Pending
                </div>
                <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2" id="CompleteRecs">   
                    Complete
                </div>
            </div>

        </div>   
        <!-- End of Type Selection -->
        
        <!-- Draft Request List -->
        <div id="DraftDivRecs" class="gh-req-pattern">
            <div class="row gh-req-item" > 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    No Draft records found
                </div>
            </div>
        </div>
        <!-- End of Draft Request List -->
        
        <!-- Pending Request List -->
        <div id="PendingDivRecs" class="gh-req-pattern hidden">
            <div class="row gh-req-item" > 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    No Pending records found
                </div>
            </div>
        </div>
        <!-- End of Pending Request List -->
        
        <!-- Completed Request List -->
        <div id="CompletedDivRecs" class="gh-req-pattern hidden">
            <div class="row gh-req-item"> 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    No Completed records found
                </div>
            </div>
        </div>
        <!-- End of Completed Request List -->
        
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>  
        <div class="row" style="padding-right: 10px;">
            <div class="gh-new-ghlink" onclick="" style="float: right;padding-bottom: 20px;"><span class="glyphicon glyphicon-list-alt"></span><a style="padding-left: 10px" class="gh-new-ghlink" onclick="hideGHPolicy(0)">G&amp;H Policy</a></div> <!-- https://c.cs14.content.force.com -->
        </div> 
        </body>     
    </div>
    <!--------------------------- My Requests  -------------------------------->
   
    <!--------------------------- Start of Request selection page -------------------------------->
    <div id="myselectiontPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Request Type
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests()">
                    Cancel
                </div>
            </div>
        </div>    
        <!-- End of My Requests Message -->
        
                
        <!-- Type Selection  -->
        
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-benefit-type-header">
                Choose One Request Type
            </div>
        </div>
        <div class="gh-benefit-type"> 
           
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding-left: 0px;"> 

                <input type="radio" id="Providegift" name="benefitRadio" checked="checked"/>
                <label for="Providegift"><span><span></span></span> <img src="{!URLFOR($Resource.GEResource,'images/gift.png')}" alt="Stages" /> Offering a Business Courtesy</label>
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
 
                <input type="radio" id="Receivegift" name="benefitRadio"/>
                <label for="Receivegift"><span><span></span></span> <img src="{!URLFOR($Resource.GEResource,'images/gift.png')}" alt="Stages" /> Receiving a Business Courtesy</label>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="margin-left: -51px"> 
                
                
                <input type="radio" id="Createevent" name="benefitRadio"/>
                <label for="Createevent"><span><span></span></span> <img src="{!URLFOR($Resource.GEResource,'images/calendar.png')}" alt="Stages" style="height: 32px;" /> Create an Event</label>
            </div>
            
        </div>   
        <!-- End of Type Selection -->
        
         <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center">
                  <!--   <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="SaveAsDraftPopup()">Save As Draft</span></div> -->
            </div>
        </div>
        
        <div class="row gh-next"> 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center;padding-top: 15px"> 
                    <a class="btn gh-red-btn" onclick="navigateToProcess()">Next</a>
                </div>
                
        </div>
          
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
                
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
    </div>
    <!--------------------------- End of Request selection page -------------------------------->
    
    <!----------------------------------------- Draft Page  ----------------------------------->    
    <div id="draftPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Draft Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests()">
                    Cancel
                </div>
            </div>
        </div>   
        <!-- End of My Requests Message -->
      
        <!-- Recipients Details -->
        <div class="row gh-stages"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <img src="{!URLFOR($Resource.GEResource,'images/gh-stages-text3.png')}" alt="Stages" />
            </div>
        </div>  
       
        <div class="row gh-list-recipients" id="AllStageDraft"> 
           Loading...
        </div>
        
        <div class="row"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-new-ghlink" style="text-align: right;" onclick="AddNewRecipient()"> 
                + Add New Recipient
            </div>
        </div>
        
        <div class="row gh-certify"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Certification
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                I certify that I have answered the questions above completely and correctly, to the best of my knowledge, and that the benefit is being offered in accordance with the applicable Mandatory Principles and compliance guidelines for business courtesies. I have no reason to believe that the proposed benefit is intended to or will influence anyone to engage in unethical or improper behavior or will be provided in exchange for an official act or decision of a government official or a government official's assistance in obtaining a competitive advantage or receiving favorable treatment.
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div style="margin: auto;display: block;width:100px;padding-top: 15px"><div class="gh-checkbox" id="idICertifyDraft" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><span style="padding-left: 10px;">I Certify</span></div>
            </div>
        </div>
           
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="gh-red-btn" onclick="submitDraftForApproval();" href="#">Submit for Approval</a>
            </div>
            
        </div>
        
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="createRequestandRecipient('Draft');">Save As Draft</span></div>
            </div>
        </div>
        
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}"  class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Draft Page  ----------------------------------->
   
    <!----------------------------------------- Provider Draft Page  ----------------------------------->    
    <div id="providerDraftPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Draft Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests()">
                    Cancel
                </div>
            </div>
        </div>   
        <!-- End of My Requests Message -->
        
        <!-- Recipients Details -->
        <div class="row gh-stages"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <img src="{!URLFOR($Resource.GEResource,'images/provider-step03-review.png')}" alt="Stages" />
            </div>
        </div>  
        
        <div class="row gh-list-recipients" id="AllStageDraftProvider"> 
           Loading...
        </div>
        
        <div class="row"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-new-ghlink" style="text-align: right;" onclick="AddNewRecipient()"> 
                + Add New Provider
            </div>
        </div>
        
        <div class="row gh-certify"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Certification
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                I certify that I have answered the questions above completely and correctly, to the best of my knowledge, and that the benefit is being offered in accordance with the applicable Mandatory Principles and compliance guidelines for business courtesies. I have no reason to believe that the proposed benefit is intended to or will influence anyone to engage in unethical or improper behavior or will be provided in exchange for an official act or decision of a government official or a government official's assistance in obtaining a competitive advantage or receiving favorable treatment.
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div style="margin: auto;display: block;width:100px;padding-top: 15px"><div class="gh-checkbox" id="idICertifyDraftProvider" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><span style="padding-left: 10px;">I Certify</span></div>
            </div>
        </div>
            
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="gh-red-btn" onclick="submitDraftForApproval();" href="#">Submit for Approval</a>
            </div>
            
        </div>
        
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="createRequestandRecipient('Draft');">Save As Draft</span></div>
            </div>
        </div>
        
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}"  class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Draft Page  ----------------------------------->
    
    <!----------------------------------------- Event Draft Page  ----------------------------------->    
    <div id="EventDraftPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Draft Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="CancelEvent()">
                    Cancel
                </div>
            </div>
        </div>   
        <!-- End of My Requests Message -->
       
        <!-- Recipients Details -->
        <div class="row gh-stages"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <img src="{!URLFOR($Resource.GEResource,'images/events-step02-review.png')}" alt="Stages" />
            </div>
        </div>  
        
        <div class="row gh-list-recipients" id="draftEvent"> 
            
            Loading..

        </div>
        
        <div class="row gh-certify"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Certification
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                I certify that I have answered the questions above completely and correctly, to the best of my knowledge, and that the benefit is being offered in accordance with the applicable Mandatory Principles and compliance guidelines for business courtesies. I have no reason to believe that the proposed benefit is intended to or will influence anyone to engage in unethical or improper behavior or will be provided in exchange for an official act or decision of a government official or a government official's assistance in obtaining a competitive advantage or receiving favorable treatment.
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div style="margin: auto;display: block;width:100px;padding-top: 15px"><div class="gh-checkbox" id="idICertifyDraftEvent" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><span style="padding-left: 10px;">I Certify</span></div>
            </div>
        </div>
          
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="gh-red-btn" onclick="submitDraftEventForApproval();" href="#">Submit for Approval</a>
            </div>
            
        </div>
        
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="saveEventAsDraft()">Save As Draft</span></div>
            </div>
        </div>
        
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Event Draft Page  ----------------------------------->
    
    <!----------------------------------------- Pending Request Page  ----------------------------------->    
    <div id="pendingRequestPage" class="hidden">
        <!-- Approval Status Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Pending Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests();">
                    Back
                </div>
            </div>
        </div>   
        <!-- End of Approval Status Message -->
        
        <!-- Recipients Details -->
        <div class="row gh-list-recipients" id="ApprovedRequestDetail"> 
              Loading...
        </div>
       
        <div class="row gh-list-recipients" id="PendingRequestDetail"> 
             Loading...
        </div>
                        
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Pending Request Page  ----------------------------------->
    
    <!----------------------------------------- Event Pending Request Page  ----------------------------------->    
    <div id="pendingEventRequestPage" class="hidden">
        <!-- Approval Status Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Pending Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests()">
                    Back
                </div>
            </div>
        </div>   
        <!-- End of Approval Status Message -->     
        <!-- Recipients Details -->      
        <div class="row gh-list-recipients" id="pendingEvent"> 
             Loading ..
        </div>            
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Event Pending Request Page  ----------------------------------->
    
    <!----------------------------------------- Completed Request Page  ----------------------------------->    
    <div id="completedRequestPage" class="hidden">
        <!-- Approval Status Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Completed Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests()">
                    Back
                </div>
            </div>
        </div>   
        <!-- End of Approval Status Message -->
  
        <!-- Recipients Details -->
        <div class="row gh-list-recipients" id="CompletedApprovedRequestDetail"> 
              Loading...
        </div>
        <div class="row gh-list-recipients" id="CompletedRejectedRequestDetail"> 
            Loading...
        </div>
               
        <div class="row gh-list-recipients" id="CompletedCancelledRequestDetail"> 
            Loading...
        </div>                               
                
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Completed Status Page  ----------------------------------->
    
    <!----------------------------------------- Event Completed Request Page  ----------------------------------->    
    <div id="completedEventRequestPage" class="hidden">
        <!-- Approval Status Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" > 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Completed Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests()">
                    Back
                </div>
            </div>
        </div>   
        <!-- End of Approval Status Message -->
        
        <!-- Recipients Details -->
 
        <div class="row gh-list-recipients" id="completedEvent"> 
            Loading...
        
        </div>
       
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Event Completed Status Page  ----------------------------------->
    
    <!----------------------------------------- Add Recipient Page  ----------------------------------->    
    <div id="addRecipientPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Add New Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="CancelClickFunction()">
                    Cancel
                </div>
            </div>
        </div>   
        <!-- End of My Requests Message -->
        
        
        <!-- My Requests Message -->
        <div class="row gh-stages"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <img src="{!URLFOR($Resource.GEResource,'images/gh-stages-text.png')}" alt="Stages" />
            </div>
        </div> 
        
        <!--<div class="row">  
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-togglepadding" style="border-bottom: 1px solid #CCC;padding: 10px 0px;color:#777;text-align: left;"> 
                <div class="col-xs-6 col-sm-8 col-md-9 col-lg-9" style="padding-top: 7px;">
                    <label>Receiving a gift?</label>                 
                </div>
                <div class="col-xs-6 col-sm-4 col-md-3 col-lg-3" style="text-align: right;"> 
                    No<input id="GiveReceive" data-slider-id='GiveReceive-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>     
                </div> 
            </div>
        </div>-->

        <div class="row gh-recpients-form">
            <form id="recpientForm">
            <div class="form-group">
                <label><span id="recipientorProviderId">Recipient</span> Name</label>
                <input type="text" class="form-control" id="idRecipient" placeholder="Recipient Name" onblur="pullContactDetails();" onkeypress="getDataForAutoComplete('idRecipient', 'idRecipientId', 'Contact')" onclick="getDataForAutoComplete('hon_lead', 'HonleadId', 'hon_lead')" />
                <input type="hidden" class="form-control" id="idRecipientId" />
            </div>
            
            <div class="form-group">
                <label>Position</label>
                <input type="text" class="form-control" id="idPosition" placeholder="Position" />
            </div>
            
            <div class="form-group">
                <label>Company</label>
                <input type="text" class="form-control" id="idCompany" placeholder="Company" onkeypress="getDataForAutoComplete('idCompany', 'idCompanyId', 'Account')"/>
                <input type="hidden" class="form-control" id="idCompanyId" />
            </div>
            
            <div class="form-group">
                <label>City</label>
                <input type="text" class="form-control" id="idCity" placeholder="City" />
            </div>
            
            <div class="form-group">
                <label>Country</label>
                <!--<input type="text" class="form-control" id="idCountry" placeholder="Country" />-->
                <select class="form-control" id="idCountry">
                </select>
            </div>
            <div class="form-group">
                <label>Date <small style="color:#D3D3D3">(mm/dd/yyyy)</small></label>
                <input type="date" class="form-control" id="idDate" placeholder="Date" style="line-height: 14px;" max="2050-12-31"/>
            </div>  
            
            <div id="TypeOfMealId" class="form-group hidden" >
                <label>Type Of Meal/ Entertainment</label>
                <select id="idTypeOfMeal" class="form-control">
                </select>
            </div> 
            
            <div class="gh-benfit-selection">
                <b>Select one or more benefits for this recipient</b><br/>
                <small>(Only if paid by Honeywell)</small>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-10 col-sm-9 col-md-9 col-lg-9">
                        <div class="gh-checkbox" id="idGifts" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select">Gifts <!--<img src="{!URLFOR($Resource.GEResource,'images/gh-info.png')}" data-toggle="popover" title="" data-placement="top" data-content="And here's some amazing content. It's very engaging. Right?"/>--></div> 
                    </div>
                    <div class="col-xs-1 col-sm-3 col-md-3 col-lg-3">
                    
                    </div>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">      
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-10 col-sm-9 col-md-9 col-lg-9">
                        <div class="gh-checkbox" id="idME" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select">Meals/Entertainments<!--<img src="{!URLFOR($Resource.GEResource,'images/gh-info.png')}" data-toggle="popover" title="" data-placement="top" data-content="And here's some amazing content. It's very engaging. Right?"/>--></div>
                        
                    </div>
                    <div class="col-xs-1 col-sm-3 col-md-3 col-lg-3">
                    
                    </div>
                </div>
                
                <!--<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">      
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-10 col-sm-9 col-md-9 col-lg-9">
                        <div><span>To setup an event <span class="gh-new-ghlink">Click Here</span></span></div> 
                        
                    </div>
                    <div class="col-xs-1 col-sm-3 col-md-3 col-lg-3">
                    
                    </div>
                </div>-->
            </div>
            </form>
            <div class="row gh-next"> 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center;padding-top: 15px"> 
                    <a class="gh-red-btn" onclick="NextAndContactValidate()" href="#">Next: Add Benefit Details</a>
                </div>
                
            </div>
            
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="idSaveAsDarftOnPage1" style="text-align: center">
                    <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="createRequestandRecipient('Draft')">Save As Draft</span></div>
                </div>
            </div>
            
            <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
                <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                    <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
                </div>
                
                <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                    <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
                </div>
            </div>
        </div> 
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Add Recipient Page  ----------------------------------->
    
    <!----------------------------------------- Add Provider Page  ----------------------------------->    
    <div id="addProviderPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Add New Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="CancelClickFunction()">
                    Cancel
                </div>
            </div>
        </div>   
        <!-- End of My Requests Message -->
        
        
        <!-- My Requests Message -->
        <div class="row gh-stages"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <img src="{!URLFOR($Resource.GEResource,'images/provider-step01-addprovider.png')}" alt="Stages" />
            </div>
        </div> 

        <div class="row gh-recpients-form">
            <form id="providerForm">
            <div class="form-group">
                <label>Provider Name</label>
                <input type="text" class="form-control" id="idProvider" placeholder="Provider Name" onblur="pullContactDetails();" onkeypress="getDataForAutoComplete('idProvider', 'idProviderId', 'Contact')" onclick="getDataForAutoComplete('idProvider', 'idProviderId', 'Contact')" />
                <input type="hidden" class="form-control" id="idProviderId" />
            </div>
            
            <div class="form-group">
                <label>Position</label>
                <input type="text" class="form-control" id="idPositionProvider" placeholder="Position" />
            </div>
            
            <div class="form-group">
                <label>Company</label>
                <input type="text" class="form-control" id="idCompanyProvider" placeholder="Company" onkeypress="getDataForAutoComplete('idCompanyProvider', 'idCompanyProviderId', 'Account')"/>
                <input class="form-control" id="idCompanyProviderId" type="hidden" />
            </div>
            <div class="form-group">
                <label>City</label>
                <input type="text" class="form-control" id="idCityProvider" placeholder="City" />
            </div>
            <div class="form-group">
                <label>Country</label>
                <!--<input type="text" class="form-control" id="idCountry" placeholder="Country" />-->
                <select class="form-control" id="idCountryProvider">
                </select>
            </div>
            <div class="form-group">
                <label>Date <small style="color:#D3D3D3">(mm/dd/yyyy)</small></label>
                <input type="date" class="form-control" id="idDateProvider" placeholder="Date" style="line-height: 14px;" max="2050-12-31"/>
            </div>  
            
            <div id="TypeOfMealId" class="form-group hidden" >
                <label>Type Of Meal/ Entertainment</label>
                <select id="idTypeOfMeal" class="form-control">
                </select>
            </div> 
            
            <div class="gh-benfit-selection">
                <b>Select one or more benefits for this recipient</b><br/>
                <!--<small>(Only if paid by Honeywell)</small>-->
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-10 col-sm-9 col-md-9 col-lg-9">
                        <div class="gh-checkbox" id="idGiftsProvider" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select">Gifts</div> 
                    </div>
                    <div class="col-xs-1 col-sm-3 col-md-3 col-lg-3">
                    
                    </div>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">      
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-10 col-sm-9 col-md-9 col-lg-9">
                        <div class="gh-checkbox" id="idMEProvider" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select">Meals/Entertainments</div>
                        
                    </div>
                    <div class="col-xs-1 col-sm-3 col-md-3 col-lg-3">
                    
                    </div>
                </div>
                
                <!--<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">      
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-10 col-sm-9 col-md-9 col-lg-9">
                        <div><span>To setup an event <span class="gh-new-ghlink">Click Here</span></span></div> 
                        
                    </div>
                    <div class="col-xs-1 col-sm-3 col-md-3 col-lg-3">
                    
                    </div>
                </div>-->
            </div>
            </form>
            <div class="row gh-next"> 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center;padding-top: 15px"> 
                    <a class="gh-red-btn" onclick="NextAndContactValidate()" href="#">Next: Add Benefit Details</a>
                </div>
                
            </div>
            
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center">
                    <div class="gh-new-ghlink" onclick="" id="idProSaveAsDarftOnPage1"><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="createRequestandRecipient('Draft')">Save As Draft</span></div>
                </div>
            </div>
            
            <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
                <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                    <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
                </div>
                
                <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                    <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
                </div>
            </div>
        </div> 
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Add Provider Page  ----------------------------------->
    
    <!--------------------------------- Scorecard questions begins----------------------------------------->
    <div id="scorecardPage" class="hidden">
        <div class="row gh-message"> 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background" id="tableheader"> 
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                        Principles
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        Add New Request
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="backToAddRecipient()">
                        Back
                    </div>
                </div>
            </div>   
            <div class="row gh-stages"> 
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    <img src="{!URLFOR($Resource.GEResource,'images/gh-stages-text2.png')}" alt="Stages" />
                </div>
            </div> 
        
        <!--Gift Scorecard Questions Start-->    
        <div class="row gh-benefit-entry gh-score-spacing hidden" style="" id="GiftScoreDiv">
            <form id="GiftForm">
            <div class="ge-scorehead">
                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
                    <label class="ge-scoreheader">Gifts - Scorecard</label>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                     <span class="gh-scoreBullets">1.</span> Will the gift occasion be before/during/after a business meeting?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="gift-score1" data-slider-id='gift-score1-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">2.</span> Will the gift occasion be impending order award/placement?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="gift-score2" data-slider-id='gift-score2-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">3.</span> Will the gift be given to a government official or person affiliated with the public sector (including employee of a state owned or state controlled business)?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="gift-score3" data-slider-id='gift-score3-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">4.</span> Will total value of gifts provided to this recipient exceed $300 / year?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="gift-score4" data-slider-id='gift-score4-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">5.</span> Will the gift be offered to spouse, life partner, relatives, or guests?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="gift-score5" data-slider-id='gift-score5-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">6.</span> Country where Gift is provided:
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <select class="form-control" id="GiftCountry">
                    </select>
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">7.</span> Select a type of currency:                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <select id="GiftCurrencyCodeVal" class="form-control" onchange="ConvertValueToUSD('GiftCurrencyCodeVal','ValueOfGift','Giftconvertedpanel');">
                        <option value="USD">US Dollars</option>
                        <option value="GBP">Pounds</option>
                        <option value="INR">Rupees</option>
                        <option value="EUR">Euro</option>
                        <option value="CAD">Canadian Dollar</option>
                    </select>
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">8.</span> What is the value of gift (per person)?                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input id="ValueOfGift" onblur="ConvertValueToUSD('GiftCurrencyCodeVal','ValueOfGift','Giftconvertedpanel');" type="text" class="form-control" placeholder="Enter value of gift"/>
                    <span id="Giftconvertedpanel" class="UsdEq gh-currency-usd"></span>

                </div>
            </div>
    
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">9.</span> Gift Description:                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input type="text" id="DescriptionOfGift" class="form-control" placeholder="Enter brief description"/>
                </div>
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets" style="padding-left: 15px;"></span> Gift Image (optional):                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <!--<input type="file" class="form-control" placeholder="Enter brief description"/>-->
                    <input type="file" class="form-control" name="fileToUpload" id="fileToUpload"/> 
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="uploadedImagesRecipient">        
    
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets" style="margin-left: -23px;">10.</span> Is the value of this gift within your SEA guidelines?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="gift-score9" data-slider-id='gift-score9-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets" style="margin-left: -23px;">11.</span> Business Purpose:
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <select id="GiftJustification" onchange = "businessJustification()" class="form-control">
                        <option value="Token of appreciation/esteem">Token of appreciation/esteem</option>
                        <option value="Strengthen existing relationship">Strengthen existing relationship</option>
                        <option value="Ceremonial event â€“ e.g. project completion, signing ceremony, customerâ€™s anniversary">Ceremonial event â€“ e.g. project completion, signing ceremony, customerâ€™s anniversary</option>
                        <option value="Business development â€“ for new potential customers only">Business development â€“ for new potential customers only</option>
                        <option value="Other">Other</option>
                    </select>
                </div>           
            </div>
    
            <div id="GiftJustificationDiv" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 hidden" style="">                   
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <textarea class="form-control" id="GiftPurpose" height="50px" placeholder="Enter business purpose"></textarea>
                </div>
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets" style="margin-left: -23px;">12.</span> Additional Comments (optional):                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <textarea id="GiftAdditionalComments" class="form-control" height="50px"></textarea>
                </div>
            </div>
            <!--
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center;padding-top: 10px"> 
                <a class="gh-red-btn" onclick="navigateToSubmit()" href="#">Next: Review &amp; Submit</a>
            </div>
    
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="idSaveAsDraftOnPage2" style="text-align: center; padding-top: 10px;">
                    <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="createRequestandRecipient('Draft')">Save as draft</span></div>
                </div>
            </div>
            -->
            </form>
        </div>
        <!--Gifts Scorecard Questions End-->
        
        
        <!--Provider Gift Scorecard Questions Start-->    
        
        <!--Provider Gifts Scorecard Questions End-->
        
        
        <!--Meals Scorecard Questions start-->
        <div class="row gh-benefit-entry gh-score-spacing hidden" style="" id="MealScoreDiv">
            <form id="MealForm">
            <div class="ge-scorehead">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <label class="ge-scoreheader">Meals/Entertainment - Scorecard</label>
                </div>
                <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5">
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                     <span class="gh-scoreBullets">1.</span> Will the meal/entertainment occasion be before/during/after a business meeting?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="meal-score1" data-slider-id='meal-score1-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">2.</span> Will the meal/entertainment occasion be impending order award/placement?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="meal-score2" data-slider-id='meal-score2-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">3.</span> Will the Meal / entertainment / travel be provided to a government official or person affiliated with the public sector (including employee of a state owned or state controlled business)?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="meal-score3" data-slider-id='meal-score3-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">4.</span> Will total value of Meals/Entertainment provided to this recipient exceed $600 / year?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="meal-score4" data-slider-id='meal-score4-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">5.</span> Will the Meal / entertainment / travel be offered to spouse, life partner, relatives, or guests?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="meal-score5" data-slider-id='meal-score5-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">6.</span> Country where Meals/Entertainment is provided:
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <select class="form-control" id="MealsCountry">
                    </select>
                </div>
            </div> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">7.</span> Select a type of currency:                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <select id="MealCurrencyCodeVal" class="form-control" onchange="ConvertValueToUSD('MealCurrencyCodeVal','ValueOfMeal','mealconvertedpanel');">
                        <option value="USD">US Dollars</option>
                        <option value="GBP">Pounds</option>
                        <option value="INR">Rupees</option>
                        <option value="EUR">Euro</option>
                        <option value="CAD">Canadian Dollar</option>
                    </select>
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">8.</span> What is the value of meal/entertainment(per person)?                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input id="ValueOfMeal" onblur="ConvertValueToUSD('MealCurrencyCodeVal','ValueOfMeal','mealconvertedpanel');" type="text" class="form-control" placeholder="Enter value of meals/entertainment"/>
                    <span id="mealconvertedpanel" class="UsdEq gh-currency-usd"></span>
                    
                </div>
            </div>
    
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">9.</span> Meal/Entertainment Description:                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input type="text" id="DescriptionOfMeal" class="form-control" placeholder="Enter brief description"/>
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets" style="margin-left: -23px;">10.</span> Is the value of this meal/entertainment within your SEA guidelines?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="meal-score9" data-slider-id='meal-score9-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets" style="margin-left: -23px;">11.</span> Business Purpose:                
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <select id="mealJustification" onchange = "businessJustification()" class="form-control">
                        <option value="Part of business meeting/conference/event">Part of business meeting/conference/event</option>
                        <option value="Strengthen existing relationship">Strengthen existing relationship</option>
                        <option value="Business development â€“ for new potential customers only">Business development â€“ for new potential customers only</option>
                        <option value="Other">Other</option>
                    </select>
                </div>           
            </div>
    
            <div id="MealJustificationDiv" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 hidden" style="">                   
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <textarea class="form-control" id="MealsPurpose" height="50px" placeholder="Enter business purpose"></textarea>
                </div>
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets" style="margin-left: -23px;">12.</span> Additional Comments (optional)                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <textarea id="MealAdditionalComments" class="form-control" height="50px"></textarea>
                </div>
            </div>
           
            </form>
        </div>
        <!--Meals Scorecard Questions End-->
        
        <!--Provider Meals Scorecard Questions start-->
        
        <!--Provider Meals Scorecard Questions End-->
        
        
        
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center; padding-top:10px"> 
            <a class="gh-red-btn" onclick="navigateToSubmit()" href="#">Next: Review &amp; Submit</a>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"  style="text-align: center; padding-top: 10px;">
                <div class="gh-new-ghlink" onclick="" id="idSaveAsDraftOnPage2" style="padding-top: 10px; padding-bottom: 20px;"><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="createRequestandRecipient('Draft')">Save as draft</span></div>
            </div>
        </div>
    </div>
    <!----------------------------------------------- Scorecard questions ends-------------------------------------------->
    
    <!-----------------------------------------------Provider Scorecard questions starts-------------------------------------------->
    <div class="hidden" id="ProviderScorecardPage">
        <div class="row gh-message"> 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background" id="tableheader"> 
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                        Principles
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        Add New Request
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="backToAddRecipient()">
                        Back
                    </div>
                </div>
            </div>   
            <div class="row gh-stages"> 
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    <img alt="Stages" src="{!URLFOR($Resource.GEResource,'images/provider-step02-adddetails.png')}" />
                </div>
            </div> 
        
            
                    
        <!--Provider Gift Scorecard Questions Start-->    
        <div class="row gh-benefit-entry gh-score-spacing hidden" style="" id="ProviderGiftScoreDiv">
            <form id="ProviderGiftForm">
            <div class="ge-scorehead">
                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
                    <label class="ge-scoreheader">Gifts - Scorecard</label>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                     <span class="gh-scoreBullets">1.</span> Will the gift occasion be before/during/after a business meeting?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-gift-score1" data-slider-id='pro-gift-score1-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">2.</span> Will the gift occasion be impending order award/placement?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-gift-score2" data-slider-id='pro-gift-score2-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">3.</span> Was this gift solicited by you?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-gift-score3" data-slider-id='pro-gift-score3-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">4.</span> Would accepting this gift be embarrasing to the company if it were made public?
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-gift-score4" data-slider-id='pro-gift-score4-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">5.</span> Gift offered to your spouse, life partner, relatives, or guests?
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-gift-score5" data-slider-id='pro-gift-score5-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">6.</span> Select a type of currency:                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <select id="ProviderGiftCurrencyCodeVal" class="form-control" onchange="ConvertValueToUSD('ProviderGiftCurrencyCodeVal','ProValueOfGift','ProGiftconvertedpanel');">
                        <option value="USD">US Dollars</option>
                        <option value="GBP">Pounds</option>
                        <option value="INR">Rupees</option>
                        <option value="EUR">Euro</option>
                        <option value="CAD">Canadian Dollar</option>
                    </select>
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">7.</span> What is the value of gift (please provide approximate value)?                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input id="ProValueOfGift" onblur="ConvertValueToUSD('ProviderGiftCurrencyCodeVal','ProValueOfGift','ProGiftconvertedpanel');" type="text" class="form-control" placeholder="Enter value of gift"/>
                    <span id="ProGiftconvertedpanel" class="UsdEq gh-currency-usd"></span>

                </div>
            </div>
    
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">8.</span> Gift Description:                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input type="text" id="pro-DescriptionOfGift" class="form-control" placeholder="Enter brief description"/>
                </div>
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets" style="padding-left: 15px;"></span> Gift Image (optional):                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input type="file" class="form-control" placeholder="Enter brief description" id="fileToUploadProvider"/>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="uploadedImagesProvider">        
    
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">9.</span> Has your manager approved the gift receipt (note: manager's approval is required only for gifts exceeding USD 150).                
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-gift-score9" data-slider-id='pro-gift-score9-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets" style="margin-left: -23px;">10.</span> Additional Comments (optional):                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <textarea class="form-control" id="proGiftAdditionalComments" height="50px"></textarea>
                </div>
            </div>
    
            
            
            </form>
        </div>
        <!--Provider Gifts Scorecard Questions End-->
               
        <!--Provider Meals Scorecard Questions start-->
        <div class="row gh-benefit-entry gh-score-spacing hidden" style="" id="ProviderMealScoreDiv">
            <form id="ProviderMealForm">
            <div class="ge-scorehead">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <label class="ge-scoreheader">Meals/Entertainment - Scorecard</label>
                </div>
                <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5">
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                     <span class="gh-scoreBullets">1.</span> Will the meal/entertainment occasion be before/during/after a business meeting?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-meal-score1" data-slider-id='pro-meal-score1-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">2.</span> Will the meal/entertainment occasion be impending order award/placement?                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-meal-score2" data-slider-id='pro-meal-score2-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">3.</span> Was this meal/entertainment solicited by you?
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-meal-score3" data-slider-id='pro-meal-score3-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">4.</span> Would accepting this meal/entertainment be embarrasing to the company if it were made public?
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-meal-score4" data-slider-id='pro-meal-score4-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">5.</span> Meal/Entertainment offered to your spouse, life partner, relatives, or guests?
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-meal-score5" data-slider-id='pro-meal-score5-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">6.</span> Select a type of currency:                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <select id="ProviderMealCurrencyCodeVal" class="form-control" onchange="ConvertValueToUSD('ProviderMealCurrencyCodeVal','ProValueOfMeal','pro-mealconvertedpanel');">
                        <option value="USD">US Dollars</option>
                        <option value="GBP">Pounds</option>
                        <option value="INR">Rupees</option>
                        <option value="EUR">Euro</option>
                        <option value="CAD">Canadian Dollar</option>
                    </select>
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">7.</span> What is the value of meal/entertainment(please provide approximate value)?                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input id="ProValueOfMeal" onblur="ConvertValueToUSD('ProviderMealCurrencyCodeVal','ProValueOfMeal','pro-mealconvertedpanel');" type="text" class="form-control" placeholder="Enter value of meals/entertainment"/>
                    <span id="pro-mealconvertedpanel" class="UsdEq gh-currency-usd"></span>
                    
                </div>
            </div>
    
             <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets">8.</span> Meal/Entertainment Description:                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <input type="text" id="pro-DescriptionOfMeal" class="form-control" placeholder="Enter brief description"/>
                </div>
            </div>
    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="">
                    <span class="gh-scoreBullets">9.</span> Has your manager approved the meal receipt (note: manager's approval is required only for Meals exceeding USD 150).                 
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style=""> 
                    No<input id="pro-meal-score9" data-slider-id='pro-meal-score9-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">        
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">
                    <span class="gh-scoreBullets" style="margin-left: -23px;">10.</span> Additional Comments (optional):                 
                </div>
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style=""> 
                    <textarea class="form-control" height="50px" id="proMealAdditionalComments"></textarea>
                </div>
            </div>    
                        
           
            </form>
        </div>
        <!--Provider Meals Scorecard Questions End-->
        
        
        
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center; padding-top:10px"> 
            <a class="gh-red-btn" onclick="navigateToSubmit()" href="#">Next: Review &amp; Submit</a>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center; padding-top: 10px;">
                <div class="gh-new-ghlink" style="padding-top: 10px; padding-bottom: 20px;" id="idProSaveAsDraftOnPage2"><span class="glyphicon glyphicon-floppy-disk"></span><span onclick="createRequestandRecipient('Draft')" style="padding-left: 10px">Save as draft</span></div>
            </div>
        </div>
    </div>
    <!-----------------------------------------------Provider Scorecard questions ends-------------------------------------------->
    
    <!-----------------------------------------------Event Questions Start------------------------------------------------>   
     
    <div class="hidden" style="" id="EventDiv">
    
        <div class="row gh-message"> 
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background" id="tableheader"> 
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                        Principles
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        Add New Request
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="cancelEventEdition()" >
                        Cancel
                    </div>
                </div>
        </div> 
        
        <div class="row gh-stages"> 
                
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                    <img src="{!URLFOR($Resource.GEResource,'images/events-step01-addeventdetails.png')}" alt="Stages" />
                </div>
         </div> 
         
        <form id="EventForm" style="color: #777;">

        
        <div class="form-group">
            
                <div class="gh-event-label"> <span class="gh-scoreBullets">1.</span> Event Date <small style="color:#D3D3D3">(mm/dd/yyyy)</small>: </div>
                <input type="date" class="form-control" id="EventDate" placeholder="Date" style="line-height: 14px;" max="2050-12-31"/>
            
        </div>
        
        <div class="form-group">
            
            <div class="gh-event-label"> <span class="gh-scoreBullets">2.</span> Country where Event is conducted: </div>                
            
            <select id="EventCountry" onchange="" class="form-control">
                
            </select>
       </div> 
            
        <div class="form-group">
            
            <div class="gh-event-label"> <span class="gh-scoreBullets">3.</span> Type of Event: </div>                
            
            <select id="EventType" onchange="eventTypeFnc()" class="form-control">
                <option value="Conference">Conference</option>
                <option value="FAT (Factory Acceptance Test)">FAT (Factory Acceptance Test)</option>
                <option value="HUG (Honeywell User Group)">HUG (Honeywell User Group)</option>
                <option value="Kickoff Meeting">Kickoff Meeting</option>
                <option value="Signing Ceremony">Signing Ceremony</option>
                <option value="Completion of a Project">Completion of a Project</option>
                <option value="Contractual Requirement">Contractual Requirement</option>
                <option value="Product/Technology demonstration">Product/Technology demonstration</option>
                <option value="Other">Other</option>
            </select>
            
            <div id="EventTypeDiv" class="hidden" style="padding-top: 5px;">                   
                    <textarea class="form-control" id="EventTypeOther" height="50px" placeholder="Enter Event Type"></textarea>
            </div>
        </div>
 
        <div class="form-group"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;"> 
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="padding: 0px;">
                    <div class="gh-event-label" style="padding-top: 0px;"> <span class="gh-scoreBullets">4.</span> Is the recipient/invitee a government official or a person affiliated with the public sector (including employee of a state-owned or state-controlled business)?</div>                
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style="text-align: right;padding: 0px;padding-top: 15px;"> 
                    No<input id="event-score1" data-slider-id='event-score1-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
                </div>
            </div>
           
        </div>

        <div class="form-group" style="padding-top: 10px;">        
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;">
            <div class="gh-event-label" style="padding-top: 10px;"> <span class="gh-scoreBullets">5.</span> How many people are being invited to this event? </div>                            
            <input id="Numberofinvites"  type="text" class="form-control" placeholder="Enter Number of People for Event"/>      
            </div>
        </div>

        <div class="form-group" style="padding-top: 10px;">       
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;">
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="padding: 0px;">
                    <div class="gh-event-label" style="padding-top: 15px;"> <span class="gh-scoreBullets">6.</span> Are spouses, life partners or relatives invited to the event? If yes, please attach a list with details </div>                
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style="text-align: right;padding: 0px; padding-top: 15px;"> 
                    No<input id="event-score2" data-slider-id='event-score2-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>      
            </div>
            </div>
        </div>            
         
               
        <div class="form-group">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;">
            <div class="gh-event-label" style="padding-top: 10px;"> <span class="gh-scoreBullets">7.</span> Please select all costs incurred by Honeywell: </div>
            
            <div  class="gh-benfit-selection">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">                   
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <div class="gh-checkbox" id="idflights" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select"> Flights</div> 
                    </div>
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                    
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <div class="gh-checkbox" id="idaccommodation" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select"> Accommodation</div> 
                    </div>
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                    
                    </div>
                                    
                </div>

                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">                   
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <div class="gh-checkbox" id="idmeals" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select"> Meals</div> 
                    </div>
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <div class="gh-checkbox" id="identertainment" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select"> Entertainment</div> 
                    </div>
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                
                </div>
 
               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">                   
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <div class="gh-checkbox" id="idgifts" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select"> Gifts</div> 
                    </div>
                    <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="gh-checkbox" id="idlocaltransportation" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select"> Local transportation</div> 
                    </div>
                <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                
                    </div>
                </div> 

                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="">                   
                        <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                    
                        </div>
                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                            <div class="gh-checkbox" id="idvisa" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select"> Visa</div> 
                        </div>
                       <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                    
                        </div>
                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                            <div class="gh-checkbox" value="false" id="idother"><span class="glyphicon glyphicon-ok hidden"></span></div><div class="gh-benfit-select"> Other</div> 
                        </div>
                        <div class="col-xs-1 col-sm-0 col-md-0 col-lg-0">
                    
                        </div>                                           
                </div>
                
                 
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 hidden" id="costOtherDiv" style="padding: 10px 0px;">                  
                
                <input id="costOtherInfo" type="text" class="form-control" placeholder="Other" />
                
            </div>
            </div>
        </div>
     
       <div class="form-group" style="padding-top: 10px;">        
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;">
                <div class="gh-event-label" style="padding-top: 15px;"> <span class="gh-scoreBullets">8.</span> Select a type of currency:</div>                 
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;"> 
                <select id="EventCurrencyCodeVal" class="form-control" onchange="ConvertValueToUSD('EventCurrencyCodeVal','totalcost','EventConvertedpanel');">
                    <option value="USD">US Dollars</option>
                    <option value="GBP">Pounds</option>
                    <option value="INR">Rupees</option>
                    <option value="EUR">Euro</option>
                    <option value="CAD">Canadian Dollar</option>
                </select>
            </div>
        </div>
                
        <div class="form-group" style="padding-top: 10px;">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;">                  
                <div class="gh-event-label" style="padding-top: 15px;"> <span class="gh-scoreBullets">9. </span> Total costs covered by Honeywell (per recipient)   </div>            
                <input id="totalcost"  type="text" class="form-control" placeholder="Enter total cost (per recipient)" onblur="ConvertValueToUSD('EventCurrencyCodeVal','totalcost','EventConvertedpanel');"/>
                <span class="UsdEq" id="EventConvertedpanel" style="color: rgb(119, 119, 119);">USD: 00.00</span>
            </div>
        </div>

        <div class="form-group" style="padding-top: 10px;">    
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;">
                <div class="col-xs-6 col-sm-9 col-md-10 col-lg-10" style="padding: 0px">
                    <div class="gh-event-label" style="padding-top: 15px;"> <span class="gh-scoreBullets">10. </span> Is the event within your SEA guidelines?  </div>               
                </div>
                
                <div class="col-xs-6 col-sm-3 col-md-2 col-lg-2 gh-togglepadding" style="text-align: right;padding: 0px;padding-top: 15px;">
                     No<input id="event-score3" data-slider-id='event-score3-slider' type="text" data-slider-min="1" data-slider-max="2" data-slider-step="1" data-slider-value="1">Yes</input>
                </div>
            </div>
        </div>
        
        <div class="form-group" style="padding-top: 10px;">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;">
                <div class="gh-event-label" style="padding-top: 10px;"> <span class="gh-scoreBullets">11. </span> Please upload all documents related to the planning of this event <span class="font-weight: 100">(agenda, list of invitees, cost breakdown, visa requirements, letters of invitation, etc.)</span>   </div>             
           
                <input type="file" class="form-control" placeholder="" id="idEventAttach" multiple="multiple"/>
            </div>
        </div>
        
        <div class="form-group" style="padding-top: 10px;">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;margin-top: 10px;">
                <div class="gh-new-ghlink" style="" onclick="toggleTemplates();"><span onclick="">Get Templates</span></div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;margin-top: 10px;display:none" id="ghTemplates">
                <div class="gh-new-ghlink" style=""><a href="{!$Label.GHAppTemplate1}">Event Agenda_Attendance List_Template_2015.xlsx</a></div>
                <div class="gh-new-ghlink" style=""><a href="{!$Label.GHAppTemplate2}">Letter of Invitation_Visa_Template_2015.docx</a></div>
            </div>
        </div>    
        
        <div class="form-group" style="padding-top: 10px;">        
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding: 0px;">
                <div class="gh-event-label" style="padding-top: 10px;"> <span class="gh-scoreBullets">12. </span> Additional Comments (optional):  </div>               
                <textarea class="form-control" id="EventComments" height="50px"></textarea>
            </div>
        </div>
       
        
        </form>
        
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center; padding-top:10px"> 
                <a class="gh-red-btn" onclick="navigateToSubmit()" href="#">Next: Review &amp; Submit</a>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center; padding-top: 10px;">
                <div class="gh-new-ghlink" onclick="" style="padding-top: 10px; padding-bottom: 20px;" id="eventSaveAsDraft1"><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="saveEventAsDraft()">Save as draft</span></div>
            </div>
        </div>
    </div>
      
    <!----------------------------------------Event Questions End---------------------------------------->
    
    <!----------------------------------------- Review and Submit Page  ----------------------------------->    
    <div id="reviewAndSubmitPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Add New Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests()">
                    Cancel
                </div>
            </div>
        </div>   
        <!-- End of My Requests Message -->
        
        
        <!-- Recipients Details -->
        <div class="row gh-stages"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <img src="{!URLFOR($Resource.GEResource,'images/gh-stages-text3.png')}" alt="Stages" />
            </div>
        </div>  

        <div class="row gh-list-recipients" id="idReviewRecipients"> 

        </div>
        
        <div class="row"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-new-ghlink" id="addNewRecipientLink" style="text-align: right;" onclick="AddNewRecipient()"> 
                + Add New Recipient
            </div>
        </div>
        
        <div class="row gh-certify"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Certification
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                I certify that I have answered the questions above completely and correctly, to the best of my knowledge, and that the benefit is being offered in accordance with the applicable Mandatory Principles and compliance guidelines for business courtesies. I have no reason to believe that the proposed benefit is intended to or will influence anyone to engage in unethical or improper behavior or will be provided in exchange for an official act or decision of a government official or a government official's assistance in obtaining a competitive advantage or receiving favorable treatment.
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div style="margin: auto;display: block;width:100px;padding-top: 15px"><div class="gh-checkbox" id="idICertify" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><span style="padding-left: 10px;">I Certify</span></div>
            </div>
        </div>
       
            
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="gh-red-btn" onclick="submitForApproval();" href="#">Submit for Approval</a>
            </div>
            
        </div>
        
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" id="idSaveAsDraftOnPage3" style="text-align: center">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="createRequestandRecipient('Draft')">Save As Draft</span></div>
            </div>
        </div>
        
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Add Recipient Page  ----------------------------------->

    <!----------------------------------------- Provider Review and Submit Page  ----------------------------------->    
    <div id="ProviderreviewAndSubmitPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Add New Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="BackToMyRequests()">
                    Cancel
                </div>
            </div>
        </div>   
        <!-- End of My Requests Message -->

        <!-- Recipients Details -->
        <div class="row gh-stages"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <img src="{!URLFOR($Resource.GEResource,'images/provider-step03-review.png')}" alt="Stages" />
            </div>
        </div>  

        <div class="row gh-list-recipients" id="idReviewProviders"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient"> 
                    <div>Rohit K.</div>
                    <small>NTT Data, India</small>
                    <div><span>Gifts</span></div>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-recipient-customize"> 
                    <div class="" onclick="ShowEditPage()"><span class="glyphicon glyphicon-edit"/> Edit</div>
                    <div class="" onclick="CloneRec()"><span class="glyphicon glyphicon-share"/> Clone</div>
                </div>
            </div>
            
                        
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient"> 
                    <div>Andrew S.</div>
                    <small>ABC Company, USA</small>
                    <div><span>Meals/Entertainment</span></div>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-recipient-customize"> 
                    <div class="" onclick="ShowEditPage()"><span class="glyphicon glyphicon-edit" /> Edit</div>
                    <div class="" onclick="CloneRec()"><span class="glyphicon glyphicon-share"/> Clone</div>
                </div>
            </div>
        </div>
        
        <div class="row"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-new-ghlink" style="text-align: right;" onclick="AddNewRecipient()" id="addNewProviderLink"> 
                + Add New Provider
            </div>
        </div>
        
        <div class="row gh-certify"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Certification
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                I certify that I have answered the questions above completely and correctly, to the best of my knowledge, and that the benefit is being offered in accordance with the applicable Mandatory Principles and compliance guidelines for business courtesies. I have no reason to believe that the proposed benefit is intended to or will influence anyone to engage in unethical or improper behavior or will be provided in exchange for an official act or decision of a government official or a government official's assistance in obtaining a competitive advantage or receiving favorable treatment.
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div style="margin: auto;display: block;width:100px;padding-top: 15px"><div class="gh-checkbox" id="idICertifyProvider" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><span style="padding-left: 10px;">I Certify</span></div>
            </div>
        </div>
       
            
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="gh-red-btn" onclick="submitForApproval();" href="#">Submit for Approval</a>
            </div>
            
        </div>
        
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center">
                <div class="gh-new-ghlink" onclick="" id="idProSaveAsDraftOnPage3"><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="createRequestandRecipient('Draft')">Save As Draft</span></div>
            </div>
        </div>
        
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Provider Review and Submit Page Page  ----------------------------------->
    
    <!----------------------------------------- Event Review and Submit Page  ----------------------------------->    
    <div id="EventReviewAndSubmitPage" class="hidden">
        <!-- My Requests Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Add New Request
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="backToAddBenefit()">
                    Back
                </div>
            </div>
        </div>   
        <!-- End of My Requests Message -->
        
        
        <!-- Recipients Details -->
        <div class="row gh-stages"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <img src="{!URLFOR($Resource.GEResource,'images/events-step02-review.png')}" alt="Stages" />
            </div>
        </div>  
        
        
        <div class="row gh-list-recipients"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient"> 
                    <div id="reviewEventName">Conference(100)</div>
                    <small id="reviewEventDate">04/02/2015</small>
                    <div><span>Event</span></div>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-recipient-customize"> 
                    <div class="" onclick="ShowEventEditPage()"><span class="glyphicon glyphicon-edit"/> Edit</div>
                    <div id="reviewEventDelete" class="" onclick="DeleteEventReq('')"><span class="glyphicon glyphicon-trash"/> Delete</div>
                </div>
            </div>
           
        </div>
        
        <div class="row"> 

        </div>
        
        <div class="row gh-certify"> 
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                Certification
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                I certify that I have answered the questions above completely and correctly, to the best of my knowledge, and that the benefit is being offered in accordance with the applicable Mandatory Principles and compliance guidelines for business courtesies. I have no reason to believe that the proposed benefit is intended to or will influence anyone to engage in unethical or improper behavior or will be provided in exchange for an official act or decision of a government official or a government official's assistance in obtaining a competitive advantage or receiving favorable treatment.
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                <div style="margin: auto;display: block;width:100px;padding-top: 15px"><div class="gh-checkbox" id="idICertifyEvent" value="false"><span class="glyphicon glyphicon-ok hidden"></span></div><span style="padding-left: 10px;">I Certify</span></div>
            </div>
        </div>

        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="gh-red-btn" onclick="submitEventForApproval();" href="#">Submit for Approval</a>
            </div>
            
        </div>
        
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center">
                <div class="gh-new-ghlink" onclick="" id="eventSaveAsDraft2"><span class="glyphicon glyphicon-floppy-disk"></span><span style="padding-left: 10px" onclick="saveEventAsDraft()">Save As Draft</span></div>
            </div>
        </div>
        
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Event Review and Submit Page Page  ----------------------------------->
    
    <!----------------------------------------- Approval Status Page  ----------------------------------->    
    <div id="approvalStatusPage" class="hidden">
        <!-- Approval Status Message -->
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Approval Status
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                    
                </div>
            </div>
        </div>   
        <!-- End of Approval Status Message -->

        <!-- Recipients Details -->
        <div class="row gh-list-recipients" id="approvedRecipients"> 
 
        </div>

        <div class="row gh-list-recipients" id="pendingRecipients"> 

        </div>
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="btn gh-red-btn" onclick="navigateToMyRequests(1)">Back to My Requests</a>
            </div>
            
        </div>
 
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a href="tel:{!$Label.GH_HelplineNumber}" class="gh-new-ghlink">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink" onclick=""><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a href="mailto:{!$Label.GH_AccessIntegrity}" class="gh-new-ghlink" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        <!-- End of My Requests Message -->
    </div>    
    <!----------------------------------------- End of Approval Status Page  ----------------------------------->
    
    <!----------------------------------------- Start of Event Approval Status Page  ----------------------------------->
    <div class="hidden" id="EventApprovalStatusPage">
        
        <div class="row gh-message"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-myrequest-header gh-message-background"> 
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" onclick="PrinciplesModalShow()">
                    Principles
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    Approval Status
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                    
                </div>
            </div>
        </div>   
        
        
        <div class="row gh-list-recipients"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar">
                Pending Review
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="color: #777;">
                Thank you for your application, we are currently reviewing it. You will receive an email once Approved/Rejected.
            </div>
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> 
                
                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient"> 
                    <div id="submitEventName">Conference(100)</div>
                    <small id="submitEventDate">04/02/2015</small>
                    <div><span>Event</span></div>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-transation-status"> 
                    <div class="pending"><span class="glyphicon glyphicon-remove"></span> <div class="pending">(Wait)</div></div>
                </div>
            </div>
        </div>
        
        
        <div class="row gh-next"> 
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="text-align: center"> 
                <a class="btn gh-red-btn" onclick="navigateToMyRequests(1)">Back to My Requests</a>
            </div>
            
        </div>
        
                
        <div class="row" style="padding-top: 40px;padding-bottom: 10px;">
            <div class="col-xs-5 col-sm-6 col-md-6 col-lg-6" style="text-align: left">
                <div class="gh-new-ghlink"><span class="glyphicon glyphicon-earphone"></span><span style="padding-left: 5px"><a class="gh-new-ghlink" href="tel:{!$Label.GH_HelplineNumber}" target="_top">{!$Label.GH_HelplineNumber}</a></span></div>
            </div>
            
            <div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" style="text-align: right">
                <div class="gh-new-ghlink"><span class="glyphicon glyphicon-envelope"></span><span style="padding-left: 10px"><a class="gh-new-ghlink" href="mailto:{!$Label.GH_AccessIntegrity}" target="_top">Access Integrity Helpline</a></span></div>
            </div>
        </div>
        
        
    </div>
    <!----------------------------------------- End of Event Approval Status Page  ----------------------------------->

    <!--For currency response. This div is hidden starts -->
        <div id="Currencyresponsediv" style="display:none">
        </div>
    <!-- For currency response. This div is hidden ends -->

    <!-- Gift/ Meals Validation Message popup begins -->
<div id="GMValidationMessage" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center;">
                Please enter valid values for following fields.
            </div>    
            <div class="modal-body popup-body" id="idRecValidationMessage">
                
            </div>                
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Gift/ Meals Validation Message popup ends -->

<!-- Gift/ Meals Validation Message popup begins -->
<div id="RecipientNameValidationMessage" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center;">
                To Save as Draft, Please enter Recipient Name.
            </div>                   
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Gift/ Meals Validation Message popup ends -->

<!-- Recipient Deletion validation popup begins -->
<div id="RecipientDeletionValidationMessage" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center;">
                This will delete the request. Do you want to proceed with the deletion?
            </div>                   
            <div class="modal-footer popup-footer">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal" onclick="deleteRequest();">
                        Yes
                    </a>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        No
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Recipient Deletion validation popup ends -->

 <!-- Gift/ Meals Validation Message popup begins -->
<div id="ProviderNameValidationMessage" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center;">
                To Save as Draft, Please enter Provider Name.
            </div>                   
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Gift/ Meals Validation Message popup ends -->

<!-- Numeric Validation Message popup begins -->
<div id="numericValidationMessage" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center;">
                Please enter Numeric value 
            </div>                   
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Numeric Validation Message popup ends -->



<!-- Saved as draft Message popup begins -->
<div id="SaveAsDraftModal" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center; font-size: large;">
                Request Saved as Draft
            </div>                  
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Saved as draft Message popup ends -->

<!-- I Cerfity alert popup begins -->
<div id="IcertifyNotification" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center; font-size: large;">
                Please click on "I Certify" before proceeding
            </div>
                            
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- I Cerfity alert popup ends -->

<!-- Validation alert popup begins -->
<div id="validationNotification" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center; font-size: large;">
                Please enter valid values for following fields.
            </div>
            <div class="modal-body popup-body" id="idValidationMessage">
                
            </div>                   
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Validation alert popup ends -->

    <!-- validation for ListOfDraftRecipients Before Submit popup begins -->
<div id="DraftbeforesubmitValidation" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
      
            <div class="modal-body popup-body" id="idDraftbeforesubmitValidation">
                
            </div>                
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- validation for ListOfDraftRecipients Before Submit popup begins  -->

<!-- Mandatory Principles popup begins -->
<div id="MandatoryPrinciplesDiv" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center;">
                Mandatory Principles of All Benefits
            </div>
            <div class="modal-body popup-body" style="padding: 25px;">
                <div><b class="ge-ManPrmodal">1.</b>    Must promote Honeywell;</div>
                <div><b class="ge-ManPrmodal">2.</b>    Must not be lavish or extravagant under the circumstances;</div>
                <div><b class="ge-ManPrmodal">3.</b>    Must comply with applicable law;</div>
                <div><b class="ge-ManPrmodal">4.</b>    Must conform with local custom and business practice;</div>
                <div><b class="ge-ManPrmodal">5.</b>    Must not create or give the appearance of an obligation for the recipient;</div>
                <div><b class="ge-ManPrmodal">6.</b>    Must be reported and documented accurately in Honeywellâ€™s records;</div>
                <div><b class="ge-ManPrmodal">7.</b>    May not conceivably be construed as a bribe or payoff, or be embarrassing to the company in any way; and</div>
                <div><b class="ge-ManPrmodal">8.</b>    Must not be solicited by the recipient.</div>
            </div>                   
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Mandatory Principles popup ends -->

<!-- New Contact Validation popup begins-->
<div id="NewContactValidation" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center; font-size: large; color: #777;">
                Alert
            </div>
            <div class="modal-header popup-body" style="text-align: center; color: #777;">
                The Recipient entered by you doesnt exist. Create a new Contact?
            </div>                
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <div class="col-xs-6" style="padding-right:10px">
                        <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" onclick="NewContactForm();">
                            Yes
                        </a>
                    </div>
                    <div class="col-xs-6" style="padding-right:10px">
                        <a class="btn btn-default white-btn create-next-btn" style="width:100%; margin-left: 1px;" id="" type="button" data-dismiss="modal">
                            No
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- New Contact Validation popup ends-->

<!-- New Contact Form Begins-->
<div id="NewContactForm" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" style="position: absolute;overflow-y: scroll;">
    <div class="modal-dialog modal-sm">
        <div class="modal-content" style="">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center; font-size: large; color: #777;">
                New Contact Form
            </div>
            <div class="modal-header popup-body" style="text-align: center; color: #777;">
                <div class="row gh-recpients-form">
                    <form id="ContactFormId">
                        <div class="form-group">
                            <label style="float: left">First Name</label><br/>
                            <input type="text" class="form-control" id="FormContactFirstName" placeholder="Contact First Name" />
                        </div>
                        <div class="form-group">
                            <label style="float: left">Last Name</label><br/>
                            <input type="text" class="form-control" id="FormContactLastName" placeholder="Contact Last Name" />
                        </div>
                        
                        <div class="form-group">
                            <label style="float: left">Company Name</label><br/>
                            <input type="text" class="form-control" id="FormCompanyName" placeholder="Company Name" onkeypress="getDataForAutoComplete('FormCompanyName', 'FormCompanyId', 'Account')" onclick="getDataForAutoComplete('hon_lead', 'HonleadId', 'hon_lead')" />
                            <input type="hidden" class="form-control" id="FormCompanyId" />
                        </div>
                        
                        <div class="form-group">
                            <label style="float: left">Position</label><br/>
                            <input type="text" class="form-control" id="FormPosition" placeholder="Position" />
                        </div>
                        <div class="form-group">
                            <label style="float: left">City</label><br/>
                            <input type="text" class="form-control" id="FormCity" placeholder="City" />                            
                        </div>
                        <div class="form-group">
                            <label style="float: left">Country</label><br/>
                            <!-- <input type="text" class="form-control" id="FormCountry" placeholder="Country" /> -->
                            <select class="form-control" id="FormCountry"></select>
                        </div>
                        
                        <div class="form-group">
                            <label style="float: left">Email Id</label><br/>
                            <input type="text" class="form-control" id="FormEmail" placeholder="Email Id" />
                        </div>
                    </form>
                </div>
            </div>                
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <div class="col-xs-6" style="padding-right:10px">
                        <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" onclick="ConValidatepopup();">
                            Save
                        </a>
                    </div>
                    <div class="col-xs-6" style="padding-right:10px">
                        <a class="btn btn-default white-btn create-next-btn" style="width:100%; margin-left: 1px;" id="" type="button" data-dismiss="modal">
                            Cancel
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- New Contact Form Ends-->

<!-- Account Validation alert popup begins -->
<div id="AccountvalidateNotification" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center; font-size: large;">
                Notification
            </div>
            <div class="modal-body popup-body">
                Entered Company Name/Account Name does not exist. Please contact honeywell Compliance team for creating a new Account.
            </div>                   
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Account validation alert popup ends -->

<!-- Form Fields alert popup begins -->
<div id="FormFieldsValidation" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center; font-size: large;">
                Notification
            </div>
            <div class="modal-body popup-body">
                Please enter the mandatory fields marked in red.
            </div>                   
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" data-dismiss="modal">
                        Ok
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- Form Fields validation alert popup ends -->

<!-- user field alert popup begins -->
<div id="UserfieldsNotification" class="modal fade bs-example-modal-sm in" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header popup-header" style="font-weight: bold; text-align: center; font-size: large;">
                Please enter SBG and SBU before proceeding.
            </div>
            <div class="modal-body popup-body">
                <div style="padding-bottom: 25px;" id="sbusbgValidation" class="hidden">
                    <label style="float: left;color:red;">Please enter SBU and SBG.</label>
                </div>                 
                <div class="form-group">
                    <label style="float: left">SBG</label><br/>                    
                    <select class="form-control" title="SBG" id="sbgid" onchange="SbuSbgDependentPicklist(value);">
                        <option value="ACS">ACS</option>
                        <option value="AERO" selected="selected">AERO</option>
                        <option value="CORP">CORP</option>
                        <option value="PMT">PMT</option>
                        <option value="TS">TS</option>
                    </select>
                </div>             
                <div class="form-group">
                    <label style="float: left">SBU</label><br/>
                    <!--<input type="text" class="form-control" title="SBU" id="sbuid" placeholder="SBU" />-->
                    <select class="form-control" title="SBU" id="sbuid">                        
                    </select>
                </div>           
            </div>                           
            <div class="modal-footer popup-footer">
                <div class="col-xs-12" style="">
                    <a class="btn btn-default white-btn create-next-btn" style="width:100%" id="" type="button" onclick="updateuserfields();">
                        Save
                    </a>
                </div>
            </div>
        </div>
    </div> 
</div>
<!-- user field alert popup ends-->

<!-- GH Policy --> 
<div id="idGHPolicy" class="hidden">
    <apex:include pageName="GH_Policy" />
</div>
<!-- GH Policy -->
</div> 
</head>

<script src="{!URLFOR($Resource.GEResource,'/js/jquery-1.11.1.min.js')}" />
<script src="{!URLFOR($Resource.GEResource,'js/jquery-ui.js')}"></script>
<script src="{!URLFOR($Resource.GEResource,'/js/bootstrap.min.js')}" />
<script src="{!URLFOR($Resource.GEResource,'js/switch/bootstrap-switch.min.js')}"></script>
<script src="{!URLFOR($Resource.GEResource,'js/slider/bootstrap-slider.js')}"></script>
<script src="{!URLFOR($Resource.GEResource,'js/forcetk.js')}"></script>

<script src="/soap/ajax/29.0/connection.js" type="text/javascript"></script>
<script>
    
Visualforce.remoting.timeout = 120000;

    $(document).ready(function(){
        if(getParameterByName('to') == 'mylist'){
            $('#disclaimerPage').addClass('hidden');
            $('#myRequestPage').removeClass('hidden');
        }
        //get SBG, SBU values
        var allSBGValues = '{!$Label.GHAppSBG}';
        var sbgValues = allSBGValues.split(";");
        var sbgOptions = '';
        $.each(sbgValues,function(index, value){
            sbgOptions += '<option value="'+ value +'">'+ value +'</option>';
        });
        //alert(sbgOptions);
        //$('#sbuid').html(sbgOptions);
        GetSBUSBGValue();
        SbuSbgDependentPicklist('AERO');
        
        //get SBG, SBU values
        $(function () {
            $('[data-toggle="popover"]').popover()
        });
        
        $('body').on('click', function (e) {
            $('[data-toggle="popover"]').each(function () {
                //the 'is' for buttons that trigger popups
                //the 'has' for icons within a button that triggers a popup
                if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
                    $(this).popover('hide');
                }
            });
        });
        
        $(".gh-checkbox").click(function(){
            if($(this).attr('value') == 'false'){
                $(this).children().removeClass('hidden');
                $(this).attr('value','true');
            }else if($(this).attr('value') == 'true'){
                $(this).children().addClass('hidden');
                $(this).attr('value','false');
            }
        });
        
        $('.gh-status-type > div').click(function(){
            $('.gh-status-type > div').removeClass('inactive');
            $(this).addClass('inactive');
            
        });
        GetCountryList();
        //Today's date
        
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; //January is 0!
        
        var yyyy = today.getFullYear();
        if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} today = yyyy + '-' + mm + '-' + dd ;
        $('#idDate,#idDateProvider').val(today);
        $('#EventDate').val(today);
        
        //var today = new Date().toISOString().split('T')[0];
        $('#idDate,#idDateProvider').attr('min',today);
        $('#EventDate').attr('min',today);
        
        //$('#GiveReceive').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#gift-score1').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#gift-score2').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#gift-score3').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#gift-score4').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#gift-score5').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#gift-score9').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#meal-score1').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#meal-score2').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#meal-score3').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#meal-score4').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#meal-score5').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#meal-score9').slider({ handle : 'round', selection: 'before', tooltip: 'hide' }); 
        $('#event-score1').slider({ handle : 'round', selection: 'before', tooltip: 'hide' }); 
        $('#event-score2').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#event-score3').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        

        $('#pro-gift-score1').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-gift-score2').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-gift-score3').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-gift-score4').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-gift-score5').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-gift-score9').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-meal-score1').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-meal-score2').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-meal-score3').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-meal-score4').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-meal-score5').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
        $('#pro-meal-score9').slider({ handle : 'round', selection: 'before', tooltip: 'hide' });
                
        $("#ValueOfGift,#ValueOfMeal,#ProValueOfGift,#ProValueOfMeal,#Numberofinvites,#totalcost").keyup(function(){
            
            if(isNaN($(this).val()) == true){
                
                $('#numericValidationMessage').modal({
                    show:true,
                    closeOnEscape: true
                });
                $(this).val('');
            }
        });
        
        $('#idother').click(function(){
            
            if($('#idother').attr('value') == 'true'){
                $('#costOtherDiv').removeClass('hidden');
            }else if($('#idother').attr('value') == 'false'){
                $('#costOtherDiv').addClass('hidden');
            }
        });
        GetOrderList('Default');    
        FetchCurrency();
        
        /*$('#NewContactForm').on('touchstart touchmove touchend', function(e) {
            e.stopPropagation();
        });*/
        
        
        
    });
    
    function toggleTemplates(){
        $('#ghTemplates').toggle();    
    }
    
    function hideGHPolicy(val){
        if(val == 1){
            $('#idGHPolicy').addClass('hidden');
            $('#myRequestPage').removeClass('hidden');
        }else{
            $('#idGHPolicy').removeClass('hidden');
            $('#myRequestPage').addClass('hidden');
        }
    }
    
   
    // Scorecard functions Start
        // Slider functions start
        // Gift Sliders
           
        
        $('#gift-score1,#gift-score2,#gift-score3,#gift-score4,#gift-score5,#gift-score9,#meal-score1,#meal-score2,#meal-score3,#meal-score4,#meal-score5,#meal-score9').on('slideStop', function(e) {
            var c_sliderVal_1 = $(this).slider('getValue');
            if( c_sliderVal_1 == 1 ){
                
                
                $('#'+ $(this).attr('id') + '-slider').attr('style','background-color: #8B8B8B'); 
            }else {
                
                $('#'+ $(this).attr('id') + '-slider').attr('style','background-color: #0085FF');
            }  
            e.preventDefault();       
        });
        
               
        $('#pro-gift-score1,#pro-gift-score2,#pro-gift-score3,#pro-gift-score4,#pro-gift-score5,#pro-gift-score9,#pro-meal-score1,#pro-meal-score2,#pro-meal-score3,#pro-meal-score4,#pro-meal-score5,#pro-meal-score9,#event-score1,#event-score2,#event-score3').on('slideStop', function(e) {
            var c_sliderVal_1 = $(this).slider('getValue');
            if( c_sliderVal_1 == 1 ){
                
                
                $('#'+ $(this).attr('id') + '-slider').attr('style','background-color: #8B8B8B'); 
            }else {
                
                $('#'+ $(this).attr('id') + '-slider').attr('style','background-color: #0085FF');
            }  
            e.preventDefault();       
                         
        });
        
        // Slider functions end
    
    function businessJustification() {
        var JustVar = $('#GiftJustification').val();
        if(JustVar == 'Other') {
            $('#GiftJustificationDiv').removeClass('hidden');
        }
        else {
            $('#GiftJustificationDiv').addClass('hidden');
        }
        
       
        var JustVar = $('#mealJustification').val();
        if(JustVar == 'Other') {
            $('#MealJustificationDiv').removeClass('hidden');
        }
        else {
            $('#MealJustificationDiv').addClass('hidden');
        }
    }
    
    function eventTypeFnc() {
        var EveVar = $('#EventType').val();
        if(EveVar == 'Other') {
            $('#EventTypeDiv').removeClass('hidden');
        }
        else {
            $('#EventTypeDiv').addClass('hidden');
        }
    }
    
    // Convert To HTML Starts
        var convertToHtml = function(convert){
            return $("<span />", { html: convert }).text();
        };        
    // Convert To HTML ends
            
    // Currency Convertor starts
           
    function ConvertValueToUSD(currencyCodeSelectedId, valueEnteringId, panelId) {
        var CurrencyCode = $('#'+currencyCodeSelectedId).val();
        var Value = $('#'+ valueEnteringId).val();
        
        GH_OrderRequest.ConvertTOUSD(CurrencyCode, function(result, event){
            if(event.status){       
            
                var USDVal =  Value/result;
                $('#' + panelId).html('USD: '+USDVal.toFixed(2));

                $('#'+ panelId).val(USDVal.toFixed(2));
                if(USDVal > 150){
                    $('#'+ valueEnteringId).css('color','red');
                    $('#'+ panelId).css('color','red');
                }else{
                    $('#'+ valueEnteringId).css('color','black');
                    $('#'+ panelId).css('color','#777');
                }
                
            }   
        });
    }

    // Currency Convertor ends
        
    // Fetching Currency List Starts
    function FetchCurrency() {
        var currencyOptions = '';
        GH_OrderRequest.FetchCurrency(function(result,event) {
            if(event.status) {
                $.each(result, function(index, value) {
                    if(value.Currency_Code__c != 'USD'){
                        currencyOptions += '<option value="'+value.Currency_Code__c+'">'+value.Currency_Name__c+'</option>';
                    }
                });
                
                /* Code for currency with USD */

                currencyOptions = '<option value="USD">USD</option>' + currencyOptions;

                /* Code for currency with USD */
                $('#GiftCurrencyCodeVal').html(currencyOptions);   
                $('#MealCurrencyCodeVal').html(currencyOptions);
                $('#ProviderGiftCurrencyCodeVal').html(currencyOptions);   
                $('#ProviderMealCurrencyCodeVal').html(currencyOptions);
                $('#EventCurrencyCodeVal').html(currencyOptions);
            }
        });
    }
            
            
    // Fetching Currency List Ends
    
    function SaveAsDraftPopup() {
        $('#SaveAsDraftModal').modal({
            show:true,
            closeOnEscape: true
        });
        
        /*$('#addRecipientPage').addClass('hidden');
        $('#GiftScoreDiv').addClass('hidden');
        $('#reviewAndSubmitPage').addClass('hidden');
        
        
        $('#myRequestPage').removeClass('hidden');*/
    }
    function PrinciplesModalShow() {
        $('#MandatoryPrinciplesDiv').modal({
            show:true,
            closeOnEscape: true
        });
    }
    // Scorecard functions End
    
    function navigateToPrinciples(){
        
        $('#disclaimerPage').addClass('hidden');
        $('#principlesPage').removeClass('hidden');
 
    }
    
    function navigateToMyRequests(refreshData){
        
        if(refreshData == 0){
          
            $('#approvalStatusPage').addClass('hidden');
            $('#principlesPage').addClass('hidden');
            $('#myRequestPage').removeClass('hidden');
        }else if(refreshData == 1){
            GetOrderList('Save');
            $('.gh-status-type > div').removeClass('inactive');
            
            if(PendingCheck == true) {
                $('#PendingRecs').addClass('inactive');
                $('#PendingDivRecs').removeClass('hidden'); 
            }
            else {
                $('#CompleteRecs').addClass('inactive');
                $('#CompletedDivRecs').removeClass('hidden');               
            }
            $('#DraftDivRecs').addClass('hidden');
            
            if(createevent == true){
                $('#EventApprovalStatusPage').addClass('hidden');
                $('#PendingRecs').addClass('inactive');
                $('#DraftRecs, #CompleteRecs').removeClass('inactive');              
                $('#DraftDivRecs').addClass('hidden');
                $('#PendingDivRecs').removeClass('hidden'); 
                $('#CompletedDivRecs').addClass('hidden'); 
            }
        }
    }
    
    function createRequest(){
        $('#Providegift').prop('checked', true);
        receivegift = true;
        providegift = false;
        createevent = false;
        
        resetFormDetails();
        
        
        $('#idSaveAsDarftOnPage1, #idSaveAsDraftOnPage2, #idSaveAsDraftOnPage3').removeClass('hidden');
        $('#idProSaveAsDarftOnPage1, #idProSaveAsDraftOnPage2, #idProSaveAsDraftOnPage3').removeClass('hidden');
        $('#addNewRecipientLink').css('visibility','none');
            
        /* Reseting all the details for new Request */
        giftSelected = false;
        mealsSelected = false;
        GlobalIndex = '';
        listOfRecipients = new Array();
        additionOfRecipientCount = 0;
        addNewRecipientClicked = true;
        requestId= null;
        $('#idICertify').children().addClass('hidden');
        $('#idICertify').attr('value','false');
        $('#ValueOfGift').css('color','black');
        $('#Giftconvertedpanel').css('color','#777');
        $('#Giftconvertedpanel').html('USD: 00.00');
        $('#Giftconvertedpanel').val('');
        /* Reseting all the details for new Request */
        
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; //January is 0!
        var yyyy = today.getFullYear();
        
        if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} today = yyyy + '-' + mm + '-' + dd ;
        $('#idDate').val(today);

        if(SBUVal==null || SBGVal == null ){
            $('#UserfieldsNotification').modal({
                show:true,
                closeOnEscape: true
            });
            
        }
        else{
        
            $('#myRequestPage').addClass('hidden');
            $('#addRecipientPage').addClass('hidden');
            $('#myselectiontPage').removeClass('hidden');   
            $('#idRecipient').val('');
            $('#idPosition').val('');
            $('#idCompany').val('');
            $('#idCity').val('');
            $('#idCountry').val('USA');
        }
    }
    
    var isDraftRecordClicked = false;
    var listOfUploadedAttachments = [];
    function showDraftRequest(RecId){
        
        if(RecId != '') {
            isDraftRecordClicked = true;
            addNewRecipientClicked = false;
            GH_OrderRequest.DraftRecList(RecId, function(result,event) {
                var DraftListStr ='';
                console.log('result is: '+result);
                if(event.status) { 
                    if(result != '') {                  
                        requestId = RecId;
                        listOfRecipients = result;
                        
                        $.each(result, function(index, value){
                            listOfUploadedAttachments[index] = new Array();
                            if(value.Attachments != null){
                                $.each(value.Attachments, function(aIndex, aValue){
                                    var upLoadedAttachment = new Attachment();
                                    upLoadedAttachment.Id = aValue.Id;
                                    upLoadedAttachment.Name = aValue.Name;
                                    
                                    listOfUploadedAttachments[index].push(upLoadedAttachment);
                                });
                                listOfRecipients[index].Attachments = undefined;
                            }
                        });
                        
                        
                        //console.log('listOfUploadedAttachments----->' + listOfUploadedAttachments.length);
                        //console.log('listOfUploadedAttachments----->' + listOfUploadedAttachments);
                        //console.log('listOfUploadedAttachments----->' + listOfUploadedAttachments[0][0].Id);
                        //console.log('listOfUploadedAttachments----->' + listOfUploadedAttachments[0][0].Name);
                        if(result[0].Gift_Recipient__c == true){
                            providegift = true;
                            receivegift = false;
                            createevent = false;
                            createReviewAndSubmitView('AllStageDraftProvider');
                            $('#providerDraftPage').removeClass('hidden');
                            $('#myRequestPage').addClass('hidden');
                        }else if(result[0].Gift_Recipient__c == false){
                            providegift = false;
                            receivegift = true;
                            createevent = false;
                            createReviewAndSubmitView('AllStageDraft');
                            $('#draftPage').removeClass('hidden');
                            $('#myRequestPage').addClass('hidden');
                        }
                        
                       
                   }
                   else {
                       DraftListStr = '<div style="text-align:center; border-radius: 10px;">No Recipients Added</div>';
                       $('#AllStageDraft').html(DraftListStr);
                   }
                }
            });
        }
        
        listOfRecipientsToDelete = new Array();
    }
    
    function showDraftEventRequest(RecId){
        if(RecId != '') {
            ghEventId = RecId;
            createevent = true;
            receivegift = false;
            providegift = false;
            
            $('#EventDraftPage').removeClass('hidden');
            $('#myRequestPage').addClass('hidden');
            $('#reviewEventDelete').attr('onclick','DeleteEventReq(\''+ RecId +'\')');
            GH_OrderRequest.getEventDraftRecord(RecId, function(result,event) {
                var DraftListStr ='';
                console.log('result is: '+result);
                if(event.status) { 
                    if(result != null){
                        ghEvent = result;
                        //ghEvent.Id = result.Id;
                        
                        var DraftDate = normalizeDateExtended(result.Event_Date__c);
                        var Draftmonth = DraftDate[0];
                        var Draftdate = DraftDate[1];
                        var Draftyear = DraftDate[2];
                        var DraftCreatedDate = Draftmonth+' '+Draftdate+','+Draftyear;
                        
                        var eventDraftString = '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' +
                                                    '<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient">'+
                                                        '<div>'+ result.Event_Type__c +'</div>'+
                                                        '<small>' + DraftCreatedDate + '</small>'+
                                                        '<div><span>Event</span></div>'+
                                                    '</div>'+
                                                    '<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-recipient-customize"> '+
                                                        '<div class="" onclick="ShowEventEditPage()"><span class="glyphicon glyphicon-edit"/> Edit</div>'+
                                                        '<div class="" onclick="DeleteEventReq(\''+ RecId +'\')"><span class="glyphicon glyphicon-trash"/> Delete </div>'+
                                                    '</div>'+
                                                '</div>';
                        $('#draftEvent').html(eventDraftString);                                                
                    }
                }
                assignVeluesToEventForm();
            });
        }
        $('#ghTemplates').css('display','none');
        $('#idICertify,#idICertifyDraft,#idICertifyProvider,#idICertifyDraftProvider,#idICertifyEvent,#idICertifyDraftEvent').children().addClass('hidden');
        $('#idICertify,#idICertifyDraft,#idICertifyProvider,#idICertifyDraftProvider,#idICertifyEvent,#idICertifyDraftEvent').attr('value','false');
        
    }
    
    var currentOpenPendingRequestId = '';
    function showPendingRequest(RecId) {
        currentOpenPendingRequestId = RecId;
        GH_OrderRequest.DraftRecList(RecId, function(result,event) {
            var Recordstr = '';
            var ApprovedHeaderStr = '';
            var ApprovedBodyStr = '';
            var PendingBodyStr = '';
            var PendingHeaderStr = '';
            
            var Approved = 0;
            var Pending = 0;

            console.log(result);
            if(event.status) { 
                listOfRecipients  = result;
                ApprovedHeaderStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-approved-bar">'
                                            +       'Approved'
                                            +   '</div>'
                                            +   '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'
                                            +       'Thank You for your application, you can proceed with the approved transaction.'
                                            +   '</div>';
                PendingHeaderStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar">'
                                            +       'Pending Review'
                                            +   '</div>'
                                            +   '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'
                                            +       '<span style="color: #777; padding: 3px 0px;">Please <b>do not proceed</b> with the transaction until the Compliance team approves.</span>'
                                            +   '</div>';
                                                           
                $.each(result, function(index, value){                        
                    if(value.Status__c == 'Approved') {
                        Approved++;
                        var GiftMeal = '';
                        if(value.Gifts__c == true && value.Meals_Entertainment__c == false) {
                            GiftMeal = 'Gifts';
                        }
                        else if(value.Gifts__c == false && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Meals/Entertainment';
                        }
                        else if(value.Gifts__c == true && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Gifts, Meals/Entertainment';
                        }
                        else {
                            GiftMeal = 'N/A';
                        }
                        ApprovedBodyStr  +='<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'
                                            +   '<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient">'
                                            +       '<div>'+value.Name_of_Recipient__c+'</div>'
                                            +       '<small>'+value.Company__c+','+value.Country__c+'</small>'
                                            +       '<div><span>'+GiftMeal+'</span></div>'
                                            +   '</div>'
                                            +   '<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-transation-status">'
                                            +       '<div class=""><span class="glyphicon glyphicon-ok"></span> <div>(GO)</div></div>'
                                            +   '</div>'                                            
                                            +'</div>';
                    }
                    
                    if(value.Status__c == 'Pending') {
                        Pending++;
                        var GiftMeal = '';
                        if(value.Gifts__c == true && value.Meals_Entertainment__c == false) {
                            GiftMeal = 'Gifts';
                        }
                        else if(value.Gifts__c == false && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Meals/Entertainment';
                        }
                        else if(value.Gifts__c == true && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Gifts, Meals/Entertainment';
                        }
                        else {
                            GiftMeal = 'N/A';
                        }
                        PendingBodyStr  +='<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'
                                            +   '<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient">'
                                            +       '<div>'+value.Name_of_Recipient__c+'</div>'
                                            +       '<small>'+value.Company__c+','+value.Country__c+'</small>'
                                            +       '<div><span>'+GiftMeal+'</span></div>'
                                            +   '</div>'
                                            +   '<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-transation-status">'
                                            +       '<div class="pending"><span class="glyphicon glyphicon-remove"></span> <div class="pending">(Wait)</div></div>'
                                            +   '</div>'
                                            +'</div>';
                    }
                    
                    
                });
                if(Approved > 0) {
                    $('#ApprovedRequestDetail').html(ApprovedHeaderStr+ApprovedBodyStr);
                }
                else if(Approved == 0){
                    ApprovedBodyStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-approved-bar">'
                                    +       'Approved'
                                    +   '</div>'
                                    +   '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">No records found</div>';
                    $('#ApprovedRequestDetail').html(ApprovedBodyStr);
                }
                if(Pending > 0) {
                    $('#PendingRequestDetail').html(PendingHeaderStr+PendingBodyStr);
                }
                else if(Pending == 0){
                    PendingBodyStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar">'
                                    +       'Pending Review'
                                    +   '</div>'
                                    +   '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">No records found</div>';
                    $('#PendingRequestDetail').html(PendingBodyStr);
                }   
                                 
            }
        });
        $('#pendingRequestPage').removeClass('hidden');
        $('#myRequestPage').addClass('hidden');   
    }
    
    var currentOpenCompleteRequestId = '';
    var oldRequestName = '';
    function showCompletedRequest(RecId){
        currentOpenCompleteRequestId = RecId;
        
        GH_OrderRequest.GetRequestDetails(RecId, function(result,event) {
            if(event.status){
                if(result != null){
                    oldRequestName = result.Name;
                }
            }
        });
        //requestId = RecId;
         GH_OrderRequest.DraftRecList(RecId, function(result,event) {
            var Recordstr = '';
            var ApprovedHeaderStr = '';
            var ApprovedBodyStr = '';
            var RejectedBodyStr = '';
            var RejectedHeaderStr = '';
            var CancelledBodyStr = '';
            var CancelledHeaderStr = '';
            var Approved = 0;
            var Rejected = 0;
            var Cancelled = 0;
            console.log(result);
            if(event.status) {
                listOfRecipients  = result; 
                ApprovedHeaderStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-approved-bar">'
                                            +       'Approved'
                                            +   '</div>';
                RejectedHeaderStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar red">'
                                            +       'Rejected'
                                            +   '</div>';
                CancelledHeaderStr +=  '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar grey">'
                                            +       'Cancelled'
                                            +   '</div>';                                           
                $.each(result, function(index, value){                        
                    if(value.Status__c == 'Approved') {
                        Approved++;
                        var GiftMeal = '';
                        if(value.Gifts__c == true && value.Meals_Entertainment__c == false) {
                            GiftMeal = 'Gifts';
                        }
                        else if(value.Gifts__c == false && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Meals/Entertainment';
                        }
                        else if(value.Gifts__c == true && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Gifts, Meals/Entertainment';
                        }
                        else {
                            GiftMeal = 'N/A';
                        }
                        ApprovedBodyStr  +='<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'
                                            +   '<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 gh-recipient">'
                                            +       '<div>'+value.Name_of_Recipient__c+'</div>'
                                            +       '<small>'+value.Company__c+','+value.Country__c+'</small>'
                                            +       '<div><span>'+GiftMeal+'</span></div>'
                                            +   '</div>'
                                            +   '<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 gh-transation-status">'
                                            +       '<div class=""><span class="glyphicon glyphicon-ok"></span> <div>(GO)</div></div>'
                                            +   '</div>'
                                            +   '<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 gh-recipient-customize">'
                                            +       '<div class="" onclick="editCompletedRequest('+ index +');"><span class="glyphicon glyphicon-edit"/> Edit</div>'
                                            +       '<div class="" onclick="CancelRec('+ index + ',\'Completed\')"><span class="glyphicon glyphicon-remove"/> Cancel</div>'
                                            +   '</div>'
                                            +'</div>';
                    }
                    
                    if(value.Status__c == 'Rejected') {
                        Rejected++;
                        var GiftMeal = '';
                        if(value.Gifts__c == true && value.Meals_Entertainment__c == false) {
                            GiftMeal = 'Gifts';
                        }
                        else if(value.Gifts__c == false && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Meals/Entertainment';
                        }
                        else if(value.Gifts__c == true && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Gifts, Meals/Entertainment';
                        }
                        else {
                            GiftMeal = 'N/A';
                        }
                        RejectedBodyStr  +='<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'
                                            +   '<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 gh-recipient">'
                                            +       '<div>'+value.Name_of_Recipient__c+'</div>'
                                            +       '<small>'+value.Company__c+','+value.Country__c+'</small>'
                                            +       '<div><span>'+GiftMeal+'</span></div>'
                                            +   '</div>'
                                            +   '<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 gh-transation-status">'
                                            +       '<div class="nogo"><span class="glyphicon glyphicon-remove"></span> <div class="nogo">(NO-GO)</div></div>'
                                            +   '</div>'
                                            +   '<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 gh-recipient-customize">'
                                            +       '<div class="" onclick="editCompletedRequest('+ index +');"><span class="glyphicon glyphicon-edit"/> Edit</div>'
                                            +       '<div class="" onclick="CancelRec('+ index +',\'Completed\')"><span class="glyphicon glyphicon-remove"/> Cancel</div>'
                                            +   '</div>'
                                            +'</div>';
                    }
                    
                    if(value.Status__c == 'Cancelled') {
                        Cancelled++;
                        var GiftMeal = '';
                        if(value.Gifts__c == true && value.Meals_Entertainment__c == false) {
                            GiftMeal = 'Gifts';
                        }
                        else if(value.Gifts__c == false && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Meals/Entertainment';
                        }
                        else if(value.Gifts__c == true && value.Meals_Entertainment__c == true) {
                            GiftMeal = 'Gifts, Meals/Entertainment';
                        }
                        else {
                            GiftMeal = 'N/A';
                        }
                        CancelledBodyStr  +='<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'
                                            +   '<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 gh-recipient">'
                                            +       '<div>'+value.Name_of_Recipient__c+'</div>'
                                            +       '<small>'+value.Company__c+','+value.Country__c+'</small>'
                                            +       '<div><span>'+GiftMeal+'</span></div>'
                                            +   '</div>'
                                            +   '<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 gh-transation-status">'
                                            +       '<div class="cancel"><span class="glyphicon glyphicon-remove"></span> <div class="cancel">(Cancel)</div></div>'
                                            +   '</div>'
                                            +   '<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 gh-recipient-customize">'
                                            
                                            +   '</div>'
                                            +'</div>';
                    }
                    
                });
                if(Approved > 0) {
                    $('#CompletedApprovedRequestDetail').html(ApprovedHeaderStr+ApprovedBodyStr);
                }
                else if(Approved == 0){
                    ApprovedBodyStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-approved-bar">'
                                    +       'Approved'
                                    +   '</div>'
                                    +   '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">No records found</div>';
                    $('#CompletedApprovedRequestDetail').html(ApprovedBodyStr);
                }
                if(Rejected > 0) {
                    $('#CompletedRejectedRequestDetail').html(RejectedHeaderStr+RejectedBodyStr);
                }
                else if(Rejected == 0){
                    RejectedBodyStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar red">'
                                    +       'Rejected'
                                    +   '</div>'
                                    +   '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">No records found</div>';
                    $('#CompletedRejectedRequestDetail').html(RejectedBodyStr);
                }  
                
                if(Cancelled> 0) {
                    $('#CompletedCancelledRequestDetail').html(CancelledHeaderStr+CancelledBodyStr);
                }
                else if(Cancelled == 0){
                    CancelledBodyStr += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar grey">'
                                    +       'Cancelled'
                                    +   '</div>'
                                    +   '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">No records found</div>';
                    $('#CompletedCancelledRequestDetail').html(CancelledBodyStr);
                }                   
            }
        });
        
         $('#completedRequestPage').removeClass('hidden');
         $('#myRequestPage').addClass('hidden');
    
    }

    function showPendingEventRequest(recId){
        $('#pendingEventRequestPage').removeClass('hidden');
        $('#myRequestPage').addClass('hidden');
        GH_OrderRequest.getEventRequest(recId, function(result, event){
            if(event.status){
                if(result != null){
                    var PendingDate = normalizeDateExtended(result.Event_Date__c);
                    var Pendingmonth = PendingDate[0];
                    var Pendingdate = PendingDate[1];
                    var Pendingyear = PendingDate[2];
                    var PendingCreatedDate = Pendingmonth+' '+Pendingdate+','+Pendingyear;
                    
                    var pendingEventString = '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar">' +
                                                'Pending Review' +
                                                '</div>' +
            
            
                                            '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >' +
                                            '<span style="color: #777; padding: 3px 0px;">Please <b>do not proceed</b> with the transaction until the Compliance team approves.</span>'+
                                            '<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient">' + 
                                                '<div>' + result.Event_Type__c + ' (' + result.Number_of_people_for_event__c + ')</div>' +
                                                '<small>'+ PendingCreatedDate +'</small>'+
                                                '<div><span>Event</span></div>'+
                                            '</div>'+
                                            '<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-transation-status">' + 
                                                '<div class="pending"><span class="glyphicon glyphicon-remove"></span> <div class="pending">(Wait)</div></div>' +
                                            '</div>' +
                                            '</div>'; 
                    $('#pendingEvent').html(pendingEventString);    
                }
            }
        });
    }
    var ghEventCompleted;
    function showCompletedEventRequest(recId){
        CompletedEventEditClicked = false;
        $('#eventSaveAsDraft2').removeClass('hidden');
        $('#eventSaveAsDraft1').removeClass('hidden');
        receivegift = false;
        providegift = false;
        createevent = true;
        $('#completedEventRequestPage').removeClass('hidden');
        $('#myRequestPage').addClass('hidden');
        GH_OrderRequest.getEventRequest(recId, function(result, event){
            if(event.status){
                if(result != null){
                    var CompletedDate = normalizeDateExtended(result.Event_Date__c);
                    var Completedmonth = CompletedDate[0];
                    var Completeddate = CompletedDate[1];
                    var Completedyear = CompletedDate[2];
                    var CompletedCreatedDate = Completedmonth+' '+Completeddate+','+Completedyear ;
                    ghEvent = result;
                    ghEventCompleted = result;
                    //ghEvent.GH_Req_Number__c = 
                    if(result.Event_status__c == 'Approved'){
                        var approvedEventString = '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-approved-bar">' + 
                                                        'Approved' +
                                                    '</div>' +
                                                    '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                                        '<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 gh-recipient">' +
                                                            '<div>' + result.Event_Type__c + ' (' + result.Number_of_people_for_event__c + ')</div>' +
                                                            '<small>'+ CompletedCreatedDate +'</small>'+
                                                            '<div><span>Event</span></div>' +
                                                        '</div>' +
                                                        '<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 gh-transation-status">'+
                                                            '<div class=""><span class="glyphicon glyphicon-ok"></span> <div>(GO)</div></div>' + 
                                                        '</div>' +
                                                        '<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 gh-recipient-customize">'+
                                                            '<div class="" onclick="editCompletedEvent();">'+
                                                                '<span class="glyphicon glyphicon-edit"></span> Edit '+
                                                             '</div>'+
                                                             '<div class="" onclick="cancelEvent()">'+ 
                                                                 '<span class="glyphicon glyphicon-remove"></span> Cancel' + 
                                                             '</div>'+ 
                                                        '</div>'+
                                                    '</div>'; 
                                                    
                        $('#completedEvent').html(approvedEventString);  
                    }else if(result.Event_status__c == 'Rejected'){
                        var rejectedEventString = '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar red">' + 
                                                        'Rejected' +
                                                    '</div>' +
                                                    '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                                        '<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 gh-recipient">' +
                                                            '<div>' + result.Event_Type__c + ' (' + result.Number_of_people_for_event__c + ')</div>' +
                                                            '<small>'+ CompletedCreatedDate +'</small>'+
                                                            '<div><span>Event</span></div>' +
                                                        '</div>' +
                                                        '<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 gh-transation-status">'+
                                                            '<div class="nogo"><span class="glyphicon glyphicon-remove"></span> <div class="nogo">(NO-GO)</div></div>' + 
                                                        '</div>' +
                                                        '<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 gh-recipient-customize">'+
                                                            '<div class="" onclick="editCompletedEvent();">'+
                                                                '<span class="glyphicon glyphicon-edit"></span> Edit '+
                                                             '</div>'+
                                                             '<div class="" onclick="cancelEvent()">'+ 
                                                                 '<span class="glyphicon glyphicon-remove"></span> Cancel' + 
                                                             '</div>'+ 
                                                        '</div>'+
                                                    '</div>'; 
                        $('#completedEvent').html(rejectedEventString);
                    }else if(result.Event_status__c == 'Cancel'){
                        var cancelledEventString = '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar grey">' + 
                                                        'Cancelled' +
                                                    '</div>' +
                                                    '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                                        '<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 gh-recipient">' +
                                                            '<div>' + ghEvent.Event_Type__c + ' (' + ghEvent.Number_of_people_for_event__c + ')</div>' +
                                                            '<small>'+ CompletedCreatedDate +'</small>'+
                                                            '<div><span>Event</span></div>' +
                                                        '</div>' +
                                                        '<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 gh-transation-status">'+
                                                            '<div class="cancel"><span class="glyphicon glyphicon-remove"></span> <div class="cancel">(Cancel)</div></div>' + 
                                                        '</div>' +
                                                        '<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 gh-recipient-customize">'+
                                                             
                                                        '</div>'+
                                                    '</div>'; 
                                                    
                        $('#completedEvent').html(cancelledEventString);
                    }  
                }
            }
        });
    }
    var giftSelected = false;
    var mealsSelected = false;
    
    function navigateToBenefitDetails(){ 
    
        $('#addProviderPage').addClass('hidden');
        $('#addRecipientPage').addClass('hidden');
        
        
        if(receivegift == true){
            $('#scorecardPage').removeClass('hidden');
            if($('#idGifts').attr('value') == 'true') {
                $('#GiftScoreDiv').removeClass('hidden');
                $('#MealScoreDiv').addClass('hidden');
                $('#ProviderMealScoreDiv').addClass('hidden');
                $('#ProviderGiftScoreDiv').addClass('hidden');
                giftSelected = true;
            }
            if($('#idME').attr('value') == 'true') {
                $('#MealScoreDiv').removeClass('hidden');
                $('#GiftScoreDiv').addClass('hidden');
                $('#ProviderMealScoreDiv').addClass('hidden');
                $('#ProviderGiftScoreDiv').addClass('hidden');
                mealsSelected = true;
            }
            
            
            if($('#idME').attr('value') == 'true' && $('#idGifts').attr('value') == 'true') {
                $('#MealScoreDiv').removeClass('hidden');
                $('#GiftScoreDiv').removeClass('hidden');
                $('#ProviderMealScoreDiv').addClass('hidden');
                $('#ProviderGiftScoreDiv').addClass('hidden');
            }
            if($('#ValueOfGift').val() != '') {
                //ConvertGiftToUSD();
            }
        }else if(providegift == true){
            $('#ProviderScorecardPage').removeClass('hidden');
            if($('#idGiftsProvider').attr('value') == 'true') {
                $('#ProviderGiftScoreDiv').removeClass('hidden'); 
                $('#ProviderMealScoreDiv').addClass('hidden');
                $('#MealScoreDiv').addClass('hidden');
                $('#GiftScoreDiv').addClass('hidden');
                giftSelected = true;
            }
            if($('#idMEProvider').attr('value') == 'true') {
                $('#ProviderGiftScoreDiv').addClass('hidden');
                $('#ProviderMealScoreDiv').removeClass('hidden');
                $('#MealScoreDiv').addClass('hidden');
                $('#GiftScoreDiv').addClass('hidden');
                mealsSelected = true;
            }
            
            
            if($('#idMEProvider').attr('value') == 'true' && $('#idGiftsProvider').attr('value') == 'true') {
                $('#ProviderMealScoreDiv').removeClass('hidden');
                $('#ProviderGiftScoreDiv').removeClass('hidden');
                $('#MealScoreDiv').addClass('hidden');
                $('#GiftScoreDiv').addClass('hidden');
            }
        }
    
    }
    
    function calcDaysBetweeneditrecep(creDate, entDate) {
       //alert(+entDate.getTime());
       //alert(+creDate.getTime());
       //alert(+(entDate.getTime() - creDate.getTime()));
        var var1 = Math.floor((entDate.getTime() - creDate.getTime()) / 86400000);
        //var var2 = (entDate - creDate) / (1000 * 60 * 60 * 24);
        //alert('var1' +var1);
        //alert('var2' +var2);
        //return (entDate - creDate) / (1000 * 60 * 60 * 24);
        return var1+1;
    }
    function calcDaysBetweennewrecep(todayDate, entDate) {
        var var2 = Math.floor((entDate.getTime() - todayDate.getTime()) / 86400000);
       //return (entDate - todayDate) / (1000 * 60 * 60 * 24);
       return var2;
       
    }
    
    function validateRecipinetDetails(){
            
        var validated = true;
        var message = '';
        
               
        if($('#idRecipient').val() == ''){
            message += 'Recipient Name<br/>';
            validated = false;
        }

        if($('#idPosition').val() == ''){
            message += 'Position <br/>';
            validated = false;

        }
        if($('#idCompany').val() == ''){
            message += 'Company <br/>';
            validated = false;
        }
        /*if($('#idCompany').val() != '' && $('#idCompanyId').val() == ''){
            message += 'Company<br/>';
            validated = false;
        }*/
        if($('#idCity').val() == ''){
            message += 'City <br/>';
            validated = false;
        }
        if($('#idCountry').val() == '' || $('#idCountry').val() == undefined){
            message += 'Country<br/>';
            validated = false;
        }

        var startDate = new Date();
        console.log('startDate >> ' + startDate);

            var startDateMonth = startDate.getMonth()+"";if(startDateMonth.length==1)  startDateMonth="0" +startDateMonth;
            var startDateDate = startDate.getDate()+"";
            console.log('startDateDate >> ' + startDateDate );
            if(startDateDate.length==1) startDateDate="0" +startDateDate;
            console.log('startDateDate 1>> ' + startDateDate );
            var startDatemonthInt= parseInt(startDateMonth,10) + parseInt(1,10);

        var enteredDate; 
        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
            enteredDate = new Date(new Date($('#idDate').val()).getTime() + new Date().getTimezoneOffset() * 60000);
        }else{
            enteredDate = new Date(new Date($('#idDate').val()).getTime() + new Date().getTimezoneOffset() * 60000);
        }
        console.log('enteredDate >'+enteredDate);
        

            var enteredDateMonth = enteredDate.getMonth()+"";if(enteredDateMonth.length==1)  enteredDateMonth="0" +enteredDateMonth;
            var enteredDateDate = enteredDate.getDate()+"";
            console.log('enteredDateDate 1 >>' + enteredDateDate);
            if(enteredDateDate.length==1) enteredDateDate="0" +enteredDateDate;
            var enteredDatemonthInt= parseInt(enteredDateMonth,10) + parseInt(1,10);

        console.log('enteredDateDate 2 >>' + enteredDateDate);
        var editDate = new Date(createddate);

            var editDateMonth = editDate.getMonth()+"";if(editDateMonth.length==1)  editDateMonth="0" +editDateMonth;
            var editDateDate = editDate.getDate()+"";if(editDateDate.length==1) editDateDate="0" +editDateDate;
            var editDatemonthInt= parseInt(editDateMonth,10) + parseInt(1,10);

        var DrafteditDate = new Date(Draftcreateddate); 
            var DrafteditDateMonth = DrafteditDate.getMonth()+"";if(DrafteditDateMonth.length==1)  DrafteditDateMonth="0" +DrafteditDateMonth;
            var DrafteditDateDate = DrafteditDate.getDate()+"";if(DrafteditDateDate.length==1) DrafteditDateDate="0" +DrafteditDateDate;
            var DrafteditDatemonthInt= parseInt(DrafteditDateMonth,10) + parseInt(1,10);
        
        if((editingCompletedRequest == false && addNewRecipientClicked == true ) 
            && ((parseInt(startDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(startDatemonthInt)<=parseInt(enteredDatemonthInt) 
            && (parseInt(startDateDate) <=parseInt(enteredDateDate))) 
            || (parseInt(startDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(startDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(startDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(startDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){
            console.log('here 1');
            message += '';
            //validated = true;
            
        }
        else if(editingCompletedRequest == false && addNewRecipientClicked == true)
        {
            console.log('here 2');
            message += 'Date <br/>';
            validated = false;
        }
            
        if((editingCompletedRequest == true && addNewRecipientClicked == false ) 
            && ((parseInt(editDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(editDatemonthInt)<=parseInt(enteredDatemonthInt) 
            && (parseInt(editDateDate) <=parseInt(enteredDateDate))) 
            || (parseInt(editDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(editDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(editDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(editDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){
            console.log('here 3');
            message += '';
            
        }
        else if(editingCompletedRequest == true && addNewRecipientClicked == false)
        {

            message += 'Date <br/>';
            validated = false;
        }
        
        if((editingCompletedRequest == false && addNewRecipientClicked == false 
            && Draftcreateddate != null && Draftcreateddate != 'Invalid Date')
            &&((parseInt(DrafteditDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) && 
                parseInt(DrafteditDatemonthInt)<=parseInt(enteredDatemonthInt) && 
                parseInt(DrafteditDateDate) <=parseInt(enteredDateDate)) 
            || (parseInt(DrafteditDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(DrafteditDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(DrafteditDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(DrafteditDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){   
            console.log('here 4');


            message += '';
            
        }
        else if(editingCompletedRequest == false && addNewRecipientClicked == false && Draftcreateddate != null && Draftcreateddate != 'Invalid Date')
        {   
            console.log('here 5');

            message += 'Date <br/>';
            validated = false;
        }
        
        if($('#idGifts').attr('value') == 'false' && $('#idME').attr('value') == 'false') {
            message += 'Select Benefit<br/>';
            validated = false;
        } 
        
        if(message != ''){
            $('#idRecValidationMessage').html(message);
            $('#GMValidationMessage').modal({
                show:true,
                closeOnEscape: true
            });
        }
        return validated;
    }
    
    function validateProviderDetails(){
        var validated = true;
        var message = '';
        
               
        if($('#idProvider').val() == ''){
            message += 'Provider Name<br/>';
            validated = false;
        }
        if($('#idPositionProvider').val() == ''){
            message += 'Position <br/>';
            validated = false;
        }
        if($('#idCompanyProvider').val() == ''){
            message += 'Company <br/>';
            validated = false;
        }
        /*if($('#idCompanyProvider').val() != '' && $('#idCompanyProviderId').val() == ''){
            message += 'Company<br/>';
            validated = false;
        }*/
        
        if($('#idCityProvider').val() == ''){
            message += 'City <br/>';
            validated = false;
        }
        if($('#idCountryProvider').val() == '' || $('#idCountryProvider').val() == undefined){
            message += 'Country<br/>';
            validated = false;
        }
        
        var startDate = new Date();

            var startDateMonth = startDate.getMonth()+"";if(startDateMonth.length==1)  startDateMonth="0" +startDateMonth;
            var startDateDate = startDate.getDate()+"";if(startDateDate.length==1) startDateDate="0" +startDateDate;
            var startDatemonthInt= parseInt(startDateMonth,10) + parseInt(1,10);
        var enteredDate; 
        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
            enteredDate = new Date(new Date($('#idDateProvider').val()).getTime() + new Date().getTimezoneOffset() * 60000);
        }else{
            enteredDate = new Date(new Date($('#idDateProvider').val()).getTime() + new Date().getTimezoneOffset() * 60000);
        }
            var enteredDateMonth = enteredDate.getMonth()+"";if(enteredDateMonth.length==1)  enteredDateMonth="0" +enteredDateMonth;
            var enteredDateDate = enteredDate.getDate()+"";if(enteredDateDate.length==1) enteredDateDate="0" +enteredDateDate;
            var enteredDatemonthInt= parseInt(enteredDateMonth,10) + parseInt(1,10);

        var editDate = new Date(createddate);

            var editDateMonth = editDate.getMonth()+"";if(editDateMonth.length==1)  editDateMonth="0" +editDateMonth;
            var editDateDate = editDate.getDate()+"";if(editDateDate.length==1) editDateDate="0" +editDateDate;
            var editDatemonthInt= parseInt(editDateMonth,10) + parseInt(1,10);

        var DrafteditDate = new Date(Draftcreateddate); 
            var DrafteditDateMonth = DrafteditDate.getMonth()+"";if(DrafteditDateMonth.length==1)  DrafteditDateMonth="0" +DrafteditDateMonth;
            var DrafteditDateDate = DrafteditDate.getDate()+"";if(DrafteditDateDate.length==1) DrafteditDateDate="0" +DrafteditDateDate;
            var DrafteditDatemonthInt= parseInt(DrafteditDateMonth,10) + parseInt(1,10);
        
        if((editingCompletedRequest == false && addNewRecipientClicked == true ) 
            && ((parseInt(startDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(startDatemonthInt)<=parseInt(enteredDatemonthInt) 
            && (parseInt(startDateDate) <=parseInt(enteredDateDate))) 
            || (parseInt(startDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(startDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(startDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(startDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){

            message += '';
        }
        else if(editingCompletedRequest == false && addNewRecipientClicked == true)
        {

            message += 'Date <br/>';
            validated = false;
        }
            
        if((editingCompletedRequest == true && addNewRecipientClicked == false) 
            && ((parseInt(editDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(editDatemonthInt)<=parseInt(enteredDatemonthInt) 
            && (parseInt(editDateDate) <=parseInt(enteredDateDate))) 
            || (parseInt(editDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(editDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(editDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(editDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){
            message += '';
            
        }
        else if(editingCompletedRequest == true && addNewRecipientClicked == false)
        {
            message += 'Date <br/>';
            validated = false;
        }
        
        if((editingCompletedRequest == false && addNewRecipientClicked == false 
            && Draftcreateddate != undefined && Draftcreateddate != 'Invalid Date')
            &&((parseInt(DrafteditDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) && 
                parseInt(DrafteditDatemonthInt)<=parseInt(enteredDatemonthInt) && 
                parseInt(DrafteditDateDate) <=parseInt(enteredDateDate)) 
            || (parseInt(DrafteditDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(DrafteditDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(DrafteditDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(DrafteditDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){   

            message += '';           
        }
        else if(editingCompletedRequest == false && addNewRecipientClicked == false && Draftcreateddate != undefined && Draftcreateddate != 'Invalid Date')
        {   
            message += 'Date <br/>';
            validated = false;
        }
        
        if($('#idGiftsProvider').attr('value') == 'false' && $('#idMEProvider').attr('value') == 'false') {
            message += 'Select Benefit<br/>';
            validated = false;
        } 
        
        if(message != ''){
            $('#idRecValidationMessage').html(message);
            $('#GMValidationMessage').modal({
                show:true,
                closeOnEscape: true
            });
        }
        return validated;
    }
    function validateEventDetails(){
            
        var validated = true;
        var message = '';
        
               
        if($('#EventDate').val() == ''){
            message += 'Event Date<br/>';
            validated = false;
        }
        
        var startDate = new Date();

            var startDateMonth = startDate.getMonth()+"";if(startDateMonth.length==1)  startDateMonth="0" +startDateMonth;
            var startDateDate = startDate.getDate()+"";if(startDateDate.length==1) startDateDate="0" +startDateDate;
            var startDatemonthInt= parseInt(startDateMonth,10) + parseInt(1,10);

        var enteredDate;
        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
            enteredDate = new Date(new Date($('#EventDate').val()).getTime() + new Date().getTimezoneOffset() * 60000);
        }else{
            enteredDate = new Date(new Date($('#EventDate').val()).getTime() + new Date().getTimezoneOffset() * 60000);
        }

            var enteredDateMonth = enteredDate.getMonth()+"";if(enteredDateMonth.length==1)  enteredDateMonth="0" +enteredDateMonth;
            var enteredDateDate = enteredDate.getDate()+"";if(enteredDateDate.length==1) enteredDateDate="0" +enteredDateDate;
            var enteredDatemonthInt= parseInt(enteredDateMonth,10) + parseInt(1,10);
        var editDate = new Date(createddate);
            var editDateMonth = editDate.getMonth()+"";if(editDateMonth.length==1)  editDateMonth="0" +editDateMonth;
            var editDateDate = editDate.getDate()+"";if(editDateDate.length==1) editDateDate="0" +editDateDate;
            var editDatemonthInt= parseInt(editDateMonth,10) + parseInt(1,10);

        var DrafteditDate = new Date(Draftcreateddate); 
            var DrafteditDateMonth = DrafteditDate.getMonth()+"";if(DrafteditDateMonth.length==1)  DrafteditDateMonth="0" +DrafteditDateMonth;
            var DrafteditDateDate = DrafteditDate.getDate()+"";if(DrafteditDateDate.length==1) DrafteditDateDate="0" +DrafteditDateDate;
            var DrafteditDatemonthInt= parseInt(DrafteditDateMonth,10) + parseInt(1,10);
        
        if(editingCompletedRequest == false && addNewRecipientClicked == true 
            && ((parseInt(startDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(startDatemonthInt)<=parseInt(enteredDatemonthInt) 
            && (parseInt(startDateDate) <=parseInt(enteredDateDate))) 
            || (parseInt(startDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(startDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(startDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(startDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){
            message = '';
            validated = true;
            
        }
        else if(editingCompletedRequest == false && addNewRecipientClicked == true)
        {
            message += 'Date <br/>';
            validated = false;
        }
            
        if(editingCompletedRequest == true && addNewRecipientClicked == false 
            &&((parseInt(editDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) && 
                parseInt(editDatemonthInt)<=parseInt(enteredDatemonthInt) && 
                parseInt(editDateDate) <=parseInt(enteredDateDate)) 
            || (parseInt(editDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(editDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(editDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(editDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){
            message = '';
            
        }
        else if(editingCompletedRequest == true && addNewRecipientClicked == false)
        {
            message += 'Date <br/>';
            validated = false;
        }
        
        if(editingCompletedRequest == false && addNewRecipientClicked == false 
            &&((parseInt(DrafteditDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) && 
                parseInt(DrafteditDatemonthInt)<=parseInt(enteredDatemonthInt) && 
                parseInt(DrafteditDateDate) <=parseInt(enteredDateDate)) 
            || (parseInt(DrafteditDate.getFullYear()) <= parseInt(enteredDate.getFullYear()) 
            && parseInt(DrafteditDatemonthInt)< parseInt(enteredDatemonthInt) 
            && (parseInt(DrafteditDateDate) > parseInt(enteredDateDate))) 
            || (parseInt(DrafteditDate.getFullYear()) < parseInt(enteredDate.getFullYear())))){   
            message = '';
            
        }
        else if(editingCompletedRequest == false && addNewRecipientClicked == false)
        {   
            message += 'Date <br/>';
            validated = false;
        }
        
        if($('#EventType').val() == 'Other' && $('#EventTypeOther').val() == '') {
            message += 'Type Of Event<br/>';
            validated = false;
        } 
        if($('#Numberofinvites').val() == '') {
            message += 'Number Of People invited<br/>';
            validated = false;
        }
        
        if($('#totalcost').val() == '') {
            message += 'Total cost per Recipient<br/>';
            validated = false;
        }else{
            if($('#EventConvertedpanel').val() == ''){
                message += 'Please wait till total value is populated in USD<br/>';
                validated = false;
            }
        }
        
        if($('#idother').attr('value') == 'true' && $('#costOtherInfo').val() == ''){
            message += 'Cost incurred by Honeywell<br/>';
            validated = false;
        }
        
        if(message != ''){
            $('#idRecValidationMessage').html(message);
            $('#GMValidationMessage').modal({
                show:true,
                closeOnEscape: true
            });
        }
        return validated;
    }
    
    function navigateToProcess(){

        if(providegift == true){
            $('#addProviderPage').removeClass('hidden');
            $('#myselectiontPage').addClass('hidden');
        }
        if(receivegift == true){
            $('#addRecipientPage').removeClass('hidden');
            $('#myselectiontPage').addClass('hidden');
        }
        if(createevent == true){
            $('#addRecipientPage').addClass('hidden');
            $('#myselectiontPage').addClass('hidden');
            $('#EventDiv').removeClass('hidden');
        }

    
    }
    
    function validateRecipients(){
        
        var validated = true;
        var message = '';
        
        
        if(receivegift == true){
            if($('#idGifts').attr('value') == 'true') {
                if($('#ValueOfGift').val() == '' || $('#ValueOfGift').val() == null || isNaN($('#ValueOfGift').val()) == true){
                    message += 'Gift Value <br/>';
                    validated = false;
                }else{
                    if($('#Giftconvertedpanel').val() == ''){
                        message += 'Please wait till Gift Value is populated in USD.<br/>';
                        validated = false;
                    }
                }
                
                if($('#DescriptionOfGift').val() == '' || $('#DescriptionOfGift').val() == null){
                    message += 'Gift Description <br/>';
                    validated = false;
                }
                
                if($('#GiftJustification').val() == 'Other' && ($('#GiftPurpose').val() == '' || $('#GiftPurpose').val() == null)){
                    message += 'Business Purpose (Gift) <br/>';
                    validated = false;
                }
                
            }
            
            
            if($('#idME').attr('value') == 'true'){
                if($('#ValueOfMeal').val() == '' || $('#ValueOfMeal').val() == null || isNaN($('#ValueOfMeal').val()) == true){
                    message += 'Meals/Entertainment Value <br/>';
                    validated = false;
                }else{
                    if($('#mealconvertedpanel').val() == ''){
                        message += 'Please wait till Meal Value is populated in USD.<br/>';
                        validated = false;
                    }
                }
                
                if($('#DescriptionOfMeal').val() == '' || $('#DescriptionOfMeal').val() == null ){
                    message += 'Meals/Entertainment Description <br/>';
                    validated = false;
                }
                
                if($('#mealJustification').val() == 'Other' && ($('#MealsPurpose').val() == '' || $('#MealsPurpose').val() == null)){
                    message += 'Business Purpose (Meals/Entertainment) <br/>';
                    validated = false;
                }
            }
        }else if(providegift == true){
            if($('#idGiftsProvider').attr('value') == 'true') {
                if($('#ProValueOfGift').val() == '' || $('#ProValueOfGift').val() == null || isNaN($('#ProValueOfGift').val()) == true){
                    message += 'Gift Value <br/>';
                    validated = false;
                }else{
                    if($('#ProGiftconvertedpanel').val() == ''){
                        message += 'Please wait till Gift Value is populated in USD.<br/>';
                        validated = false;
                    }
                }
                
                if($('#pro-DescriptionOfGift').val() == '' || $('#DescriptionOfGift').val() == null){
                    message += 'Gift Description <br/>';
                    validated = false;
                }
     
            }

            if($('#idMEProvider').attr('value') == 'true'){
                if($('#ProValueOfMeal').val() == '' || $('#ProValueOfMeal').val() == null || isNaN($('#ProValueOfMeal').val()) == true){
                    message += 'Meals/Entertainment Value <br/>';
                    validated = false;
                }else{
                    if($('#pro-mealconvertedpanel').val() == ''){
                        message += 'Please wait till Meal Value is populated in USD.<br/>';
                        validated = false;
                    }
                }
                
                if($('#pro-DescriptionOfMeal').val() == '' || $('#DescriptionOfMeal').val() == null ){
                    message += 'Meals/Entertainment Description <br/>';
                    validated = false;
                }
            }
            
        }
        if(message != ''){
            $('#idValidationMessage').html(message);
            
            $('#validationNotification').modal({
                show:true,
                closeOnEscape: true
            });
        }
        
        return validated;
    }
    
    function validateListOfDraftRecipientsBeforeSubmit() {
        var message = '';
        var validated = true;
        $.each(listOfRecipients, function(index, value){
            var indexNew = index + 1;
            if(listOfRecipients[index].Name_of_Recipient__c == ''){
                //message += index+1 + ',';
                if(listOfRecipients[index].Gift_Recipient__c == true){
                    message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                }else{
                    message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                }
                validated = false;
            }
            else if(listOfRecipients[index].Date__c == ''){
                //message += index+1 + ',';
                //message += 'Recipient#'+index+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                if(listOfRecipients[index].Gift_Recipient__c == true){
                    message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                }else{
                    message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                }
                validated = false;
            }    
            else if(listOfRecipients[index].Gifts__c == false && listOfRecipients[index].Meals_Entertainment__c == false) {
                if(listOfRecipients[index].Gift_Recipient__c == true){
                    message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                }else{
                    message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                }
                //message += index+1 + ',';
                validated = false;
            }
            else if( listOfRecipients[index].Gift_Recipient__c == true && listOfRecipients[index].Meals_Entertainment__c == false && listOfRecipients[index].Gifts__c == false){
                message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                validated = false;
            }
            else if( listOfRecipients[index].Gift_Recipient__c == true && listOfRecipients[index].Meals_Entertainment__c == true && listOfRecipients[index].Gifts__c == true){
                    if(listOfRecipients[index].Pro_Gift_Value_Per_Currency__c == '' || listOfRecipients[index].Pro_Gift_Value_Per_Currency__c == null){
                        //message += index+1 + ',';
                        message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                            
                    else if(listOfRecipients[index].Pro_Meals_Value_Per_Currency__c == '' || listOfRecipients[index].Pro_Meals_Value_Per_Currency__c == null){
                        //message += index+1 + ',';
                        message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                            
                    else if(listOfRecipients[index].Pro_Gift_Description__c == '' || listOfRecipients[index].Pro_Gift_Description__c == null){
                        //message += index+1 + ',';
                        message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                            
                    else if(listOfRecipients[index].Pro_Meal_Description__c == '' || listOfRecipients[index].Pro_Meal_Description__c == null){
                        //message += index+1 + ',';
                        message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
            
            }
            else if( listOfRecipients[index].Gift_Recipient__c == true && listOfRecipients[index].Gifts__c == true && listOfRecipients[index].Meals_Entertainment__c == false){
                     
                       
                    if(listOfRecipients[index].Pro_Gift_Value_Per_Currency__c == '' || listOfRecipients[index].Pro_Gift_Value_Per_Currency__c == null){
                        //message += index+1 + ',';
                        message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                    else if(listOfRecipients[index].Pro_Gift_Description__c == '' || listOfRecipients[index].Pro_Gift_Description__c == null ){
                        //message += index+1 + ',';
                        message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }  
                  
                        //alert('test4' +validated);    
              
            }
            else if( listOfRecipients[index].Gift_Recipient__c == true && listOfRecipients[index].Meals_Entertainment__c == true && listOfRecipients[index].Gifts__c == false){
                    
                    if(listOfRecipients[index].Pro_Meals_Value_Per_Currency__c == '' || listOfRecipients[index].Pro_Meals_Value_Per_Currency__c == null){
                        //message += index+1 + ',';
                        message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                    else if(listOfRecipients[index].Pro_Meal_Description__c == '' || listOfRecipients[index].Pro_Meal_Description__c == null ){
                        //message += index+1 + ',';
                        message += 'Provider#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
            
            }else if( listOfRecipients[index].Gift_Recipient__c == false && listOfRecipients[index].Meals_Entertainment__c == false && listOfRecipients[index].Gifts__c == false){
                message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                validated = false;
            }
            else if( listOfRecipients[index].Gift_Recipient__c == false && listOfRecipients[index].Meals_Entertainment__c == true && listOfRecipients[index].Gifts__c == true){
                   
                    if(listOfRecipients[index].Gift_Value_Per_Currency__c == '' || listOfRecipients[index].Gift_Value_Per_Currency__c == null){
                        //message += index+1 + ',';
                        message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                    else if(listOfRecipients[index].Meals_Value_Per_Currency__c == '' || listOfRecipients[index].Meals_Value_Per_Currency__c == null ){
                        //message += index+1 + ',';
                        message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                    else if(listOfRecipients[index].Gift_Description__c == '' || listOfRecipients[index].Gift_Description__c == null){
                        //message += index+1 + ',';
                        message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                    else if(listOfRecipients[index].ME_Description__c == '' || listOfRecipients[index].ME_Description__c == null){
                        //message += index+1 + ',';
                        message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
            
            }
            else if( listOfRecipients[index].Gift_Recipient__c == false && listOfRecipients[index].Gifts__c == true && listOfRecipients[index].Meals_Entertainment__c == false){
                  //alert('test' +validated);
                 if(listOfRecipients[index].Gift_Value_Per_Currency__c == '' || listOfRecipients[index].Gift_Value_Per_Currency__c == null){
                        //message += index+1 + ',';
                        message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                        //alert('test2' +validated);
                    }
                    else if(listOfRecipients[index].Gift_Description__c == '' || listOfRecipients[index].Gift_Description__c == null){
                        //message += index+1 + ',';
                        message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                        //alert('test3' +validated);
                    }

            }
            else if( listOfRecipients[index].Gift_Recipient__c == false && listOfRecipients[index].Meals_Entertainment__c == true && listOfRecipients[index].Gifts__c == false){
                    if(listOfRecipients[index].Meals_Value_Per_Currency__c == '' || listOfRecipients[index].Meals_Value_Per_Currency__c == null){
                        //message += index+1 + ',';
                        message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
                    else if(listOfRecipients[index].ME_Description__c == '' || listOfRecipients[index].ME_Description__c == null ){
                        //message += index+1 + ',';
                        message += 'Recipient#'+indexNew+' - '+listOfRecipients[index].Name_of_Recipient__c + '<br/>';
                        validated = false;
                    }
            
            }
        });
        //alert('validated' +validated);
        //text.Remove(text.LastIndexOf(','));
        var message1 = 'Please fill required data for following Recipients/Providers by clicking Edit respectively.<br/><br/>' + message;// +message.substring(0, message.lastIndexOf(",")); //message.Remove(message.LastIndexOf(',')); 
        if(message != ''){
            $('#idDraftbeforesubmitValidation').html(message1);
            $('#DraftbeforesubmitValidation').modal({
                show:true,
                closeOnEscape: true
            });
        }
        //alert('validated1' +validated);
        return validated;
        
    }
    
    function navigateToSubmit(){
        if(receivegift == true){
            if(validateRecipients() == true){
        
                $('#scorecardPage').addClass('hidden');
                $('#reviewAndSubmitPage').removeClass('hidden');
                
                if(isEdit == false){
                    
                    if(addNewRecipientClicked == true){
                        addRecipient();
                        addNewRecipientClicked = false;
                    }
                    if(CloneRecord == true) {
                        addRecipient();
                        CloneRecord = false;
                    }
                }else if(isEdit == true){
                    isEdit = false;
                    updateList();
                }
                createReviewAndSubmitView('idReviewRecipients');
                
            }  
        }else if(providegift == true){
            if(validateRecipients() == true){
        
                $('#ProviderScorecardPage').addClass('hidden');
                $('#ProviderreviewAndSubmitPage').removeClass('hidden');
                
                if(isEdit == false){
                    
                    if(addNewRecipientClicked == true){
                        addRecipient();
                        addNewRecipientClicked = false;
                    }
                    if(CloneRecord == true) {
                        addRecipient();
                        CloneRecord = false;
                    }
                }else if(isEdit == true){
                    isEdit = false;
                    updateList();
                }
                createReviewAndSubmitView('idReviewProviders');
                
            }
        }
        else if(createevent == true){
            getEventValues('Pending','Pending');
            if(validateEventDetails() == true){
                $('#EventReviewAndSubmitPage').removeClass('hidden');
                $('#EventDiv').addClass('hidden');
            }
        }
    }
    
    var ghEvent;
    var ghEventId = null;
    var eventFilesArray = null;
    function getEventValues(requestStatus, eventStatus){

        ghEvent  = new Order_Request__c();
        ghEvent.RecordTypeId = '{!$Label.GH_App_Request}';
        ghEvent.Is_Event_Request__c = true;
        ghEvent.Status__c = requestStatus;
        ghEvent.Event_status__c = eventStatus;
        var eventDate = $('#EventDate').val();
 
        ghEvent.Event_Date__c = (new Date(eventDate).getTime() +(17*60*60*1000));
        
        ghEvent.Event_Conducted_Country__c =  $('#EventCountry').val();
        var eventType = $('#EventType').val()
        ghEvent.Event_Type__c = eventType;
        ghEvent.Event_Total_cost_covered_value__c = $('#totalcost').val();
        ghEvent.Event_Total_cost_covered_in_currency__c = $('#EventConvertedpanel').val();   
        
        ghEvent.Event_Type_of_Currency__c = $('#EventCurrencyCodeVal').val();
        ghEvent.Event_Additional_Comments__c = $('#EventComments').val();

        if($('#idflights').attr('value') == 'true'){
            ghEvent.Flights_Cost__c = true;
        }else{
            ghEvent.Flights_Cost__c = false;
        }
        if($('#idgifts').attr('value') == 'true'){   
            ghEvent.Gifts_Cost__c = true;
        }else{
            ghEvent.Gifts_Cost__c = false;
        }
        if($('#idmeals').attr('value') == 'true'){
            ghEvent.Meals_Cost__c = true;
        }else{
            ghEvent.Meals_Cost__c = false;
        }
        if($('#idvisa').attr('value') == 'true'){
            ghEvent.Visa_Cost__c = true;
        }else{
            ghEvent.Visa_Cost__c = false;
        }
        if($('#idaccommodation').attr('value') == 'true'){
            ghEvent.Accommodation_Cost__c = true;
        }else{
            ghEvent.Accommodation_Cost__c = false;
        }
        if($('#identertainment').attr('value') == 'true'){
            ghEvent.Entertainment_Cost__c = true;
        }else{
            ghEvent.Entertainment_Cost__c = false;
        }
        if($('#idlocaltransportation').attr('value') == 'true'){
            ghEvent.Local_Transportation_Cost__c = true;
        }else{
            ghEvent.Local_Transportation_Cost__c = false;
        }
        if($('#idother').attr('value') == 'true'){
            ghEvent.Other_Costs__c = true;
        }else{
            ghEvent.Other_Costs__c = false;
        }
            
        if($('#event-score3').slider('getValue') == '2'){
            ghEvent.Is_Event_within_SEA_guidelines__c = true;
        }else{
            ghEvent.Is_Event_within_SEA_guidelines__c = false;
        }
        if($('#event-score2').slider('getValue') == '2'){    
            ghEvent.Spouse_invited_to_Event__c = true;
        }else{
            ghEvent.Spouse_invited_to_Event__c = false;
        }
        if($('#event-score1').slider('getValue') == '2'){    
            ghEvent.Event_invited_to_government_official__c = true;
        }else{
            ghEvent.Event_invited_to_government_official__c = false;
        }
            
        var eventNumberOfInvites = $('#Numberofinvites').val(); 
        ghEvent.Number_of_people_for_event__c = eventNumberOfInvites;
        
        ghEvent.Other_Cost_Type__c = $('#costOtherInfo').val();
        ghEvent.Other_Event_Type__c = $('#EventTypeOther').val();
        
        $('#reviewEventName').html(eventType + '(' +eventNumberOfInvites + ')');
        $('#reviewEventDate').html(eventDate);

        //Attaching file
        var files1;
        var filename;
        var fileContent;
         
        eventFiles = document.getElementById('idEventAttach').files;
               
        eventFilesArray = new Array();
        for(var i = 0, f; f = eventFiles[i]; i++)
        {
            var reader = new FileReader();     

            // Keep a reference to the File in the FileReader so it can be accessed in callbacks
            reader.file = f; 

            reader.onerror = function(e) 
            {
                switch(e.target.error.code) 
                {
                    case e.target.error.NOT_FOUND_ERR:
                    alert('File Not Found!');
                    break;
                    case e.target.error.NOT_READABLE_ERR:
                    alert('File is not readable');
                    break;
                    case e.target.error.ABORT_ERR:
                    break; // noop
                    default:
                    alert('An error occurred reading this file.');
                };
            };     

            reader.onabort = function(e) 
            {
                alert('File read cancelled');
            };

            reader.onload = function(e) 
            {
                var att = new sforce.SObject("Attachment");
                att.Name = this.file.name;
                att.ContentType = this.file.type;
                //att.ParentId = parentId;

                att.Body = (new sforce.Base64Binary(e.target.result)).toString();
                //alert("body" +att.Body);
                eventFilesArray.push(att);
            
            };

            reader.readAsBinaryString(f);
        }
    
    }
    function submitForApproval(){
        
        alert('Please wait, the request is being submittedâ€¦');
        if(receivegift == true){
            if($('#idICertify').attr('value') == 'true') {
                    createRequestandRecipient('Pending');
            }
            else {
                $('#IcertifyNotification').modal({
                    show:true,
                    closeOnEscape: true
                });
            }
        }else if(providegift == true){
            if($('#idICertifyProvider').attr('value') == 'true') {
                createRequestandRecipient('Pending');
            }
            else {
                $('#IcertifyNotification').modal({
                    show:true,
                    closeOnEscape: true
                });
            }
        }
    }
    
    function submitEventForApproval(){
        
        alert('Please wait, the event request is being submittedâ€¦');
        if($('#idICertifyEvent').attr('value') == 'true') {
            if(ghEventId != null && ghEventId != '')
            ghEvent.Id = ghEventId;
            createAnEvent(); 
        }
        else {
            $('#IcertifyNotification').modal({
                show:true,
                closeOnEscape: true
            });
        }
    }
    
    function submitDraftEventForApproval(){
        
        alert('Please wait, the event request is being submittedâ€¦');
        if($('#idICertifyDraftEvent').attr('value') == 'true') {
            ghEvent.Id = ghEventId;
            ghEvent.Status__c = 'Pending';
            ghEvent.Event_status__c = 'Pending';
            if(validateEventDetails() == true){
                createAnEvent(); 
            }
        }
        else {
            $('#IcertifyNotification').modal({
                show:true,
                closeOnEscape: true
            });
        }
    }
    
    function submitDraftForApproval(){
        
        alert('Please wait, the request is being submittedâ€¦');
        if(receivegift == true){
            if($('#idICertifyDraft').attr('value') == 'true') {
                if(validateListOfDraftRecipientsBeforeSubmit() == false){               
                }
                else{
                   createRequestandRecipient('Pending');
                }
            }
            else {
                $('#IcertifyNotification').modal({
                    show:true,
                    closeOnEscape: true
                });
            }
        }else{
            if($('#idICertifyDraftProvider').attr('value') == 'true') {
            
            
                if(validateListOfDraftRecipientsBeforeSubmit() == false){
                
                }
                else{
                   createRequestandRecipient('Pending');
                }
            }
            else {
                $('#IcertifyNotification').modal({
                    show:true,
                    closeOnEscape: true
                });
            }
        }
    }

    /*    Start - Contact Autocomplete    */
function getDataForAutoComplete(inputFieldId, resultFieldId, objectName){
    
    var Objects;
    $('#'+ inputFieldId ).addClass('ui-autocomplete-loading');
    console.log('---->' + 'inside');
    $('[id$='+inputFieldId+']').autocomplete({
    minLength: 2,
    source: function(request, response) {
                //alert('in method call');
                queryTerm = request.term;
                if(objectName == 'Contact'){
                    GH_OrderRequest.searchContact(request.term, function(result, event){
                        if(event.type == 'exception') {
                            //  alert(event.message);
                        } else {
                             Objects= result;
                             response(Objects);
                            if(result[0] == ''){
                                 
                                 $('#'+ resultFieldId ).val('');
                             }
                             if(result[0] == null) {
                                 $('#idRecipientId').val('');
                                 $('#'+ resultFieldId ).val('');
                             }
                        }
                    });
                
                }
                
                if(objectName == 'Account') {
                    //$('#ui-id-1').addClass('ui-modal');
                    $("ul").each(function() { 
                        $(this).addClass('ui-modal')
                    }); 
                    GH_OrderRequest.searchAccount(request.term, function(result, event){
                        if(event.type == 'exception') {
                            //  alert(event.message);
                        } else {
                             Objects= result;
                             response(Objects);
                             console.log('@@@@@@@@@@@@@@@@@@@@@@@ '+result[0]);
                             if(result[0] == ''){
                                 
                                 $('#'+ resultFieldId ).val('');
                             }
                             if(result[0] == null) {
                                 $('#FormCompanyId').val('');
                                 $('#'+ resultFieldId ).val('');
                             }
                        }
                    });
                
                }
                
                                     
           },
    focus: function( event, ui ) {
            $('[id$='+inputFieldId+']').val( ui.item.Name );
            return false;
            },
    select: function( event, ui ) {
                $('[id$='+inputFieldId+']').val( ui.item.Name );
                $('[id$='+resultFieldId+']').val( ui.item.Id );
                return false;
            },
     }).data( "ui-autocomplete" )._renderItem = function( ul, item ) {
        
        var entry = "<a>" + item.Name;
        
        entry = entry + "</a>";
        entry = entry.replace(queryTerm, "<b>" + queryTerm + "</b>");
       // console.log('entry-->'+ entry );
        return $( "<li></li>" )
            .data( "ui-autocomplete-item", item )
            .append( entry )
            .appendTo( ul );
    };
    $('#'+ inputFieldId ).removeClass('ui-autocomplete-loading');
}
/*    End- Contact Autocomplete    */

    function pullContactDetails(){
        var conId = null;
        if(receivegift == true){
            conId = $('#idRecipientId').val();
        }else if(providegift == true){
            conId = $('#idProviderId').val();
        }
        console.log('conId--->' + conId);
        if(conId != null){
            GH_OrderRequest.getContactDetails(conId, function(result, event){
                if(event.type == 'exception') {
                    //  alert(event.message);
                } else {
                    if(result != null && result != ''){
                        if(receivegift == true){
                            
                            if(result[0].Account.Name != null)
                                $('#idCompany').val(result[0].Account.Name);
                                 
                            if(result[0].Country_Name__c != null)
                                $('#idCountry').val(result[0].Country_Name__c);
                             
                            if(result[0].Title != null)    
                                $('#idPosition').val(result[0].Title);
                                 
                            if(result[0].City_Name__c != null)    
                                $('#idCity').val(result[0].City_Name__c);
                        }else if(providegift == true){
                            if(result[0].Account.Name != null)
                                $('#idCompanyProvider').val(result[0].Account.Name);
                                 
                            if(result[0].Country_Name__c != null)
                                $('#idCountryProvider').val(result[0].Country_Name__c);
                             
                            if(result[0].Title != null)    
                                $('#idPositionProvider').val(result[0].Title);
                                 
                            if(result[0].City_Name__c != null)    
                                $('#idCityProvider').val(result[0].City_Name__c);
                        }
                    }
                }
            });
        }
    }
    
    function GetCountryList() {
        GH_OrderRequest.getCountryList(function(result, event){
            if(event.type == 'exception') {
                //  alert(event.message);
            } else {
                var countryList;
                var allvalues= result;
                if(allvalues != null){
                    $.each( allvalues, function(index, value){
                        //if(value != 'USA'){                
                            countryList += '<option value="'+ value + '">' + value + '</option>';
                        //}else{
                        //    countryList += '<option selected="selected" value="'+ value + '">' + value + '</option>';
                        //}
                    });
                               
                    $('#idCountry').prepend(countryList);
                    $('#idCountryProvider').prepend(countryList);
                    $('#FormCountry').prepend(countryList);
                    $('#EventCountry').prepend(countryList);
                    $('#GiftCountry').prepend(countryList);
                    $('#MealsCountry').prepend(countryList);
                }
            }
        }); 
    }
    
    function ShowFAQs() {
        //$('#idQuestions').removeClass('hidden');
        //$('#myRequestPage').addClass('hidden');

        if ( (typeof sforce.one != 'undefined') && (sforce.one != null)  ) {
            sforce.one.navigateToURL('/apex/GH_FAQ');
        }
        else {
            window.top.location ="/apex/GH_FAQ";
        }
    }
    
    function BackToMyRequests() {
        editingCompletedRequest = false;
        
        $('#eventSaveAsDraft2').removeClass('hidden');
        $('#eventSaveAsDraft1').removeClass('hidden');
        $('#addNewRecipientLink,#addNewProviderLink').removeClass('hidden');
        $('#idSaveAsDarftOnPage1, #idSaveAsDraftOnPage2, #idSaveAsDraftOnPage3').removeClass('hidden');
        $('#idProSaveAsDarftOnPage1, #idProSaveAsDraftOnPage2, #idProSaveAsDraftOnPage3').removeClass('hidden');
        $('#idQuestions').addClass('hidden');
        $('#completedRequestPage').addClass('hidden');
        $('#pendingRequestPage').addClass('hidden');
        $('#draftPage').addClass('hidden');
        $('#addRecipientPage').addClass('hidden');
        
        $('#scorecardPage').addClass('hidden');
        $('#reviewAndSubmitPage').addClass('hidden');
        
        $('#myRequestPage').removeClass('hidden');
        
        $('#completedEventRequestPage').addClass('hidden');
        $('#pendingEventRequestPage').addClass('hidden');
        $('#myselectiontPage').addClass('hidden');
        $('#providerDraftPage').addClass('hidden');
        $('#ProviderreviewAndSubmitPage').addClass('hidden');
    }
    
    function cancelEventEdition(){
        $('#myselectiontPage').addClass('hidden');
        $('#pendingEventRequestPage').addClass('hidden');
        $('#completedEventRequestPage').addClass('hidden');
        $('#EventDraftPage').addClass('hidden');
        
        $('#EventDiv').addClass('hidden');
        if(CompletedEventEditClicked == true){
            $('#completedEventRequestPage').removeClass('hidden');
            CompletedEventEditClicked = false;
        }else{
            $('#myRequestPage').addClass('hidden');
            $('#myselectiontPage').removeClass('hidden');
        }
        
    }
    
    function CancelEvent(){
        $('#EventDraftPage').addClass('hidden');
        $('#EventReviewAndSubmitPage').addClass('hidden');
        $('#myRequestPage').removeClass('hidden');
    }
    
    function CancelClickFunction() {
        
        if(listOfRecipients.length > 0){        // && isDraftRecordClicked != true
            if(editingCompletedRequest == false){
                if(isEdit != true && CloneRecord != true && addNewRecipientClicked != true){
                    //alert(CloneRecord);
                    listOfRecipients.pop();
                    createReviewAndSubmitView('idReviewRecipients');
                }else{
                    isEdit = false;
                    CloneRecord = false;
                    addNewRecipientClicked = false;
                    createReviewAndSubmitView('idReviewRecipients');
                }
                //alert(listOfRecipients.length);
                $('#addRecipientPage').addClass('hidden');
                $('#addProviderPage').addClass('hidden');
                $('#reviewAndSubmitPage').removeClass('hidden');
            }else{
                $('#completedRequestPage').removeClass('hidden');
                $('#addRecipientPage').addClass('hidden');
                $('#addProviderPage').addClass('hidden');
                editingCompletedRequest = false;
            }
            
        }else{
        
            resetFormDetails();
            
            $('#completedRequestPage').addClass('hidden');
            $('#pendingRequestPage').addClass('hidden');
            $('#draftPage').addClass('hidden');
            $('#addRecipientPage').addClass('hidden');
            $('#myRequestPage').addClass('hidden');
            $('#scorecardPage').addClass('hidden');
            $('#reviewAndSubmitPage').addClass('hidden');
            $('#myselectiontPage').addClass('hidden');
            $('#pendingEventRequestPage').addClass('hidden');
            $('#completedEventRequestPage').addClass('hidden');
            $('#EventDraftPage').addClass('hidden');
            $('#addProviderPage').addClass('hidden');
            $('#EventDiv').addClass('hidden');
            $('#addProviderPage').addClass('hidden');
            $('#idSaveAsDarftOnPage1, #idSaveAsDraftOnPage2, #idSaveAsDraftOnPage3').removeClass('hidden');
            $('#idProSaveAsDarftOnPage1, #idProSaveAsDraftOnPage2, #idProSaveAsDraftOnPage3').removeClass('hidden');
            $('#addNewRecipientLink,#addNewProviderLink').removeClass('hidden');
            $('#addNewRecipientLink').css('visibility','none');
            $('#myselectiontPage').removeClass('hidden');
        }
        
    }
    
    
    var providegift = false;
    var receivegift = true;
    var createevent = false;
    
    // My Request Div navigate functions start //
    $('#Providegift').click(function() {
        providegift = false;
        receivegift = true;
        createevent = false;   
        
        //$('#addProviderPage').removeClass('hidden');
        //$('#myselectiontPage').addClass('hidden');   
    });
    
    $('#Receivegift').click(function() {
        providegift = true;
        receivegift = false;
        createevent = false;   
        
        //$('#addRecipientPage').removeClass('hidden');
        //$('#myselectiontPage').addClass('hidden'); 
    });
    
    $('#Createevent').click(function() {
        providegift = false;
        receivegift = false;
        createevent = true; 
        
        //$('#addRecipientPage').addClass('hidden');
        //$('#myselectiontPage').addClass('hidden');
        //$('#EventDiv').removeClass('hidden');           
    });
        
    // My Request Div navigate functions start //
        $('#PendingRecs').click(function() {
            $('#DraftDivRecs').addClass('hidden');
            $('#PendingDivRecs').removeClass('hidden'); 
            $('#CompletedDivRecs').addClass('hidden');           
        });
        
        $('#DraftRecs').click(function() {
            $('#PendingDivRecs').addClass('hidden');
            $('#DraftDivRecs').removeClass('hidden');
            $('#CompletedDivRecs').addClass('hidden');            
        });
        
        $('#CompleteRecs').click(function() {
            $('#PendingDivRecs').addClass('hidden');
            $('#DraftDivRecs').addClass('hidden');
            $('#CompletedDivRecs').removeClass('hidden');            
        });
        
        var isEdit = false;
        function ShowEditPage(index){
        
            isEdit = true;
            addNewRecipientClicked = false;
            isDraftRecordClicked = false;
            
            $('#draftPage').addClass('hidden');
            $('#providerDraftPage').addClass('hidden');
            $('#completedRequestPage').addClass('hidden');
            $('#pendingRequestPage').addClass('hidden');
            $('#reviewAndSubmitPage').addClass('hidden');
            $('#ProviderreviewAndSubmitPage').addClass('hidden');
            if(receivegift == true){
                $('#addRecipientPage').removeClass('hidden'); 
            }else if(providegift == true){
                $('#addProviderPage').removeClass('hidden'); 
            } 
            
            //pullContactDetails();
            
            resetFormDetails();
            editRecord(index);
        }
        function ShowEventEditPage(){
            $('#EventReviewAndSubmitPage').addClass('hidden');
            $('#EventDiv').removeClass('hidden');
            $('#EventDraftPage').addClass('hidden');
            
            assignVeluesToEventForm();
            
        }
        
        
        function assignVeluesToEventForm(){
            if(ghEvent.Event_Date__c != null){
                var Y1 = new Date(ghEvent.Event_Date__c + (17*60*60*1000)).getFullYear();
                var M1 = new Date(ghEvent.Event_Date__c + (17*60*60*1000)).getMonth()+1;
                var D1 = new Date(ghEvent.Event_Date__c + (17*60*60*1000)).getDate();
                if(M1 <=9) {
                    M1= '0'+M1;
                }
                if(D1 <=9) {
                    D1= '0'+D1;
                }
                var DateVar = Y1+'-'+M1+'-'+D1;

                $('#EventDate').val(DateVar);

            }
            
            //ghEvent.Event_Date__c = new Date(eventDate).setHours(0, 0, 0, 0);
            if(ghEvent.Event_Conducted_Country__c != null)
                $('#EventCountry').val(ghEvent.Event_Conducted_Country__c);
                
            $('#EventType').val(ghEvent.Event_Type__c);
            eventTypeFnc();
            if(ghEvent.Other_Event_Type__c !== null && ghEvent.Event_Type__c =='Other'){
                $('#EventTypeOther').val(ghEvent.Other_Event_Type__c).removeClass('hidden');
            }
            
            if(ghEvent.Event_Total_cost_covered_value__c != null)
                $('totalcost').val(ghEvent.Event_Total_cost_covered_value__c);
            
            if(ghEvent.Event_Additional_Comments__c != null)
                $('#EventComments').val(ghEvent.Event_Additional_Comments__c);
            
            if(ghEvent.Flights_Cost__c == true){           
                $('#idflights').children().removeClass('hidden');
                $('#idflights').attr('value','true');
            }
            if(ghEvent.Gifts_Cost__c == true){
                $('#idgifts').children().removeClass('hidden');
                $('#idgifts').attr('value','true');
            }
                
            if(ghEvent.Meals_Cost__c == true){
                $('#idmeals').children().removeClass('hidden');
                $('#idmeals').attr('value','true');
                
            }
            if(ghEvent.Visa_Cost__c == true){
                $('#idvisa').children().removeClass('hidden');
                $('#idvisa').attr('value','true');
            
            }
            if(ghEvent.Accommodation_Cost__c == true){
                $('#idaccommodation').children().removeClass('hidden');
                $('#idaccommodation').attr('value','true');
            }
            
            if(ghEvent.Entertainment_Cost__c == true){
                $('#identertainment').children().removeClass('hidden');
                $('#identertainment').attr('value','true');
            }
                
            if(ghEvent.Local_Transportation_Cost__c == true){
                $('#idlocaltransportation').children().removeClass('hidden');
                $('#idlocaltransportation').attr('value','true');
            }
            
            if(ghEvent.Other_Cost_Type__c != null){
                $('#costOtherInfo').val(ghEvent.Other_Cost_Type__c);
            }                
            if(ghEvent.Other_Costs__c == true){
                $('#idother').children().removeClass('hidden');
                $('#idother').attr('value','true');
                $('#costOtherDiv').removeClass('hidden');
            }
                
            if(ghEvent.Is_Event_within_SEA_guidelines__c == true){
                
                $('#event-score3').slider('setValue',2);
                $('#event-score3-slider').attr('style','background-color: #0085FF');
            }
            if(ghEvent.Spouse_invited_to_Event__c == true){
                $('#event-score2').slider('setValue',2);
                $('#event-score2-slider').attr('style','background-color: #0085FF');
            }    
                
            if(ghEvent.Event_invited_to_government_official__c == true){
                $('#event-score1').slider('setValue',2);
                $('#event-score1-slider').attr('style','background-color: #0085FF');
            }    
                
            
            if(ghEvent.Number_of_people_for_event__c != null){
                $('#Numberofinvites').val(ghEvent.Number_of_people_for_event__c);
            }   

            if(ghEvent.Event_Type_of_Currency__c != ''){
                $('#EventCurrencyCodeVal').val(ghEvent.Event_Type_of_Currency__c);
            }
            if(ghEvent.Event_Total_cost_covered_value__c != null  && ghEvent.Event_Total_cost_covered_value__c != ''){
                $('#totalcost').val(ghEvent.Event_Total_cost_covered_value__c);
                ConvertValueToUSD('EventCurrencyCodeVal','totalcost','EventConvertedpanel');
            }
        }
        function CancelRec(index,statusRequest){
            var recipientId = listOfRecipients[index].Id;
            GH_OrderRequest.cancelRecipient(recipientId, 'Cancelled', function(result,event){
                if(event.status){
                    
                    if(result == 'Success'){
                        if(statusRequest == 'Completed'){
                            showCompletedRequest(currentOpenCompleteRequestId);
                        }else if(statusRequest == 'Pending') {
                            showCompletedRequest(currentOpenPendingRequestId);
                        }
                        alert('Recipient Cancelled Successfuly.');
                    }else{
                        alert('Problem occurred. Please contact Support Team');
                    }
                }
            });
        }
        
        var editingCompletedRequest = false; 
        
        var newListOfRecipients = new Array();
        var oldRecipientId;
        var createddate;
        function editCompletedRequest(index){
        
            
            createddate = new Date(listOfRecipients[index].CreatedDate);
            //createddate = listOfRecipients[index].CreatedDate;
            oldRecipientId = listOfRecipients[index].GH_Request__c;
            //alert(oldRecipientId);
            newListOfRecipients = listOfRecipients;
            $.each(listOfRecipients, function(index,value){
                newListOfRecipients[index].GH_Request__c = null;
                newListOfRecipients[index].Id = null;
            });
            listOfRecipients = newListOfRecipients;
            
            editingCompletedRequest = true;
            addNewRecipientClicked = false;
            requestId = null;

            if(listOfRecipients[index].Gift_Recipient__c == true){
                providegift = true;
                receivegift = false;
                createevent = false;
            }else{
                providegift = false;
                receivegift = true;
                createevent = false;
            }
            //Hide Save As Draft links
            if(editingCompletedRequest == true){
                $('#idSaveAsDarftOnPage1, #idSaveAsDraftOnPage2, #idSaveAsDraftOnPage3').addClass('hidden');
                $('#idProSaveAsDarftOnPage1, #idProSaveAsDraftOnPage2, #idProSaveAsDraftOnPage3').addClass('hidden');
                $('#addNewRecipientLink,#addNewProviderLink').addClass('hidden');
            }
            //
            ShowEditPage(index);
        }
        
        var CompletedEventEditClicked = false;
        function editCompletedEvent(){
            
            CompletedEventEditClicked = true;
            assignVeluesToEventForm();
            $('#completedEventRequestPage').addClass('hidden');
            $('#EventDiv').removeClass('hidden');
            $('#eventSaveAsDraft2').addClass('hidden');
            $('#eventSaveAsDraft1').addClass('hidden');
        }
        
        function cancelEvent(){
            //alert('test');
            GH_OrderRequest.cancelEventRequest(ghEvent.Id, function(result, event){
                if(event.status){
                    if(result == 'Success'){
                        alert('Event cancelled Successfully');
                        var CompletedDate = normalizeDateExtended(ghEvent.Event_Date__c);
                        var Completedmonth = CompletedDate[0];
                        var Completeddate = CompletedDate[1];
                        var Completedyear = CompletedDate[2];
                        var CompletedCreatedDate = Completedmonth+' '+Completeddate+','+Completedyear ;
                        
                        var cancelledEventString = '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-pending-bar grey">' + 
                                                        'Cancelled' +
                                                    '</div>' +
                                                    '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                                        '<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 gh-recipient">' +
                                                            '<div>' + ghEvent.Event_Type__c + ' (' + ghEvent.Number_of_people_for_event__c + ')</div>' +
                                                            '<small>'+ CompletedCreatedDate +'</small>'+
                                                            '<div><span>Event</span></div>' +
                                                        '</div>' +
                                                        '<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 gh-transation-status">'+
                                                            '<div class="cancel"><span class="glyphicon glyphicon-remove"></span> <div class="cancel">(Cancel)</div></div>' + 
                                                        '</div>' +
                                                        '<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 gh-recipient-customize">'+
                                                             
                                                        '</div>'+
                                                    '</div>'; 
                                                    
                        $('#completedEvent').html(cancelledEventString);
                    }       
                }
            });
        }
        function updateStatusOfRecipient(reqId,newReqId,statusReq,reqNumber){
            //alert('In updateStatusOfRecipient');
            GH_OrderRequest.updateRequestStatus(reqId,newReqId,statusReq,reqNumber, function(result, event){
                if(event.status){
                    if(result == 'Success'){
                        //alert('Sucess---');
                    }
                }
            
            });
        }
        
        var CloneRecord = false;
        function ShowClonedPage(index) {        
            CloneRecord = true; 
            deletedRecord = false;
            isDraftRecordClicked = false;
            $('#draftPage').addClass('hidden');
            $('#providerDraftPage').addClass('hidden');
            $('#reviewAndSubmitPage').addClass('hidden');
            $('#ProviderreviewAndSubmitPage').addClass('hidden');
            if(receivegift == true){
                $('#addRecipientPage').removeClass('hidden');  
            }else if(providegift == true){
                $('#addProviderPage').removeClass('hidden');  
            }
            resetFormDetails();
            Clonerec(index);
        }
        
        listOfRecipientsToDelete = new Array();
        var deletedRecord = false;
        var idOfRequestToBeDeleted = null;
        function DeleteRec(index){
            deletedRecord = true;
            if(listOfRecipients.length > 1){
                listOfRecipientsToDelete.push(listOfRecipients[index]);
                listOfRecipients.splice(index, 1);
                
                if(receivegift == true){
                    createReviewAndSubmitView('idReviewRecipients');
                    createReviewAndSubmitView('AllStageDraft');
                }else if(providegift == true){
                    createReviewAndSubmitView('idReviewProviders');
                    createReviewAndSubmitView('AllStageDraftProvider');
                }
            }else if(listOfRecipients.length == 1){
                idOfRequestToBeDeleted = listOfRecipients[index].GH_Request__c;
                $('#RecipientDeletionValidationMessage').modal({
                    show:true,
                    closeOnEscape: true
                });
            }
        }
        
        var idOfEventToBeDelete='';
        function DeleteEventReq(idOfEventToDelete){
            idOfEventToBeDelete = idOfEventToDelete;
            $('#RecipientDeletionValidationMessage').modal({
                show:true,
                closeOnEscape: true
            });
            
        }
        
        function deleteRequest(){
            if(idOfRequestToBeDeleted != null){
                GH_OrderRequest.DeleteRequestForSingleRecipient(idOfRequestToBeDeleted,function(result,event){
                    if(event.status){
                        if(result == 'Success'){
                            GetOrderList('Save');
                            alert('GH Request deleted Successfully.');
                        }
                    }
                }); 
            }
            
            if(createevent == true){
                if(idOfEventToBeDelete != null && idOfEventToBeDelete != ''){
                    GH_OrderRequest.DeleteRequestForSingleRecipient(idOfEventToBeDelete,function(result,event){
                        if(event.status){
                            if(result == 'Success'){
                                GetOrderList('Save');
                                alert('GH Request deleted Successfully.');
                            }
                        }
                    });
                }else{
                    alert('GH Request deleted Successfully.');
                    CancelEvent();
                }
                idOfEventToBeDelete = '';
            }
            idOfRequestToBeDeleted = null;
        }
        
        var GlobalIndex = '';
        var Draftcreateddate;
        
        function editRecord(index){
            
            Draftcreateddate = new Date(listOfRecipients[index].CreatedDate);
            GlobalIndex = index;
            deletedRecord = false;
            if(receivegift == true){
                $('#idCompany').val(listOfRecipients[index].Company__c);
                $('#idCity').val(listOfRecipients[index].City__c);
                $('#idCountry').val(listOfRecipients[index].Country__c);
                $('#idPosition').val(listOfRecipients[index].Position__c);
                $('#idRecipient').val(listOfRecipients[index].Name_of_Recipient__c);
                
                $('#idRecipientId').val(listOfRecipients[index].Name_of_Recipient_Lookup__c);
                
                if(listOfUploadedAttachments[index] != null && listOfUploadedAttachments[index] != undefined){
                    if(listOfUploadedAttachments[index].length > 0){
                        var arrayOfLinks='<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'+
                                            '<span class="gh-scoreBullets" style="padding-left: 15px;"></span> Uploaded Gift Image:'+                 
                                        '</div>';
                                        
                        $.each(listOfUploadedAttachments[index], function(index,value){
                            arrayOfLinks += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                                '<a target="_blank" class="gh-new-ghlink" href="/servlet/servlet.FileDownload?file='+ value.Id +'">'+value.Name + ' </a>'+
                                            '</div>';
                        });
                        $('#uploadedImagesRecipient').html(arrayOfLinks);
                    }
                }else{
                    $('#uploadedImagesRecipient').html('');
                }
            }else if(providegift == true){
                $('#idCompanyProvider').val(listOfRecipients[index].Company__c);
                $('#idCityProvider').val(listOfRecipients[index].City__c);
                $('#idCountryProvider').val(listOfRecipients[index].Country__c);
                $('#idPositionProvider').val(listOfRecipients[index].Position__c);
                $('#idProvider').val(listOfRecipients[index].Name_of_Recipient__c);
                $('#idProviderId').val(listOfRecipients[index].Name_of_Recipient_Lookup__c);
                
                if(listOfUploadedAttachments[index] != null && listOfUploadedAttachments[index] != undefined){
                    if(listOfUploadedAttachments[index].length > 0){
                        var arrayOfLinks='<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">'+
                                            '<span class="gh-scoreBullets" style="padding-left: 15px;"></span> Uploaded Gift Image:'+                 
                                        '</div>';
                                        
                        $.each(listOfUploadedAttachments[index], function(index,value){
                            arrayOfLinks += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                                '<a target="_blank" class="gh-new-ghlink" href="/servlet/servlet.FileDownload?file='+ value.Id +'">'+value.Name + ' </a>'+
                                            '</div>';
                        });
                        $('#uploadedImagesProvider').html(arrayOfLinks);
                    }
                }else{
                    $('#uploadedImagesProvider').html('');
                }
            }


            var Y1 = new Date(listOfRecipients[index].Date__c + (16*60*60*1000)).getFullYear();
            var M1 = new Date(listOfRecipients[index].Date__c + (16*60*60*1000)).getMonth()+1;
            var D1 = new Date(listOfRecipients[index].Date__c + (16*60*60*1000)).getDate();
            if(M1 <=9) {
                M1= '0'+M1;
            }
            if(D1 <=9) {
                D1= '0'+D1;
            }
            var DateVar = Y1+'-'+M1+'-'+D1;
            $('#idDate,#idDateProvider').val(DateVar);
            
            if(listOfRecipients[index].Gifts__c == true){
                $('#idGifts,#idGiftsProvider').children().removeClass('hidden');
                $('#idGifts,#idGiftsProvider').attr('value','true');
         
            }else if(listOfRecipients[index].Gifts__c == false){
                $('#idGifts,#idGiftsProvider').children().addClass('hidden');
                $('#idGifts,#idGiftsProvider').attr('value','false');
            }
            
            if(listOfRecipients[index].Meals_Entertainment__c == true){
                $('#idME,#idMEProvider').children().removeClass('hidden');
                $('#idME,#idMEProvider').attr('value','true');
            }else if(listOfRecipients[index].Meals_Entertainment__c == false){
                $('#idME,#idMEProvider').children().addClass('hidden');
                $('#idME,#idMEProvider').attr('value','false');
            }
            
            
            if(listOfRecipients[index].Gift_Recipient__c == true){
                //$('#GiveReceive').slider('setValue',2);
                //$('#GiveReceive-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Occasion_Business_Meeting__c == true){
                
                $('#gift-score1').slider('setValue',2);
                $('#gift-score1-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Occasion_Award_Placement__c == true){
                $('#gift-score2').slider('setValue',2);
                $('#gift-score2-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Gift_given_to_government_official__c == true){
                $('#gift-score3').slider('setValue',2);
                $('#gift-score3-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Frequency__c == true){
                $('#gift-score4').slider('setValue',2);
                $('#gift-score4-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Gift_offered_to_spouse__c == true){
                $('#gift-score5').slider('setValue',2);
                $('#gift-score5-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Line_Manager_Informed__c == true){
                $('#gift-score9').slider('setValue',2);
                $('#gift-score9-slider').attr('style','background-color: #0085FF');
            }
            
            
            
            
            $('#DescriptionOfGift').val(listOfRecipients[index].Gift_Description__c);
            
            $('#GiftJustification').val(listOfRecipients[index].Gift_Business_Purpose__c);
            businessJustification();
            $('#GiftAdditionalComments').val(listOfRecipients[index].Gift_Additional_Comments__c);
            if(listOfRecipients[index].Gift_Business_Purpose_Other__c != undefined)
                $('#GiftPurpose').val(listOfRecipients[index].Gift_Business_Purpose_Other__c);
            if(listOfRecipients[index].ME_Business_Purpose_Other__c != undefined)   
                $('#MealsPurpose').val(listOfRecipients[index].ME_Business_Purpose_Other__c);
            
            //Meals and Entertainment
            
            if(listOfRecipients[index].ME_Occasion_Business_Meeting__c == true){
                
                $('#meal-score1').slider('setValue',2);
                $('#meal-score1-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Occasion_Award_Placement__c == true){
                $('#meal-score2').slider('setValue',2);
                $('#meal-score2-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Travel_provided_to_government_officia__c == true){
                $('#meal-score3').slider('setValue',2);
                $('#meal-score3-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Frequency__c == true){
                $('#meal-score4').slider('setValue',2);
                $('#meal-score4-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Travel_offered_to_spouse__c == true){
                $('#meal-score5').slider('setValue',2);
                $('#meal-score5-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Line_Manager_Informed__c == true){
                $('#meal-score9').slider('setValue',2);
                $('#meal-score9-slider').attr('style','background-color: #0085FF');
            }
            
            
            $('#ValueOfGift').val(listOfRecipients[index].Gift_Value_Per_Currency__c);
            $('#ValueOfMeal').val(listOfRecipients[index].Meals_Value_Per_Currency__c);
            $('#GiftCurrencyCodeVal').val(listOfRecipients[index].Gift_Currency_Code__c);
            $('#MealCurrencyCodeVal').val(listOfRecipients[index].Meals_Currency_Code__c);
            ConvertValueToUSD('GiftCurrencyCodeVal','ValueOfGift','Giftconvertedpanel');
            ConvertValueToUSD('MealCurrencyCodeVal','ValueOfMeal','mealconvertedpanel');

            //alert('listOfRecipients[index].ME_Description__c --->' + listOfRecipients[index].ME_Description__c);
            $('#DescriptionOfMeal').val(listOfRecipients[index].ME_Description__c);
            $('#mealJustification').val(listOfRecipients[index].ME_Business_Purpose__c);
            businessJustification();
            $('#MealAdditionalComments').val(listOfRecipients[index].ME_Additional_Comments__c);
            
            // Provider details
            if(listOfRecipients[index].Pro_Gift_Occasion_Business_Meeting__c == true){
                
                $('#pro-gift-score1').slider('setValue',2);
                $('#pro-gift-score1-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Occasion_Award_Placement__c == true){
                $('#pro-gift-score2').slider('setValue',2);
                $('#pro-gift-score2-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Solicited_By_You__c == true){
                $('#pro-gift-score3').slider('setValue',2);
                $('#pro-gift-score3-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Embarrassing_If_Public__c == true){
                $('#pro-gift-score4').slider('setValue',2);
                $('#pro-gift-score4-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Offered_To_Spouse__c == true){
                $('#pro-gift-score5').slider('setValue',2);
                $('#pro-gift-score5-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Manager_Approved_Gift__c == true){
                $('#pro-gift-score9').slider('setValue',2);
                $('#pro-gift-score9-slider').attr('style','background-color: #0085FF');
            }
            
            $('#ProValueOfGift').val(listOfRecipients[index].Pro_Gift_Value_Per_Currency__c);
            $('#pro-DescriptionOfGift').val(listOfRecipients[index].Pro_Gift_Description__c);
            $('#ProviderGiftCurrencyCodeVal').val(listOfRecipients[index].Pro_Gift_Currency_Code__c);
            ConvertValueToUSD('ProviderGiftCurrencyCodeVal','ProValueOfGift','ProGiftconvertedpanel');
            
            if(listOfRecipients[index].Pro_ME_Occasion_Business_Meeting__c == true){
                
                $('#pro-meal-score1').slider('setValue',2);
                $('#pro-meal-score1-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Occasion_Award_Placement__c == true){
                $('#pro-meal-score2').slider('setValue',2);
                $('#pro-meal-score2-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Solicited_By_You__c == true){
                $('#pro-meal-score3').slider('setValue',2);
                $('#pro-meal-score3-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Embarrassing_If_Public__c == true){
                $('#pro-meal-score4').slider('setValue',2);
                $('#pro-meal-score4-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Offered_To_Spouse__c == true){
                $('#pro-meal-score5').slider('setValue',2);
                $('#pro-meal-score5-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Manager_Approved__c == true){
                $('#pro-meal-score9').slider('setValue',2);
                $('#pro-meal-score9-slider').attr('style','background-color: #0085FF');
            }
            
            $('#GiftCountry').val(listOfRecipients[index].Country_where_Gift_is_provided__c);
            $('#MealsCountry').val(listOfRecipients[index].Country_where_ME_is_provided__c);
            
            $('#ProValueOfMeal').val(listOfRecipients[index].Pro_Meals_Value_Per_Currency__c);
            $('#pro-DescriptionOfMeal').val(listOfRecipients[index].Pro_Meal_Description__c);
            $('#ProviderMealCurrencyCodeVal').val(listOfRecipients[index].Pro_Meals_Currency_Code__c);
            ConvertValueToUSD('ProviderMealCurrencyCodeVal','ProValueOfMeal','pro-mealconvertedpanel');
            
            $('#proGiftAdditionalComments').val(listOfRecipients[index].Pro_Gift_Additional_Comments__c);
            $('#proMealAdditionalComments').val(listOfRecipients[index].Pro_ME_Additional_Comments__c);
            
            // End of Provider details
        }
        
        function Clonerec(index){
            
            GlobalIndex = index;
            
            if(receivegift == true){
                $('#idCompany').val(listOfRecipients[index].Company__c);
                $('#idCity').val(listOfRecipients[index].City__c);
                $('#idCountry').val(listOfRecipients[index].Country__c);
                $('#idPosition').val(listOfRecipients[index].Position__c);
                $('#idRecipient').val(listOfRecipients[index].Name_of_Recipient__c);
                
                $('#idRecipientId').val(listOfRecipients[index].Name_of_Recipient_Lookup__c);
            }else if(providegift == true){
                $('#idCompanyProvider').val(listOfRecipients[index].Company__c);
                $('#idCityProvider').val(listOfRecipients[index].City__c);
                $('#idCountryProvider').val(listOfRecipients[index].Country__c);
                $('#idPositionProvider').val(listOfRecipients[index].Position__c);
                $('#idProvider').val(listOfRecipients[index].Name_of_Recipient__c);
            }
            var Y1 = new Date(listOfRecipients[index].Date__c).getFullYear();
            var M1 = new Date(listOfRecipients[index].Date__c).getMonth()+1;
            var D1 = new Date(listOfRecipients[index].Date__c).getDate();
            if(M1 <=9) {
                M1= '0'+M1;
            }
            if(D1 <=9) {
                D1= '0'+D1;
            }
            var DateVar = Y1+'-'+M1+'-'+D1;
            $('#idDate,#idDateProvider').val(DateVar);
            
            if(listOfRecipients[index].Gifts__c == true){
                $('#idGifts,#idGiftsProvider').children().removeClass('hidden');
                $('#idGifts,#idGiftsProvider').attr('value','true');
         
            }else if(listOfRecipients[index].Gifts__c == false){
                $('#idGifts,#idGiftsProvider').children().addClass('hidden');
                $('#idGifts,#idGiftsProvider').attr('value','false');
            }
            
            if(listOfRecipients[index].Meals_Entertainment__c == true){
                $('#idME,#idMEProvider').children().removeClass('hidden');
                $('#idME,#idMEProvider').attr('value','true');
            }else if(listOfRecipients[index].Meals_Entertainment__c == false){
                $('#idME,#idMEProvider').children().addClass('hidden');
                $('#idME,#idMEProvider').attr('value','false');
            }
            
            
            if(listOfRecipients[index].Gift_Recipient__c == true){
                //$('#GiveReceive').slider('setValue',2);
                //$('#GiveReceive-slider').attr('style','background-color: #0085FF');
            }
            
            /*if(listOfRecipients[index].Gift_Occasion_Business_Meeting__c == true){
                
                $('#gift-score1').slider('setValue',2);
                $('#gift-score1-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Occasion_Award_Placement__c == true){
                $('#gift-score2').slider('setValue',2);
                $('#gift-score2-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Gift_given_to_government_official__c == true){
                $('#gift-score3').slider('setValue',2);
                $('#gift-score3-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Frequency__c == true){
                $('#gift-score4').slider('setValue',2);
                $('#gift-score4-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Gift_offered_to_spouse__c == true){
                $('#gift-score5').slider('setValue',2);
                $('#gift-score5-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Gift_Line_Manager_Informed__c == true){
                $('#gift-score9').slider('setValue',2);
                $('#gift-score9-slider').attr('style','background-color: #0085FF');
            }*/
            
            
            $('#ValueOfGift').val(listOfRecipients[index].Gift_Value_of_gift__c);
            
            $('#DescriptionOfGift').val(listOfRecipients[index].Gift_Description__c);
            
            
            $('#GiftAdditionalComments').val(listOfRecipients[index].Gift_Additional_Comments__c);
            
            
            //Meals and Entertainment
            
            /*if(listOfRecipients[index].ME_Occasion_Business_Meeting__c == true){
                
                $('#meal-score1').slider('setValue',2);
                $('#meal-score1-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Occasion_Award_Placement__c == true){
                $('#meal-score2').slider('setValue',2);
                $('#meal-score2-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Travel_provided_to_government_officia__c == true){
                $('#meal-score3').slider('setValue',2);
                $('#meal-score3-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Frequency__c == true){
                $('#meal-score4').slider('setValue',2);
                $('#meal-score4-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Travel_offered_to_spouse__c == true){
                $('#meal-score5').slider('setValue',2);
                $('#meal-score5-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].ME_Line_Manager_Informed__c == true){
                $('#meal-score9').slider('setValue',2);
                $('#meal-score9-slider').attr('style','background-color: #0085FF');
            }*/
            
            
            
            $('#ValueOfGift').val(listOfRecipients[index].Gift_Value_Per_Currency__c);
            $('#ValueOfMeal').val(listOfRecipients[index].Meals_Value_Per_Currency__c);
            $('#GiftCurrencyCodeVal').val(listOfRecipients[index].Gift_Currency_Code__c);
            $('#MealCurrencyCodeVal').val(listOfRecipients[index].Meals_Currency_Code__c);
            ConvertValueToUSD('GiftCurrencyCodeVal','ValueOfGift','Giftconvertedpanel');
            ConvertValueToUSD('MealCurrencyCodeVal','ValueOfMeal','mealconvertedpanel');
            
            //alert('listOfRecipients[index].ME_Description__c --->' + listOfRecipients[index].ME_Description__c);
            $('#DescriptionOfMeal').val(listOfRecipients[index].ME_Description__c);
            if(listOfRecipients[index].Gift_Business_Purpose_Other__c != undefined)
                $('#GiftPurpose').val(listOfRecipients[index].Gift_Business_Purpose_Other__c);


            $('#GiftJustification').val(listOfRecipients[index].Gift_Business_Purpose__c);
            businessJustification();
            
            $('#MealAdditionalComments').val(listOfRecipients[index].ME_Additional_Comments__c);
            
            if(listOfRecipients[index].ME_Business_Purpose_Other__c != undefined)   
                $('#MealsPurpose').val(listOfRecipients[index].ME_Business_Purpose_Other__c);
                            
                            
            $('#mealJustification').val(listOfRecipients[index].ME_Business_Purpose__c);
            businessJustification();
            
            // Provider details
            /*if(listOfRecipients[index].Pro_Gift_Occasion_Business_Meeting__c == true){
                
                $('#pro-gift-score1').slider('setValue',2);
                $('#pro-gift-score1-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Occasion_Award_Placement__c == true){
                $('#pro-gift-score2').slider('setValue',2);
                $('#pro-gift-score2-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Solicited_By_You__c == true){
                $('#pro-gift-score3').slider('setValue',2);
                $('#pro-gift-score3-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Embarrassing_If_Public__c == true){
                $('#pro-gift-score4').slider('setValue',2);
                $('#pro-gift-score4-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Offered_To_Spouse__c == true){
                $('#pro-gift-score5').slider('setValue',2);
                $('#pro-gift-score5-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_Gift_Manager_Approved_Gift__c == true){
                $('#pro-gift-score9').slider('setValue',2);
                $('#pro-gift-score9-slider').attr('style','background-color: #0085FF');
            }*/
            $('#ProviderGiftCurrencyCodeVal').val(listOfRecipients[index].Pro_Gift_Currency_Code__c);
            $('#ProValueOfGift').val(listOfRecipients[index].Pro_Gift_Value_Per_Currency__c);
            $('#pro-DescriptionOfGift').val(listOfRecipients[index].Pro_Gift_Description__c);
            
            
            
            /*if(listOfRecipients[index].Pro_ME_Occasion_Business_Meeting__c == true){
                
                $('#meal-score1').slider('setValue',2);
                $('#meal-score1-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Occasion_Award_Placement__c == true){
                $('#pro-meal-score2').slider('setValue',2);
                $('#pro-meal-score2-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Solicited_By_You__c == true){
                $('#pro-meal-score3').slider('setValue',2);
                $('#pro-meal-score3-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Embarrassing_If_Public__c == true){
                $('#pro-meal-score4').slider('setValue',2);
                $('#pro-meal-score4-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Offered_To_Spouse__c == true){
                $('#pro-meal-score5').slider('setValue',2);
                $('#pro-meal-score5-slider').attr('style','background-color: #0085FF');
            }
            
            if(listOfRecipients[index].Pro_ME_Manager_Approved__c == true){
                $('#pro-meal-score9').slider('setValue',2);
                $('#pro-meal-score9-slider').attr('style','background-color: #0085FF');
            }*/
            
            $('#ProviderMealCurrencyCodeVal').val(listOfRecipients[index].Pro_Meals_Currency_Code__c);
            $('#ProValueOfMeal').val(listOfRecipients[index].Pro_Meals_Value_Per_Currency__c);
            $('#pro-DescriptionOfMeal').val(listOfRecipients[index].Pro_Meal_Description__c);
            // End of Provider details
            $('#proGiftAdditionalComments').val(listOfRecipients[index].Pro_Gift_Additional_Comments__c);
            $('#proMealAdditionalComments').val(listOfRecipients[index].Pro_ME_Additional_Comments__c);
            
            ConvertValueToUSD('ProviderGiftCurrencyCodeVal','ProValueOfGift','ProGiftconvertedpanel');
            ConvertValueToUSD('ProviderMealCurrencyCodeVal','ProValueOfMeal','pro-mealconvertedpanel');
        }
        
        
        function CloneRec(){
            $('#draftPage').addClass('hidden');
            $('#reviewAndSubmitPage').addClass('hidden');
            $('#addRecipientPage').removeClass('hidden'); 
            $('#idRecipient').val(''); 
            $('#idPosition').val('');
            $('#idCompany').val('');
            $('#idCity').val('');
            $('#idCountry').val('USA');           
        }
        function AddNewRecipient() {
            isDraftRecordClicked = false;
            deletedRecord = false;
            resetFormDetails();
            $('#draftPage,#providerDraftPage').addClass('hidden');
            $('#reviewAndSubmitPage').addClass('hidden');
            $('#ProviderreviewAndSubmitPage').addClass('hidden');
            
            $('#idRecipient').val(''); 
            $('#idPosition').val('');
            $('#idCompany').val('');
            $('#idCity').val('');
            $('#idCountry').val('USA');
            
            if(receivegift == true){
                $('#addRecipientPage').removeClass('hidden'); 
            }else if(providegift == true){
                $('#addProviderPage').removeClass('hidden'); 
            }
            
            var today = new Date();
            var dd = today.getDate();
            var mm = today.getMonth()+1; //January is 0!            
            var yyyy = today.getFullYear();
            if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} today = yyyy + '-' + mm + '-' + dd ;
            $('#idDate').val(today);
            
            if($('#idME').attr('value') == 'true') {
                $('#idME').attr('value','false');
                $('#idME').children().addClass('hidden');
            }
            if($('#idGifts').attr('value') == 'true') {
                $('#idGifts').attr('value','false');
                $('#idGifts').children().addClass('hidden');
            }
            addNewRecipientClicked = true;
            //alert('clicked add new recipient -->' + addNewRecipientClicked);
        }

        function backToAddRecipient(){
            $('#scorecardPage').addClass('hidden');
            $('#ProviderScorecardPage').addClass('hidden');
            
            if(receivegift == true){
                $('#addRecipientPage').removeClass('hidden');
            }else if(providegift == true){
                $('#addProviderPage').removeClass('hidden');
            }
        }
        
        function backToAddBenefit(){
            $('#reviewAndSubmitPage').addClass('hidden');
            $('#ProviderreviewAndSubmitPage').addClass('hidden');
            $('#EventReviewAndSubmitPage').addClass('hidden');
            
            if(receivegift == true){
                $('#scorecardPage').removeClass('hidden');
            }else if(providegift == true){
                $('#ProviderScorecardPage').removeClass('hidden');
            }
            else if(createevent == true){
                $('#EventDiv').removeClass('hidden');
            }
        }
    // My Request Div navigate functions ends //
    
    // fetching all record list starts
        
        function GetOrderList(status) {
            // Declaring Arrays 
            var DraftRecArray = [];
            var PendingRecArray = [];
            var CompleteRecArray = [];
            GH_OrderRequest.OrderList(function(result,event) {
                if(event.status) {
                    $.each(result, function(index, value){
                        if(value.Status__c == 'Draft') {
                            DraftRecArray.push(value);  
                        }
                        if(value.Status__c == 'Pending') {
                            PendingRecArray.push(value);    
                        }
                        if(value.Status__c == 'Complete') {
                            CompleteRecArray.push(value);    
                        }
                    });
                    if(DraftRecArray.length >0) {
                        RequestList(DraftRecArray,'Draft');
                        console.log('Here');
                    }else{
                        var noRecs = '<div class="row gh-req-item" > <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> No Draft records found</div></div>'
                        $('#DraftDivRecs').html(noRecs);
                    }
                    if(PendingRecArray.length >0) {
                        RequestList(PendingRecArray,'Pending');
                    }else{
                        var noRecs = '<div class="row gh-req-item" > <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> No Draft records found</div></div>'
                        $('#PendingDivRecs').html(noRecs);
                    }
                    if(CompleteRecArray.length >0) {
                        RequestList(CompleteRecArray,'Complete');
                    }else{
                        var noRecs = '<div class="row gh-req-item" > <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> No Draft records found</div></div>'
                        $('#CompletedDivRecs').html(noRecs);
                    }
                    
                    if(status == 'Save'){
                        $('#approvalStatusPage').addClass('hidden');
                        $('#principlesPage').addClass('hidden');
                        $('#scorecardPage,#addRecipientPage').addClass('hidden');
                        $('#myRequestPage').removeClass('hidden');
                        $('#reviewAndSubmitPage').addClass('hidden');
                        $('#EventReviewAndSubmitPage').addClass('hidden');
                        $('#providerDraftPage').addClass('hidden');
                        $('#draftPage').addClass('hidden');
                        $('#EventDraftPage').addClass('hidden');
                        
                        if(createevent == true){
                            
                            $('#DraftRecs').addClass('inactive');
                            $('#PendingRecs, #CompleteRecs').removeClass('inactive');              
                            $('#DraftDivRecs').removeClass('hidden');
                            $('#PendingDivRecs,#CompletedDivRecs').addClass('hidden'); 
                            
                        }
                    }
                }
                else {     
                    alert('Looks like something went wrong. Please try after some time. If problem persists, contact your administrator.')
                }   
            });
        }
    
        function RequestList(ArrayName,RecStatus) {
            if(RecStatus == 'Draft') {
                var draftStr = '';  
                //alert(ArrayName);
                $.each(ArrayName, function(index,value) {
                    var DraftDate = normalizeDateExtended(value.CreatedDate);
                    var Draftmonth = DraftDate[0];
                    var Draftdate = DraftDate[1];
                    var Draftyear = DraftDate[2];
                    var DraftCreatedDate = Draftmonth+' '+Draftdate+','+Draftyear;
                    
                    if(value.Is_Event_Request__c == true){
                        nameOfRecOrEvent = value.Event_Type__c;
                        if(value.Number_of_people_for_event__c != '' && value.Number_of_people_for_event__c != undefined)
                            nameOfRecOrEvent += ' (' + value.Number_of_people_for_event__c + ')';
                        nameString = '<span class="glyphicon glyphicon-play"></span><span>'+ nameOfRecOrEvent +'</span>';
                        showPendingRequestVar = 'showDraftEventRequest(\''+value.Id+'\')';
                    }else{
                        var recipientOrProvider = '';
                        if(value.GH_Request_Recipients__r != undefined && value.GH_Request_Recipients__r != null){
                            if(value.GH_Request_Recipients__r[0].Gift_Recipient__c == false){
                                recipientOrProvider = 'Offering a Business Courtesy - ';
                            }else{
                                recipientOrProvider = 'Receiving a Business Courtesy - ';
                            }
                        }
                        nameOfRecOrEvent = recipientOrProvider + value.Recipient_Name_List__c;
                        nameString = '<span class="glyphicon glyphicon-user"></span><span>'+ nameOfRecOrEvent +'</span>';
                        showPendingRequestVar = 'showDraftRequest(\''+value.Id+'\');';
                    }

                    draftStr += '<div class="row gh-req-item" onclick="'+ showPendingRequestVar +'">'         
                             +'<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient-det">'
                             +'<div class="">'+value.GH_Req_Number__c                        
                             +'</div>'
                             +'<div class="">'
                             + nameString
                             +'</div>'
                             +'<div class="">'
                             +'<span class="glyphicon glyphicon-calendar"></span><span>'+DraftCreatedDate+'</span>'
                             +'</div>'
                             +'</div>'
                             +'<div class="gh-recipient-navArrow">'
                             +'<span class="glyphicon glyphicon-chevron-right"></span>'
                             +'</div>'
                             +'</div>'
                });
                $('#DraftDivRecs').html(draftStr);
            }
            if(RecStatus == 'Pending') {
                var pendingStr = '';                
                $.each(ArrayName, function(index,value) {
                    var PendingDate = normalizeDateExtended(value.CreatedDate);
                    var Pendingmonth = PendingDate[0];
                    var Pendingdate = PendingDate[1];
                    var Pendingyear = PendingDate[2];
                    var PendingCreatedDate = Pendingmonth+' '+Pendingdate+','+Pendingyear;
                    var showPendingRequestVar = '';
                    if(value.Is_Event_Request__c == true){
                        nameOfRecOrEvent = value.Event_Type__c + ' (' + value.Number_of_people_for_event__c + ')';
                        nameString = '<span class="glyphicon glyphicon-play"></span><span>'+ nameOfRecOrEvent +'</span>';
                        showPendingRequestVar = 'showPendingEventRequest(\''+value.Id+'\')';
                    }else{
                        var recipientOrProvider = '';
                        if(value.GH_Request_Recipients__r != undefined && value.GH_Request_Recipients__r != null){
                            if(value.GH_Request_Recipients__r[0].Gift_Recipient__c == false){
                                recipientOrProvider = 'Offering a Business Courtesy - ';
                            }else{
                                recipientOrProvider = 'Receiving a Business Courtesy - ';
                            }
                        }
                        nameOfRecOrEvent = recipientOrProvider + value.Recipient_Name_List__c;
                        nameString = '<span class="glyphicon glyphicon-user"></span><span>'+ nameOfRecOrEvent +'</span>';
                        showPendingRequestVar = 'showPendingRequest(\''+value.Id+'\');';
                    }
                    pendingStr += '<div class="row gh-req-item" onclick="' + showPendingRequestVar + '">'         
                             +'<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient-det">'
                             +'<div class="">'+ value.GH_Req_Number__c                        
                             +'</div>'
                             +'<div class="">'
                             + nameString
                             +'</div>'
                             +'<div class="">'
                             +'<span class="glyphicon glyphicon-calendar"></span><span>'+PendingCreatedDate+'</span>'
                             +'</div>'
                             +'</div>'
                             +'<div class="gh-recipient-navArrow">'
                             +'<span class="glyphicon glyphicon-chevron-right"></span>'
                             +'</div>'
                             +'</div>'
                });
                $('#PendingDivRecs').html(pendingStr);
            }
            if(RecStatus == 'Complete' || RecStatus == 'Approved') {
                var completeStr = '';                
                $.each(ArrayName, function(index,value) {
                    var CompleteDate = normalizeDateExtended(value.CreatedDate);
                    var Completemonth = CompleteDate[0];
                    var Completedate = CompleteDate[1];
                    var Completeyear = CompleteDate[2];
                    var CompleteCreatedDate = Completemonth+' '+Completedate+','+Completeyear;
                    
                    if(value.Is_Event_Request__c == true){
                        nameOfRecOrEvent = value.Event_Type__c + ' (' + value.Number_of_people_for_event__c + ')';
                        nameString = '<span class="glyphicon glyphicon-play"></span><span>'+ nameOfRecOrEvent +'</span>';
                        showPendingRequestVar = 'showCompletedEventRequest(\''+value.Id+'\')';
                    }else{
                        var recipientOrProvider = '';
                        if(value.GH_Request_Recipients__r != undefined && value.GH_Request_Recipients__r != null){
                            if(value.GH_Request_Recipients__r[0].Gift_Recipient__c == false){
                                recipientOrProvider = 'Offering a Business Courtesy - ';
                            }else{
                                recipientOrProvider = 'Receiving a Business Courtesy - ';
                            }
                        }
                        nameOfRecOrEvent = recipientOrProvider + value.Recipient_Name_List__c;
                        nameString = '<span class="glyphicon glyphicon-user"></span><span>'+ nameOfRecOrEvent +'</span>';
                        showPendingRequestVar = 'showCompletedRequest(\''+value.Id+'\');';
                    }
                    completeStr += '<div class="row gh-req-item" onclick="' + showPendingRequestVar + '">'         
                             +'<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient-det">'
                             +'<div class="">'+value.GH_Req_Number__c                        
                             +'</div>'
                             +'<div class="">'
                             + nameString
                             +'</div>'
                             +'<div class="">'
                             +'<span class="glyphicon glyphicon-calendar"></span><span>'+CompleteCreatedDate+'</span>'
                             +'</div>'
                             +'</div>'
                             +'<div class="gh-recipient-navArrow">'
                             +'<span class="glyphicon glyphicon-chevron-right"></span>'
                             +'</div>'
                             +'</div>'
                });
                $('#CompletedDivRecs').html(completeStr);
            }
        }
        
    // Fetching all record list ends
    
    //Creating the Request and recipients
    
    
    function Order_Request__c(){
        this.Id;
        this.Name;
        this.Additional_Comments__c;
        this.Business_Justification__c;
        this.Status__c;
        this.Recipient_Name_List__c;
        
        //Event
        this.Accommodation_Cost__c;
        this.Entertainment_Cost__c;
        this.Event_invited_to_government_official__c;
        this.Event_Total_cost_covered_in_currency__c;
        this.Event_Total_cost_covered_value__c;
        this.Event_Type__c;
        this.Event_Type_of_Currency__c;
        this.Flights_Cost__c;
        this.Gifts_Cost__c;
        this.Is_Event_Request__c;
        this.Is_Event_within_SEA_guidelines__c;
        this.Local_Transportation_Cost__c;
        this.Meals_Cost__c;
        this.Number_of_people_for_event__c;
        this.Other_Costs__c;
        this.Other_Cost_Type__c;
        this.Other_Event_Type__c;
        this.Spouse_invited_to_Event__c;
        this.Visa_Cost__c;
        this.Event_Date__c;
        //Event
    }
    
    function GH_Request_Recipient__c(){
        this.Id = null; 
        
        this.Name_of_Recipient__c = null;
        this.Name_of_Recipient_Lookup__c = null;
        this.Position__c = null;
        this.Company__c = null;
        this.City__c = null;
        this.Country__c = null;
        this.Date__c;
        // Deb  this.Type_of_Gift__c = null;
        // Deb  this.Status__c = null;
        this.GH_Request__c = null;
        
        this.Gift_Recipient__c = false;
     
        // Deb this.Elected_Representative__c = null;
        
        this.Gift_Frequency__c = null;
        this.Gift_Gift_given_to_government_official__c = null;
        this.Gift_Gift_offered_to_spouse__c = null;
        this.Gift_Line_Manager_Informed__c = null;

        //this.Gift_Occasion__c = null;
        
        this.Gift_Occasion_Award_Placement__c = null;
        this.Gift_Occasion_Business_Meeting__c = null;
        
        this.Gifts__c = null;
        this.Gift_Value_of_gift__c = null;
        this.Gift_Description__c = null;
        this.Gift_Additional_Comments__c = null;        
        this.Gift_Currency_Code__c;
        this.Gift_Value_Per_Currency__c;
        
        this.Meals_Entertainment__c = null;
        this.ME_Frequency__c = null;
        this.ME_Line_Manager_Informed__c = null;
        // this.ME_Occasion__c= null;
        
        this.ME_Occasion_Business_Meeting__c = null;
        this.ME_Occasion_Award_Placement__c = null;
        
        this.ME_Travel_offered_to_spouse__c = null;
        this.ME_Travel_provided_to_government_officia__c = null;
        this.ME_Value_of_Meals_Entertainment__c = null;
        
        this.ME_Description__c = null;
        this.ME_Business_Purpose__c = null;
        this.ME_Additional_Comments__c = null;
        this.Meals_Currency_Code__c;
        this.Meals_Value_Per_Currency__c;
        // Deb this.Score__c= null;
        
        
        
        //Provider flow details
        this.Pro_Gift_Embarrassing_If_Public__c;
        this.Pro_Gift_Manager_Approved_Gift__c;
        this.Pro_Gift_Occasion_Award_Placement__c;
        this.Pro_Gift_Occasion_Business_Meeting__c;
        this.Pro_Gift_Offered_To_Spouse__c;
        this.Pro_Gift_Solicited_By_You__c;
        this.Pro_Gift_Value_of_Gift__c;
        
        this.Pro_ME_Embarrassing_If_Public__c;
        this.Pro_ME_Manager_Approved__c;
        this.Pro_ME_Occasion_Award_Placement__c;
        this.Pro_ME_Occasion_Business_Meeting__c;
        this.Pro_ME_Offered_To_Spouse__c;
        this.Pro_ME_Solicited_By_You__c;
        this.Pro_ME_Value_of_Meal_Entertainment__c;
        //End of Provider flow details
    }

    function Attachment(){
        this.Id;
        this.Name;
    }

    
    var listOfRecipients = new Array();
    var listOfAttachments = new Array();
    var additionOfRecipientCount = 0;
    var addNewRecipientClicked = true;
    var requestId= null;
    var SaveAsDraftClicked = false;
    var forcetkClient = new forcetk.Client();
    var fileUrl ='';
    //var fileUploading = false;
    var fileBody;
    var fileNameText = '';
    var totalfiles = 0;
    var parentid;
    //var recipientIndex = 0;
    function createRequestandRecipient(requestStatus) {
        if((listOfRecipients.length > 0 && deletedRecord == true) || (deletedRecord == false)){
            
            if(requestStatus == 'Draft'){
                if(receivegift == true){
                    if($('#idRecipient').val() == '' && isDraftRecordClicked != true){
                        
                        
                        $('#RecipientNameValidationMessage').modal({
                            show:true,
                            closeOnEscape: true
                        });
                        return;
                    }
                }else if(providegift == true){
                    if($('#idProvider').val() == '' && isDraftRecordClicked != true){
                        
                        
                        $('#ProviderNameValidationMessage').modal({
                            show:true,
                            closeOnEscape: true
                        });
                        return;
                    }
                }
                SaveAsDraftClicked = true;
            }
            if(CloneRecord == true) {
                addRecipient();
                CloneRecord = false;
            }
            
            var additionalComments = '';
            var businessJustification  = '';
            
            var ghRequest = new Order_Request__c();
            
            if(requestId != null){
                ghRequest.Id = requestId;
            }
            ghRequest.Additional_Comments__c = additionalComments;
            ghRequest.Business_Justification__c = businessJustification;
            ghRequest.Status__c = requestStatus;
            ghRequest.RecordTypeId = '{!$Label.GH_App_Request}';
            //alert('listOfRecipients[0].Name_of_Recipient__c -->' + listOfRecipients[0].Name_of_Recipient__c);
            if(addNewRecipientClicked == true){ //&& isDraftRecordClicked == false
                addRecipient();
                addNewRecipientClicked = false;
            }else if(addNewRecipientClicked == false && isEdit == false && isDraftRecordClicked == false){
                    assignValuesToRecipient();
            }else if(addNewRecipientClicked == false && isEdit == true){
                updateList();
            }
 
            //alert('listOfRecipients[0].Name_of_Recipient__c -->' + listOfRecipients[0].Name_of_Recipient__c);
            
            GH_OrderRequest.createGHRecipient(
                        listOfRecipients, ghRequest,listOfRecipientsToDelete,
                        function(result, event) {
                if(event.status){
                    if(result != null){
                        if(requestStatus != 'Draft'){
                        GH_OrderRequest.UpdatetotalAggregatevalues(result, function(result, event) {
                          if(event.status){
                          
                              if(result != null){
                        listOfRecipientsToDelete = new Array();
                        //console.log(result.listOfRecipients);
                        ghRequest.Id = result.ghRequest.Id;
                        requestId = result.ghRequest.Id;
                        listOfRecipients = result.listOfRecipients;
                        
                        if(editingCompletedRequest == true){
                            
                            updateStatusOfRecipient(oldRecipientId,requestId, 'Modified', oldRequestName);    
                        }
                        
                        forcetkClient.setSessionToken('{!$Api.Session_ID}');
                        //alert('pid1');
                        $.each(listOfRecipients, function( index, value ) {
                            var pid = value.Id;
                            //alert('pid2' +pid);
                            //alert(listOfAttachments);
                            if(listOfAttachments != '' && listOfAttachments != undefined){
                                if(listOfAttachments.length > 0){
                                    $.each(listOfAttachments[index], function( indexAttachment, valueAttachment ) {
                                        var name = listOfAttachments[index][indexAttachment].Name;
                                        //alert('name' +name);
                                        var fileContent = listOfAttachments[index][indexAttachment].Body;
                                        //alert('fileContent' +fileContent);
                                        //fileContent = fileContent.substr(fileContent.indexOf(',') + 1);
                                        
                                        uploadContent(name,fileContent,pid);
                
                                    });
                                }
                            }
                        }); 
                        
                        if(requestStatus == 'Pending'){
                            $('#draftPage').addClass('hidden');
                            $('#providerDraftPage').addClass('hidden');
                            $('#reviewAndSubmitPage').addClass('hidden');
                            $('#ProviderreviewAndSubmitPage').addClass('hidden');
                            $('#approvalStatusPage').removeClass('hidden');
                            
                            
                            approvalStatusView();
                            alert('Request submitted Successfully.');
                            
                        }else if(requestStatus == 'Draft'){
                            $('#draftPage').addClass('hidden');
                            $('ProviderreviewAndSubmitPage').addClass('hidden');
                            SaveAsDraftPopup();
                            GetOrderList('Save');
                            listOfRecipients = null;
                            
                            //Navigate 
                            $('.gh-status-type > div').removeClass('inactive');
                            $('#DraftRecs').addClass('inactive');
                            $('#DraftDivRecs').removeClass('hidden');
                            $('#PendingDivRecs').addClass('hidden');
                            $('#CompletedDivRecs').addClass('hidden');
                            $('#addProviderPage').addClass('hidden');
                            $('#ProviderreviewAndSubmitPage').addClass('hidden');
                            $('#providerDraftPage').addClass('hidden');
                            $('#ProviderScorecardPage').addClass('hidden');
                            document.body.scrollTop = document.documentElement.scrollTop = 0;
                            //Navigate 

                        }
                        editingCompletedRequest = false;
                        addNewRecipientClicked = true;
                                }
                          }
                      });
                      }else if(requestStatus == 'Draft'){
                      
                          forcetkClient.setSessionToken('{!$Api.Session_ID}');
                            //alert('pid1');
                            $.each(listOfRecipients, function( index, value ) {
                                var pid = value.Id;
                                //alert('pid2' +pid);
                                //alert(listOfAttachments);
                                if(listOfAttachments != '' && listOfAttachments != undefined){
                                    if(listOfAttachments.length > 0){
                                        $.each(listOfAttachments[index], function( indexAttachment, valueAttachment ) {
                                            var name = listOfAttachments[index][indexAttachment].Name;
                                            //alert('name' +name);
                                            var fileContent = listOfAttachments[index][indexAttachment].Body;
                                            //alert('fileContent' +fileContent);
                                            //fileContent = fileContent.substr(fileContent.indexOf(',') + 1);
                                            
                                            uploadContent(name,fileContent,pid);
                    
                                        });
                                    }
                                }
                            });
                        
                            $('#draftPage').addClass('hidden');
                            $('ProviderreviewAndSubmitPage').addClass('hidden');
                            SaveAsDraftPopup();
                            GetOrderList('Save');
                            listOfRecipients = null;
                            
                            //Navigate 
                            $('.gh-status-type > div').removeClass('inactive');
                            $('#DraftRecs').addClass('inactive');
                            $('#DraftDivRecs').removeClass('hidden');
                            $('#PendingDivRecs').addClass('hidden');
                            $('#CompletedDivRecs').addClass('hidden');
                            $('#addProviderPage').addClass('hidden');
                            $('#ProviderreviewAndSubmitPage').addClass('hidden');
                            $('#providerDraftPage').addClass('hidden');
                            $('#ProviderScorecardPage').addClass('hidden');
                            document.body.scrollTop = document.documentElement.scrollTop = 0;
                            //Navigate 

                        }  
                      
                        
                    }
                    
                }
            });
        }else{
            alert('You need atleast one Recipient to Proceed.');
        }
    } 
    
    function createAnEvent(){
        if(CompletedEventEditClicked = true && ghEventCompleted != null){
            ghEventCompleted.Status__c = 'Modified';
        }else{
            ghEventCompleted = null;
        }
        GH_OrderRequest.createEventRequest(ghEvent,ghEventCompleted, function(result, event){
            if(event.status){
                if(result != null){
                    if(result.Status__c == 'Pending'){
                        
                        var PendingDate = normalizeDateExtended(result.CreatedDate);
                        var Pendingmonth = PendingDate[0];
                        var Pendingdate = PendingDate[1];
                        var Pendingyear = PendingDate[2];
                        var PendingCreatedDate = Pendingmonth+' '+Pendingdate+','+Pendingyear;
                        
                        if(eventFilesArray.length > 0){
                            forcetkClient.setSessionToken('{!$Api.Session_ID}');
                            attachCount = 0;
                            $.each(eventFilesArray, function( index, value ) {
                                var pid = result.Id;    
                                var name = value.Name;                              
                                var fileContent = value.Body; 
                                uploadContent(name,fileContent,pid);

                            });
                            $('#submitEventName').html(result.Event_Type__c + ' (' + result.Number_of_people_for_event__c + ')');
                            $('#submitEventDate').html(PendingCreatedDate);


                        }else{
                            alert("Event submitted successfully");
                            $('#submitEventName').html(result.Event_Type__c + ' (' + result.Number_of_people_for_event__c + ')');
                            $('#submitEventDate').html(PendingCreatedDate);


                            $('#EventApprovalStatusPage').removeClass('hidden');
                            $('#EventReviewAndSubmitPage').addClass('hidden');
                            
                            $('#EventDraftPage').addClass('hidden');
                                                  
                            
                        }
                        
                        
                    }else if(result.Status__c == 'Draft'){
                        alert("Event submitted as Draft successfully");
                        //$('#EventReviewAndSubmitPage').addClass('hidden');
                        $('#EventDiv').addClass('hidden');
                        GetOrderList('Save');
                    }
                }
            }
        });
        
    }   
    
   
    function saveEventAsDraft(){
        getEventValues('Draft','Draft');
        ghEvent.Id = ghEventId;
        createAnEvent();
    }
    
    var attachCount = 0;
    function uploadContent(filename, filecontent, parid) {
       
        fileBody = filecontent;
        fileNameText = filename;
        parentid = parid;
        //fileUploading = true;
        //alert('calling upload content');

        forcetkClient.create('Attachment', {
                                                "ParentId": parentid,
                                                "Name": fileNameText,
                                                "Body": fileBody
                                            }, function(data) {

                                                   if(createevent == true){
                                                       
                                                       attachCount++;
                                                       
                                                       if(attachCount == eventFilesArray.length){
                                                            
                                                            
                                                            $('#EventApprovalStatusPage').removeClass('hidden');
                                                            $('#EventReviewAndSubmitPage').addClass('hidden');
                                                            
                                                            $('#EventDraftPage').addClass('hidden');
                                                            attachCount = 0;
                                                            
                                                            
                                                            alert("Event submitted successfully");
                                                       }    
                                                   }

                                            },function(error) {
                                               //alert(JSON.stringify(error));
                                               
                                                if(error.statusText == "Created"){
                                                    if(createevent == true){
                                                       
                                                       attachCount++;
                                                       
                                                       if(attachCount == eventFilesArray.length){
                                                            
                                                            
                                                            $('#EventApprovalStatusPage').removeClass('hidden');
                                                            $('#EventReviewAndSubmitPage').addClass('hidden');
                                                            
                                                            $('#EventDraftPage').addClass('hidden');
                                                            attachCount = 0;
                                                       }    
                                                   }                                                  
                                                  
                                                }else{
                                                    alert('Status:'+ error.statusText);
                                                   alert(JSON.stringify(error));
                                                  
                                                }
                                               
        });
                                          
    }
    
    //Creating the Request and recipients
    
    function createReviewAndSubmitView(id){
        var listOfReviewingRecipients = '';
        
        var hideClass = '';
        var editPlaceClass = '';
        $('#addNewRecipientLink').css('visibility','none');
        if(editingCompletedRequest == true){
            
            hideClass = 'class = "hidden"';
            editPlaceClass = 'padding-top: 20px;';
            $('#addNewRecipientLink').css('visibility','hidden');
            
        }
        
        //console.log(listOfRecipients[0].Id);
        $.each(listOfRecipients, function( index, value ) {
            var giftOrMeal = '';
            if(value.Gifts__c == true){
                giftOrMeal = 'Gifts';
            }else if(value.Meals_Entertainment__c == true){
                giftOrMeal = 'Meals/Entertainment';
            }
            if(value.Gifts__c == true && value.Meals_Entertainment__c == true){
                giftOrMeal = 'Gifts, Meals/Entertainment';
            }  
            
            var benifitType = '<div><span>'+ giftOrMeal +'</span></div>';
            if(value.Gifts__c == false && value.Meals_Entertainment__c == false){
                benifitType = '';
            }
            listOfReviewingRecipients += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                            '<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient">'+
                                                '<div>' + value.Name_of_Recipient__c + '</div>'+
                                                '<small>' + value.Company__c + '</small>'+
                                                benifitType +                                                
                                            '</div>'+
                                            '<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-recipient-customize">' +
                                                '<div class="" style="'+ editPlaceClass +'" onclick="ShowEditPage('+ index + ')"><span class="glyphicon glyphicon-edit"/> Edit</div>'+
                                                '<div '+ hideClass +' onclick="ShowClonedPage('+ index + ')"><span class="glyphicon glyphicon-share"/> Clone</div>'+
                                                '<div '+ hideClass +' onclick="DeleteRec('+ index + ')"><span class="glyphicon glyphicon-trash"/> Delete</div>'+
                                            '</div>'+
                                        '</div>';
        });                            
        
        $('#'+id).html(listOfReviewingRecipients);
        
    }
    function addRecipient(){
    
        additionOfRecipientCount += 1;

        // Get values form Recipient
        var RecipientName;
        var RecipientId;
        var Position;
        var Company;
        var City;
        var Country;
        var DateCreated;
        var gift;
        var meal;
        var giftCountry;
        var mealCountry;
                
        // Get values form Recipient
        var receivingAGift = false;
        if(receivegift == true){
            RecipientName = $('#idRecipient').val();
            RecipientId = $('#idRecipientId').val();
            Position = $('#idPosition').val();
            Company = $('#idCompany').val();
            City = $('#idCity').val();
            Country  = $('#idCountry').val();
            DateCreated = new Date($('#idDate').val()).getTime();
            
            if($('#idGifts').attr('value') == 'true'){
                gift = true;
            }else{
                gift = false;
            }
            
            
            if($('#idME').attr('value') == 'true'){
                meal = true;
            }else{
                meal = false;
            }
            receivingAGift = false;
            
            giftCountry = $('#GiftCountry').val();
            mealCountry = $('#MealsCountry').val();
        }
        if(providegift == true){
            
            RecipientName = $('#idProvider').val();
            RecipientId = $('#idProviderId').val();
            Position = $('#idPositionProvider').val();
            Company = $('#idCompanyProvider').val();
            City = $('#idCityProvider').val();
            Country  = $('#idCountryProvider').val();
            DateCreated = new Date($('#idDateProvider').val()).getTime();
            
            if($('#idGiftsProvider').attr('value') == 'true'){
                gift = true;
            }else{
                gift = false;
            }
            
            
            if($('#idMEProvider').attr('value') == 'true'){
                meal = true;
            }else{
                meal = false;
            }
            receivingAGift = true;
        }
                
        var gift_BusinessMeeting;
        if($('#gift-score1').slider('getValue') == '1'){
            gift_BusinessMeeting = false;
        }else{
            gift_BusinessMeeting = true;
        }
        
        var gift_AwardPlacement;
        if($('#gift-score2').slider('getValue') == '1'){
            gift_AwardPlacement = false;
        }else{
            gift_AwardPlacement = true;
        }
        
        var gift_governmentOfficial;
        if($('#gift-score3').slider('getValue') == '1'){
            gift_governmentOfficial = false;
        }else{
            gift_governmentOfficial = true;
        }
        
        var gift_totalWork;
        if($('#gift-score4').slider('getValue') == '1'){
            gift_totalWork = false;
        }else{
            gift_totalWork = true;
        }
        
        var gift_toSpouse;
        if($('#gift-score5').slider('getValue') == '1'){
            gift_toSpouse = false;
        }else{
            gift_toSpouse = true;
        }
        
        var gift_lineManager;
        if($('#gift-score9').slider('getValue') == '1'){
            gift_lineManager = false;
        }else{
            gift_lineManager = true;
        }
        
        var gift_valueOfGift = $('#ValueOfGift').val(); 
        var gift_giftDescription = $('#DescriptionOfGift').val();
        var gift_businessPurpose = $('#GiftJustification').val();
        var gift_additionalComments = $('#GiftAdditionalComments').val();
        
        
        
        var meal_BusinessMeeting;
        if($('#meal-score1').slider('getValue') == '1'){
            meal_BusinessMeeting = false;
        }else{
            meal_BusinessMeeting = true;
        }
        
        var meal_AwardPlacement;
        if($('#meal-score2').slider('getValue') == '1'){
            meal_AwardPlacement = false;
        }else{
            meal_AwardPlacement = true;
        }
        
        var meal_governmentOfficial;
        if($('#meal-score3').slider('getValue') == '1'){
            meal_governmentOfficial = false;
        }else{
            meal_governmentOfficial = true;
        }
        
        var meal_totalWork;
        if($('#meal-score4').slider('getValue') == '1'){
            meal_totalWork = false;
        }else{
            meal_totalWork = true;
        }
        
        var meal_toSpouse;
        if($('#meal-score5').slider('getValue') == '1'){
            meal_toSpouse = false;
        }else{
            meal_toSpouse = true;
        }
        
        var meal_lineManager;
        if($('#meal-score9').slider('getValue') == '1'){
            meal_lineManager = false;
        }else{
            meal_lineManager = true;
        }
        
        var meal_valueOfmeal = $('#ValueOfMeal').val(); 
        var meal_mealDescription = $('#DescriptionOfMeal').val();
        var meal_businessPurpose = $('#mealJustification').val();
        var meal_additionalComments = $('#MealAdditionalComments').val();
        
        
         
        //Attaching file
        var files1;
        var filename;
        var fileContent;
        
        if(receivegift == true){    

            files1 = document.getElementById('fileToUpload').files;
        }
        else if(providegift == true){       
            files1 = document.getElementById('fileToUploadProvider').files;
        }            


                    

        listOfAttachments[additionOfRecipientCount-1] = new Array();
        for(var i = 0, f; f = files1[i]; i++)
        {
            var reader = new FileReader();     

            // Keep a reference to the File in the FileReader so it can be accessed in callbacks
            reader.file = f; 

            reader.onerror = function(e) 
            {
                switch(e.target.error.code) 
                {
                    case e.target.error.NOT_FOUND_ERR:
                    alert('File Not Found!');
                    break;
                    case e.target.error.NOT_READABLE_ERR:
                    alert('File is not readable');
                    break;
                    case e.target.error.ABORT_ERR:
                    break; // noop
                    default:
                    alert('An error occurred reading this file.');
                };
            };     

            reader.onabort = function(e) 
            {
                alert('File read cancelled');
            };

            reader.onload = function(e) 
            {
                var att = new sforce.SObject("Attachment");
                att.Name = this.file.name;
                att.ContentType = this.file.type;
                //att.ParentId = parentId;

                att.Body = (new sforce.Base64Binary(e.target.result)).toString();
                //alert("body" +att.Body);
                listOfAttachments[additionOfRecipientCount-1].push(att);
            
            };

            reader.readAsBinaryString(f);
        } 
        //console.log('listOfAttachments.length--->' + listOfAttachments.length);

        //var rec = new Recipient();
        var rec = new GH_Request_Recipient__c();
        rec.RecordTypeId = '{!$Label.GH_App_Recipient_Provider_Rec_Type}';
        rec.Name_of_Recipient__c = RecipientName;
        rec.Name_of_Recipient_Lookup__c = RecipientId;
        rec.Position__c = Position;
        rec.Company__c = Company;
        rec.City__c = City;
        rec.Country__c = Country;
        rec.Date__c = DateCreated;
        
        if(SaveAsDraftClicked == true) {
            
            rec.Status__c = 'Draft';
            SaveAsDraftClicked = false;
        }
        else {
            rec.Status__c = 'Submitted';
            //rec.Status__c = 'Pending';
        }
        
        
        rec.Gift_Recipient__c = receivingAGift;
        rec.Gifts__c = gift;
        //rec.Elected_Representative__c = null;
        /*if($('#idGifts').attr('value') == 'true') {
            rec.Gifts__c = true;
        }
        else {
            rec.Gifts__c = false;
        }*/
        
        
        rec.Gift_Occasion_Business_Meeting__c = gift_BusinessMeeting;
        rec.Gift_Occasion_Award_Placement__c = gift_AwardPlacement; 
        rec.Gift_Frequency__c = gift_totalWork;
        rec.Gift_Gift_given_to_government_official__c = gift_governmentOfficial;
        rec.Gift_Gift_offered_to_spouse__c = gift_toSpouse;
        rec.Gift_Line_Manager_Informed__c = gift_lineManager;
        
        rec.Gift_Value_of_gift__c = $('#Giftconvertedpanel').val();
        
        rec.Gift_Currency_Code__c = $('#GiftCurrencyCodeVal').val();
        rec.Gift_Value_Per_Currency__c = gift_valueOfGift;
        
        rec.Gift_Description__c = gift_giftDescription;
        rec.Gift_Business_Purpose__c = gift_businessPurpose;
        rec.Gift_Additional_Comments__c = gift_additionalComments;
        
        
        rec.Meals_Entertainment__c = meal;
        /*if($('#idME').attr('value') == 'true') {
            rec.Meals_Entertainment__c = true;
        }
        else {
            rec.Meals_Entertainment__c = false;
        }*/
        rec.ME_Occasion_Business_Meeting__c = meal_BusinessMeeting;
        rec.ME_Occasion_Award_Placement__c = meal_AwardPlacement;
        rec.ME_Frequency__c = meal_totalWork;
        rec.ME_Travel_provided_to_government_officia__c = meal_governmentOfficial;
        rec.ME_Travel_offered_to_spouse__c = meal_toSpouse;
        rec.ME_Line_Manager_Informed__c = meal_lineManager;
        
        
        rec.ME_Value_of_Meals_Entertainment__c = $('#mealconvertedpanel').val();
        rec.Meals_Currency_Code__c = $('#MealCurrencyCodeVal').val();
        rec.Meals_Value_Per_Currency__c = meal_valueOfmeal;
        
        rec.ME_Description__c = meal_mealDescription;
        rec.ME_Business_Purpose__c = meal_businessPurpose;
        
        
        rec.ME_Additional_Comments__c = meal_additionalComments;
        rec.Gift_Business_Purpose_Other__c = $('#GiftPurpose').val();
        rec.ME_Business_Purpose_Other__c = $('#MealsPurpose').val();
        
        rec.Country_where_Gift_is_provided__c = giftCountry;
        rec.Country_where_ME_is_provided__c = mealCountry;
        //rec.Score__c= null;
        
        // Provider Flow Details
        if($('#pro-gift-score1').slider('getValue') == '1'){
            rec.Pro_Gift_Occasion_Business_Meeting__c = false;
        }else{
            rec.Pro_Gift_Occasion_Business_Meeting__c = true;
        }
        
        if($('#pro-gift-score2').slider('getValue') == '1'){
            rec.Pro_Gift_Occasion_Award_Placement__c = false;
        }else{
            rec.Pro_Gift_Occasion_Award_Placement__c = true;
        }
        
        if($('#pro-gift-score3').slider('getValue') == '1'){
            rec.Pro_Gift_Solicited_By_You__c = false;
        }else{
            rec.Pro_Gift_Solicited_By_You__c = true;
        }
        
        if($('#pro-gift-score4').slider('getValue') == '1'){
            rec.Pro_Gift_Embarrassing_If_Public__c = false;
        }else{
            rec.Pro_Gift_Embarrassing_If_Public__c = true;
        }
        
        if($('#pro-gift-score5').slider('getValue') == '1'){
            rec.Pro_Gift_Offered_To_Spouse__c = false;
        }else{
            rec.Pro_Gift_Offered_To_Spouse__c = true;
        }
        
        if($('#pro-gift-score9').slider('getValue') == '1'){
            rec.Pro_Gift_Manager_Approved_Gift__c = false;
        }else{
            rec.Pro_Gift_Manager_Approved_Gift__c = true;
        }
        
        
        if($('#pro-meal-score1').slider('getValue') == '1'){
            rec.Pro_ME_Occasion_Business_Meeting__c = false;
        }else{
            rec.Pro_ME_Occasion_Business_Meeting__c = true;
        }

        if($('#pro-meal-score2').slider('getValue') == '1'){
            rec.Pro_ME_Occasion_Award_Placement__c = false;
        }else{
            rec.Pro_ME_Occasion_Award_Placement__c = true;
        }

        if($('#pro-meal-score3').slider('getValue') == '1'){
            rec.Pro_ME_Solicited_By_You__c = false;
        }else{
            rec.Pro_ME_Solicited_By_You__c = true;
        }

        if($('#pro-meal-score4').slider('getValue') == '1'){
            rec.Pro_ME_Embarrassing_If_Public__c = false;
        }else{
            rec.Pro_ME_Embarrassing_If_Public__c = true;
        }

        if($('#pro-meal-score5').slider('getValue') == '1'){
            rec.Pro_ME_Offered_To_Spouse__c = false;
        }else{
            rec.Pro_ME_Offered_To_Spouse__c = true;
        }

        if($('#pro-meal-score9').slider('getValue') == '1'){
            rec.Pro_ME_Manager_Approved__c = false;
        }else{
            rec.Pro_ME_Manager_Approved__c = true;
        }
        
        rec.Pro_Gift_Value_of_Gift__c = $('#ProGiftconvertedpanel').val();
        rec.Pro_Gift_Description__c = $('#pro-DescriptionOfGift').val();
        
        rec.Pro_Gift_Currency_Code__c = $('#ProviderGiftCurrencyCodeVal').val();
        rec.Pro_Gift_Value_Per_Currency__c = $('#ProValueOfGift').val();
        
        
        rec.Pro_ME_Value_of_Meal_Entertainment__c = $('#pro-mealconvertedpanel').val();
        rec.Pro_Meal_Description__c = $('#pro-DescriptionOfMeal').val();
        
        rec.Pro_Meals_Currency_Code__c = $('#ProviderMealCurrencyCodeVal').val();
        rec.Pro_Meals_Value_Per_Currency__c = $('#ProValueOfMeal').val();
        
        rec.Pro_Gift_Additional_Comments__c = $('#proGiftAdditionalComments').val();
        rec.Pro_ME_Additional_Comments__c = $('#proMealAdditionalComments').val();
        
        
        
        // End of Provider Flow Details
        listOfRecipients.push(rec); 
        
    }
    
    function updateList(){
    
        var index = GlobalIndex;
        
        var RecipientName;
        var RecipientId;
        var Position;
        var Company;
        var City;
        var Country;
        var DateCreated;
        var gift;
        var meal;
        
        var giftCountry;
        var mealCountry; 
        
        // Get values form Recipient
        var receivingAGift = false;
        if(receivegift == true){
            RecipientName = $('#idRecipient').val();
            RecipientId = $('#idRecipientId').val();
            Position = $('#idPosition').val();
            Company = $('#idCompany').val();
            City = $('#idCity').val();
            Country  = $('#idCountry').val();
            DateCreated = new Date($('#idDate').val()).getTime();
            
            if($('#idGifts').attr('value') == 'true'){
                gift = true;
            }else{
                gift = false;
            }

            if($('#idME').attr('value') == 'true'){
                meal = true;
            }else{
                meal = false;
            }
            receivingAGift = false;
            giftCountry = $('#GiftCountry').val();
            mealCountry = $('#MealsCountry').val();
        }
        if(providegift == true){
            
            RecipientName = $('#idProvider').val();
            RecipientId = $('#idProviderId').val();
            Position = $('#idPositionProvider').val();
            Company = $('#idCompanyProvider').val();
            City = $('#idCityProvider').val();
            Country  = $('#idCountryProvider').val();
            DateCreated = new Date($('#idDateProvider').val()).getTime();
            
            if($('#idGiftsProvider').attr('value') == 'true'){
                gift = true;
            }else{
                gift = false;
            }

            if($('#idMEProvider').attr('value') == 'true'){
                meal = true;
            }else{
                meal = false;
            }
            receivingAGift = true;
        }
                
        var gift_BusinessMeeting;
        if($('#gift-score1').slider('getValue') == '1'){
            gift_BusinessMeeting = false;
        }else{
            gift_BusinessMeeting = true;
        }
        
        var gift_AwardPlacement;
        if($('#gift-score2').slider('getValue') == '1'){
            gift_AwardPlacement = false;
        }else{
            gift_AwardPlacement = true;
        }
        
        var gift_governmentOfficial;
        if($('#gift-score3').slider('getValue') == '1'){
            gift_governmentOfficial = false;
        }else{
            gift_governmentOfficial = true;
        }
        
        var gift_totalWork;
        if($('#gift-score4').slider('getValue') == '1'){
            gift_totalWork = false;
        }else{
            gift_totalWork = true;
        }
        
        var gift_toSpouse;
        if($('#gift-score5').slider('getValue') == '1'){
            gift_toSpouse = false;
        }else{
            gift_toSpouse = true;
        }
        
        var gift_lineManager;
        if($('#gift-score9').slider('getValue') == '1'){
            gift_lineManager = false;
        }else{
            gift_lineManager = true;
        }
        
        var gift_valueOfGift = $('#ValueOfGift').val(); 
        var gift_giftDescription = $('#DescriptionOfGift').val();
        var gift_businessPurpose = $('#GiftJustification').val();
        var gift_additionalComments = $('#GiftAdditionalComments').val();
        
        
        var meal_BusinessMeeting;
        if($('#meal-score1').slider('getValue') == '1'){
            meal_BusinessMeeting = false;
        }else{
            meal_BusinessMeeting = true;
        }
        
        var meal_AwardPlacement;
        if($('#meal-score2').slider('getValue') == '1'){
            meal_AwardPlacement = false;
        }else{
            meal_AwardPlacement = true;
        }
        
        var meal_governmentOfficial;
        if($('#meal-score3').slider('getValue') == '1'){
            meal_governmentOfficial = false;
        }else{
            meal_governmentOfficial = true;
        }
        
        var meal_totalWork;
        if($('#meal-score4').slider('getValue') == '1'){
            meal_totalWork = false;
        }else{
            meal_totalWork = true;
        }
        
        var meal_toSpouse;
        if($('#meal-score5').slider('getValue') == '1'){
            meal_toSpouse = false;
        }else{
            meal_toSpouse = true;
        }
        
        var meal_lineManager;
        if($('#meal-score9').slider('getValue') == '1'){
            meal_lineManager = false;
        }else{
            meal_lineManager = true;
        }
        
        var meal_valueOfmeal = $('#ValueOfMeal').val(); 
        var meal_mealDescription = $('#DescriptionOfMeal').val();
        var meal_businessPurpose = $('#mealJustification').val();
        var meal_additionalComments = $('#MealAdditionalComments').val();
        
        //Attaching file
        var files1;
        var filename;
        var fileContent;
        
        if(receivegift == true){    
            files1 = document.getElementById('fileToUpload').files;
        }
        else if(providegift == true){       
            files1 = document.getElementById('fileToUploadProvider').files;
        }            
                    
        listOfAttachments[index] = new Array();
        for(var i = 0, f; f = files1[i]; i++)
        {
            var reader = new FileReader();     

            // Keep a reference to the File in the FileReader so it can be accessed in callbacks
            reader.file = f; 

            reader.onerror = function(e) 
            {
                switch(e.target.error.code) 
                {
                    case e.target.error.NOT_FOUND_ERR:
                    alert('File Not Found!');
                    break;
                    case e.target.error.NOT_READABLE_ERR:
                    alert('File is not readable');
                    break;
                    case e.target.error.ABORT_ERR:
                    break; // noop
                    default:
                    alert('An error occurred reading this file.');
                };
            };     

            reader.onabort = function(e) 
            {
                alert('File read cancelled');
            };

            reader.onload = function(e) 
            {
                var att = new sforce.SObject("Attachment");
                att.Name = this.file.name;
                att.ContentType = this.file.type;
                //att.ParentId = parentId;

                att.Body = (new sforce.Base64Binary(e.target.result)).toString();
                //alert("body" +att.Body);
                listOfAttachments[index].push(att);
            
            };

            reader.readAsBinaryString(f);
        }
        //Attaching file
        
        

      
        
        listOfRecipients[index].Name_of_Recipient__c = RecipientName;
        listOfRecipients[index].Name_of_Recipient_Lookup__c = RecipientId;
        //alert('listOfRecipients[index].Name_of_Recipient_Lookup__c--->' + listOfRecipients[index].Name_of_Recipient_Lookup__c);
        listOfRecipients[index].Position__c = Position;
        listOfRecipients[index].Company__c = Company;
        listOfRecipients[index].Country__c = Country;
        listOfRecipients[index].City__c = City;
        listOfRecipients[index].Date__c = DateCreated;
        listOfRecipients[index].Status__c = 'Submitted';
        
      
        
        listOfRecipients[index].Gift_Recipient__c = receivingAGift;
        
        listOfRecipients[index].Gifts__c = gift;
        /*if($('#idGifts').attr('value') == 'true') {
            listOfRecipients[index].Gifts__c = true;
        }
        else {
            listOfRecipients[index].Gifts__c = false;
        }*/
        listOfRecipients[index].Gift_Occasion_Business_Meeting__c = gift_BusinessMeeting;
        listOfRecipients[index].Gift_Occasion_Award_Placement__c = gift_AwardPlacement; 
        listOfRecipients[index].Gift_Frequency__c = gift_totalWork;
        listOfRecipients[index].Gift_Gift_given_to_government_official__c = gift_governmentOfficial;
        listOfRecipients[index].Gift_Gift_offered_to_spouse__c = gift_toSpouse;
        listOfRecipients[index].Gift_Line_Manager_Informed__c = gift_lineManager;
    
        listOfRecipients[index].Gift_Value_of_gift__c= $('#Giftconvertedpanel').val();
        listOfRecipients[index].Gift_Currency_Code__c = $('#GiftCurrencyCodeVal').val();
        listOfRecipients[index].Gift_Value_Per_Currency__c = gift_valueOfGift;
        
        listOfRecipients[index].Gift_Description__c = gift_giftDescription;
        listOfRecipients[index].Gift_Business_Purpose__c = gift_businessPurpose;
        listOfRecipients[index].Gift_Additional_Comments__c = gift_additionalComments;
        
        listOfRecipients[index].Meals_Entertainment__c = meal;
        /*if($('#idME').attr('value') == 'true') {
            listOfRecipients[index].Meals_Entertainment__c = true;
        }
        else {
            listOfRecipients[index].Meals_Entertainment__c = false;
        }*/
        listOfRecipients[index].ME_Occasion_Business_Meeting__c = meal_BusinessMeeting;
        listOfRecipients[index].ME_Occasion_Award_Placement__c = meal_AwardPlacement;
        listOfRecipients[index].ME_Frequency__c = meal_totalWork;
        listOfRecipients[index].ME_Travel_provided_to_government_officia__c = meal_governmentOfficial;
        listOfRecipients[index].ME_Travel_offered_to_spouse__c = meal_toSpouse;
        listOfRecipients[index].ME_Line_Manager_Informed__c = meal_lineManager;
        
        
        listOfRecipients[index].ME_Value_of_Meals_Entertainment__c = $('#mealconvertedpanel').val();
        listOfRecipients[index].Meals_Currency_Code__c = $('#MealCurrencyCodeVal').val();
        listOfRecipients[index].Meals_Value_Per_Currency__c = meal_valueOfmeal;
        
        listOfRecipients[index].ME_Description__c = meal_mealDescription;
        listOfRecipients[index].ME_Business_Purpose__c = meal_businessPurpose;
        listOfRecipients[index].ME_Additional_Comments__c = meal_additionalComments;
        
        listOfRecipients[index].Country_where_Gift_is_provided__c = giftCountry;
        listOfRecipients[index].Country_where_ME_is_provided__c = mealCountry;
        
        // Provider Flow Details
        if($('#pro-gift-score1').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Occasion_Business_Meeting__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Occasion_Business_Meeting__c = true;
        }
        
        if($('#pro-gift-score2').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Occasion_Award_Placement__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Occasion_Award_Placement__c = true;
        }
        
        if($('#pro-gift-score3').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Solicited_By_You__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Solicited_By_You__c = true;
        }
        
        if($('#pro-gift-score4').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Embarrassing_If_Public__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Embarrassing_If_Public__c = true;
        }
        
        if($('#pro-gift-score5').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Offered_To_Spouse__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Offered_To_Spouse__c = true;
        }
        
        if($('#pro-gift-score9').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Manager_Approved_Gift__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Manager_Approved_Gift__c = true;
        }
        
        
        if($('#pro-meal-score1').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Occasion_Business_Meeting__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Occasion_Business_Meeting__c = true;
        }

        if($('#pro-meal-score2').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Occasion_Award_Placement__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Occasion_Award_Placement__c = true;
        }

        if($('#pro-meal-score3').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Solicited_By_You__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Solicited_By_You__c = true;
        }

        if($('#pro-meal-score4').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Embarrassing_If_Public__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Embarrassing_If_Public__c = true;
        }

        if($('#pro-meal-score5').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Offered_To_Spouse__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Offered_To_Spouse__c = true;
        }

        if($('#pro-meal-score9').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Manager_Approved__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Manager_Approved__c = true;
        }
        
        listOfRecipients[index].Pro_Gift_Value_of_Gift__c = $('#ProGiftconvertedpanel').val();
        listOfRecipients[index].Pro_Gift_Description__c = $('#pro-DescriptionOfGift').val();
        
        listOfRecipients[index].Pro_Gift_Currency_Code__c = $('#ProviderGiftCurrencyCodeVal').val();
        listOfRecipients[index].Pro_Gift_Value_Per_Currency__c = $('#ProValueOfGift').val();
        
        
        listOfRecipients[index].Pro_ME_Value_of_Meal_Entertainment__c = $('#pro-mealconvertedpanel').val();
        listOfRecipients[index].Pro_Meal_Description__c = $('#pro-DescriptionOfMeal').val();
        
        listOfRecipients[index].Pro_Meals_Currency_Code__c = $('#ProviderMealCurrencyCodeVal').val();
        listOfRecipients[index].Pro_Meals_Value_Per_Currency__c = $('#ProValueOfMeal').val();
        
        listOfRecipients[index].Pro_Gift_Additional_Comments__c = $('#proGiftAdditionalComments').val();
        listOfRecipients[index].Pro_ME_Additional_Comments__c = $('#proMealAdditionalComments').val();
        
        // End of Provider Flow Details
        
    } 
    
    function assignValuesToRecipient() {
    
        var index = listOfRecipients.length -1;

        // Get values form Recipient
        var RecipientName;
        var RecipientId;
        var Position;
        var Company;
        var City;
        var Country;
        var DateCreated;
        var gift;
        var meal;
        var giftCountry;
        var mealCountry;
 
        // Get values form Recipient
        var receivingAGift = false;
        if(receivegift == true){
            RecipientName = $('#idRecipient').val();
            RecipientId = $('#idRecipientId').val();
            Position = $('#idPosition').val();
            Company = $('#idCompany').val();
            City = $('#idCity').val();
            Country  = $('#idCountry').val();
            DateCreated = new Date($('#idDate').val()).getTime();
            
            if($('#idGifts').attr('value') == 'true'){
                gift = true;
            }else{
                gift = false;
            }
            
            if($('#idME').attr('value') == 'true'){
                meal = true;
            }else{
                meal = false;
            }
            receivingAGift = false;
            giftCountry = $('#GiftCountry').val();
            mealCountry = $('#MealsCountry').val();
        }
        if(providegift == true){
            
            RecipientName = $('#idProvider').val();
            RecipientId = $('#idProviderId').val();
            Position = $('#idPositionProvider').val();
            Company = $('#idCompanyProvider').val();
            City = $('#idCityProvider').val();
            Country  = $('#idCountryProvider').val();
            DateCreated = new Date($('#idDateProvider').val()).getTime();
            
            if($('#idGiftsProvider').attr('value') == 'true'){
                gift = true;
            }else{
                gift = false;
            }
            
            if($('#idMEProvider').attr('value') == 'true'){
                meal = true;
            }else{
                meal = false;
            }
            receivingAGift = true;
        }
                
        var gift_BusinessMeeting;
        if($('#gift-score1').slider('getValue') == '1'){
            gift_BusinessMeeting = false;
        }else{
            gift_BusinessMeeting = true;
        }
        
        var gift_AwardPlacement;
        if($('#gift-score2').slider('getValue') == '1'){
            gift_AwardPlacement = false;
        }else{
            gift_AwardPlacement = true;
        }
        
        var gift_governmentOfficial;
        if($('#gift-score3').slider('getValue') == '1'){
            gift_governmentOfficial = false;
        }else{
            gift_governmentOfficial = true;
        }
        
        var gift_totalWork;
        if($('#gift-score4').slider('getValue') == '1'){
            gift_totalWork = false;
        }else{
            gift_totalWork = true;
        }
        
        var gift_toSpouse;
        if($('#gift-score5').slider('getValue') == '1'){
            gift_toSpouse = false;
        }else{
            gift_toSpouse = true;
        }
        
        var gift_lineManager;
        if($('#gift-score9').slider('getValue') == '1'){
            gift_lineManager = false;
        }else{
            gift_lineManager = true;
        }
        
        var gift_valueOfGift = $('#ValueOfGift').val(); 
        var gift_giftDescription = $('#DescriptionOfGift').val();
        var gift_businessPurpose = $('#GiftJustification').val();
        var gift_additionalComments = $('#GiftAdditionalComments').val();
        
        
        var meal_BusinessMeeting;
        if($('#meal-score1').slider('getValue') == '1'){
            meal_BusinessMeeting = false;
        }else{
            meal_BusinessMeeting = true;
        }
        
        var meal_AwardPlacement;
        if($('#meal-score2').slider('getValue') == '1'){
            meal_AwardPlacement = false;
        }else{
            meal_AwardPlacement = true;
        }
        
        var meal_governmentOfficial;
        if($('#meal-score3').slider('getValue') == '1'){
            meal_governmentOfficial = false;
        }else{
            meal_governmentOfficial = true;
        }
        
        var meal_totalWork;
        if($('#meal-score4').slider('getValue') == '1'){
            meal_totalWork = false;
        }else{
            meal_totalWork = true;
        }
        
        var meal_toSpouse;
        if($('#meal-score5').slider('getValue') == '1'){
            meal_toSpouse = false;
        }else{
            meal_toSpouse = true;
        }
        
        var meal_lineManager;
        if($('#meal-score9').slider('getValue') == '1'){
            meal_lineManager = false;
        }else{
            meal_lineManager = true;
        }
        
        var meal_valueOfmeal = $('#ValueOfMeal').val(); 
        var meal_mealDescription = $('#DescriptionOfMeal').val();
        var meal_businessPurpose = $('#mealJustification').val();
        var meal_additionalComments = $('#MealAdditionalComments').val();
        
        
        //Attaching file
        var files1;
        var filename;
        var fileContent;
        
        if(receivegift == true){    
            files1 = document.getElementById('fileToUpload').files;
        }
        else if(providegift == true){       
            files1 = document.getElementById('fileToUploadProvider').files;
        }            
                    
        listOfAttachments[index] = new Array();
        for(var i = 0, f; f = files1[i]; i++)
        {
            var reader = new FileReader();     

            // Keep a reference to the File in the FileReader so it can be accessed in callbacks
            reader.file = f; 

            reader.onerror = function(e) 
            {
                switch(e.target.error.code) 
                {
                    case e.target.error.NOT_FOUND_ERR:
                    alert('File Not Found!');
                    break;
                    case e.target.error.NOT_READABLE_ERR:
                    alert('File is not readable');
                    break;
                    case e.target.error.ABORT_ERR:
                    break; // noop
                    default:
                    alert('An error occurred reading this file.');
                };
            };     

            reader.onabort = function(e) 
            {
                alert('File read cancelled');
            };

            reader.onload = function(e) 
            {
                var att = new sforce.SObject("Attachment");
                att.Name = this.file.name;
                att.ContentType = this.file.type;
                //att.ParentId = parentId;

                att.Body = (new sforce.Base64Binary(e.target.result)).toString();
                //alert("body" +att.Body);
                listOfAttachments[index].push(att);
            
            };

            reader.readAsBinaryString(f);
        }
        //Attaching file    
        
  
        
        listOfRecipients[index].Name_of_Recipient__c = RecipientName;
        listOfRecipients[index].Name_of_Recipient_Lookup__c = RecipientId;
        listOfRecipients[index].Position__c = Position;
        listOfRecipients[index].Company__c = Company;
        listOfRecipients[index].Country__c = Country;
        listOfRecipients[index].City__c = City;
        listOfRecipients[index].Date__c = DateCreated;
        listOfRecipients[index].Status__c = 'Submitted';
      
        
        listOfRecipients[index].Gift_Recipient__c = receivingAGift;
        
        listOfRecipients[index].Gifts__c = gift;
        /*if($('#idGifts').attr('value') == 'true') {
            listOfRecipients[index].Gifts__c = true;
        }
        else {
            listOfRecipients[index].Gifts__c = false;
        }*/
        listOfRecipients[index].Gift_Occasion_Business_Meeting__c = gift_BusinessMeeting;
        listOfRecipients[index].Gift_Occasion_Award_Placement__c = gift_AwardPlacement; 
        listOfRecipients[index].Gift_Frequency__c = gift_totalWork;
        listOfRecipients[index].Gift_Gift_given_to_government_official__c = gift_governmentOfficial;
        listOfRecipients[index].Gift_Gift_offered_to_spouse__c = gift_toSpouse;
        listOfRecipients[index].Gift_Line_Manager_Informed__c = gift_lineManager;
    
        listOfRecipients[index].Gift_Value_of_gift__c= $('#Giftconvertedpanel').val();
        listOfRecipients[index].Gift_Currency_Code__c = $('#GiftCurrencyCodeVal').val();
        listOfRecipients[index].Gift_Value_Per_Currency__c = gift_valueOfGift;
        
        listOfRecipients[index].Gift_Description__c = gift_giftDescription;
        listOfRecipients[index].Gift_Business_Purpose__c = gift_businessPurpose;
        listOfRecipients[index].Gift_Additional_Comments__c = gift_additionalComments;
        
        listOfRecipients[index].Meals_Entertainment__c = meal;
        /*if($('#idME').attr('value') == 'true') {
            listOfRecipients[index].Meals_Entertainment__c = true;
        }
        else {
            listOfRecipients[index].Meals_Entertainment__c = false;
        }*/
        listOfRecipients[index].ME_Occasion_Business_Meeting__c = meal_BusinessMeeting;
        listOfRecipients[index].ME_Occasion_Award_Placement__c = meal_AwardPlacement;
        listOfRecipients[index].ME_Frequency__c = meal_totalWork;
        listOfRecipients[index].ME_Travel_provided_to_government_officia__c = meal_governmentOfficial;
        listOfRecipients[index].ME_Travel_offered_to_spouse__c = meal_toSpouse;
        listOfRecipients[index].ME_Line_Manager_Informed__c = meal_lineManager;
        
        
        listOfRecipients[index].ME_Value_of_Meals_Entertainment__c = $('#mealconvertedpanel').val();
        listOfRecipients[index].Meals_Currency_Code__c = $('#MealCurrencyCodeVal').val();
        listOfRecipients[index].Meals_Value_Per_Currency__c = meal_valueOfmeal;
        
        listOfRecipients[index].ME_Description__c = meal_mealDescription;
        listOfRecipients[index].ME_Business_Purpose__c = meal_businessPurpose;
        listOfRecipients[index].ME_Additional_Comments__c = meal_additionalComments;
        
        listOfRecipients[index].Country_where_Gift_is_provided__c = giftCountry;
        listOfRecipients[index].Country_where_ME_is_provided__c = mealCountry;
        
        // Provider Flow Details
        if($('#pro-gift-score1').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Occasion_Business_Meeting__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Occasion_Business_Meeting__c = true;
        }
        
        if($('#pro-gift-score2').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Occasion_Award_Placement__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Occasion_Award_Placement__c = true;
        }
        
        if($('#pro-gift-score3').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Solicited_By_You__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Solicited_By_You__c = true;
        }
        
        if($('#pro-gift-score4').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Embarrassing_If_Public__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Embarrassing_If_Public__c = true;
        }
        
        if($('#pro-gift-score5').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Offered_To_Spouse__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Offered_To_Spouse__c = true;
        }
        
        if($('#pro-gift-score9').slider('getValue') == '1'){
            listOfRecipients[index].Pro_Gift_Manager_Approved_Gift__c = false;
        }else{
            listOfRecipients[index].Pro_Gift_Manager_Approved_Gift__c = true;
        }
        
        
        if($('#pro-meal-score1').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Occasion_Business_Meeting__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Occasion_Business_Meeting__c = true;
        }

        if($('#pro-meal-score2').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Occasion_Award_Placement__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Occasion_Award_Placement__c = true;
        }

        if($('#pro-meal-score3').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Solicited_By_You__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Solicited_By_You__c = true;
        }

        if($('#pro-meal-score4').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Embarrassing_If_Public__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Embarrassing_If_Public__c = true;
        }

        if($('#pro-meal-score5').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Offered_To_Spouse__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Offered_To_Spouse__c = true;
        }

        if($('#pro-meal-score9').slider('getValue') == '1'){
            listOfRecipients[index].Pro_ME_Manager_Approved__c = false;
        }else{
            listOfRecipients[index].Pro_ME_Manager_Approved__c = true;
        }
        
        listOfRecipients[index].Pro_Gift_Value_of_Gift__c = $('#ProGiftconvertedpanel').val();
        listOfRecipients[index].Pro_Gift_Description__c = $('#pro-DescriptionOfGift').val();
        
        listOfRecipients[index].Pro_Gift_Currency_Code__c = $('#ProviderGiftCurrencyCodeVal').val();
        listOfRecipients[index].Pro_Gift_Value_Per_Currency__c = $('#ProValueOfGift').val();
        
        
        listOfRecipients[index].Pro_ME_Value_of_Meal_Entertainment__c = $('#pro-mealconvertedpanel').val();
        listOfRecipients[index].Pro_Meal_Description__c = $('#pro-DescriptionOfMeal').val();
        
        listOfRecipients[index].Pro_Meals_Currency_Code__c = $('#ProviderMealCurrencyCodeVal').val();
        listOfRecipients[index].Pro_Meals_Value_Per_Currency__c = $('#ProValueOfMeal').val();
        
        listOfRecipients[index].Pro_Gift_Additional_Comments__c = $('#proGiftAdditionalComments').val();
        listOfRecipients[index].Pro_ME_Additional_Comments__c = $('#proMealAdditionalComments').val();
        
        // End of Provider Flow Details
    }
    
    
    function resetFormDetails(){
    
        deletedRecord = false;
        document.getElementById("recpientForm").reset();
        document.getElementById("GiftForm").reset();
        document.getElementById("MealForm").reset();
        document.getElementById("EventForm").reset();
        document.getElementById("ProviderGiftForm").reset();
        document.getElementById("ProviderMealForm").reset();
        document.getElementById("providerForm").reset();
        
        $('#idGifts,#idGiftsProvider').children().addClass('hidden');
        $('#idGifts,#idGiftsProvider').attr('value','false');
        
        
        $('#idME,#idMEProvider').children().addClass('hidden');
        $('#idME,#idMEProvider').attr('value','false');
        
        
        $('#MealsPurpose').val('');
        $('#GiftPurpose').val('');
        
        //$('[data-slider-id]').slider('setValue', 1);
        $('.slider.slider-horizontal').attr('style','background-color: #8B8B8B');
        
        
        //$('#GiveReceive').slider('setValue', 1);
        $('#gift-score1').slider('setValue', 1);
        $('#gift-score2').slider('setValue', 1);
        $('#gift-score3').slider('setValue', 1);
        $('#gift-score4').slider('setValue', 1);
        $('#gift-score5').slider('setValue', 1);
        $('#gift-score9').slider('setValue', 1);
        $('#meal-score1').slider('setValue', 1);
        $('#meal-score2').slider('setValue', 1);
        $('#meal-score3').slider('setValue', 1);
        $('#meal-score4').slider('setValue', 1);
        $('#meal-score5').slider('setValue', 1);
        $('#meal-score9').slider('setValue', 1);
        
        ghEvent = null;
        ghEventId = null;
        $('#event-score1').slider('setValue', 1);
        $('#event-score2').slider('setValue', 1);
        $('#event-score3').slider('setValue', 1);
        $('#idflights,#idgifts,#idmeals,#idvisa,#idaccommodation,#identertainment,#idlocaltransportation,#idother').children().addClass('hidden');
        $('#idflights,#idgifts,#idmeals,#idvisa,#idaccommodation,#identertainment,#idlocaltransportation,#idother').attr('value','false');
        
        $('#costOtherDiv,#EventTypeDiv').addClass('hidden');
        
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; //January is 0!
        
        var yyyy = today.getFullYear();
        if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} today = yyyy + '-' + mm + '-' + dd ;
        $('#idDate,#idDateProvider').val(today);
        $('#EventDate').val(today);
        
        $('#idDate,#idDateProvider').attr('min',today);
        $('#EventDate').attr('min',today);
        $('#EventConvertedpanel').html('USD: 00.00');
        $('#ghTemplates').css('display','none');
        
        $('#idICertify,#idICertifyDraft,#idICertifyProvider,#idICertifyDraftProvider,#idICertifyEvent,#idICertifyDraftEvent').children().addClass('hidden');
        $('#idICertify,#idICertifyDraft,#idICertifyProvider,#idICertifyDraftProvider,#idICertifyEvent,#idICertifyDraftEvent').attr('value','false');

        $('#pro-gift-score1').slider('setValue', 1);
        $('#pro-gift-score2').slider('setValue', 1);
        $('#pro-gift-score3').slider('setValue', 1);
        $('#pro-gift-score4').slider('setValue', 1);
        $('#pro-gift-score5').slider('setValue', 1);
        $('#pro-gift-score9').slider('setValue', 1);
        
        $('#pro-meal-score1').slider('setValue', 1);
        $('#pro-meal-score2').slider('setValue', 1);
        $('#pro-meal-score3').slider('setValue', 1);
        $('#pro-meal-score4').slider('setValue', 1);
        $('#pro-meal-score5').slider('setValue', 1);
        $('#pro-meal-score9').slider('setValue', 1);

        $('#Giftconvertedpanel,#mealconvertedpanel,#ProGiftconvertedpanel,#pro-mealconvertedpanel').css('color','#777');
        $('#Giftconvertedpanel,#mealconvertedpanel,#ProGiftconvertedpanel,#pro-mealconvertedpanel').html('USD: 00.00');
        $('#Giftconvertedpanel,#mealconvertedpanel,#ProGiftconvertedpanel,#pro-mealconvertedpanel').val('');

        $('#GiftJustificationDiv').addClass('hidden');
        $('#recipientorProviderId').html('Receiver');
        $('#idRecipientId').val('');
        $('#idRecipient').attr('placeholder','Receiver Name');
        $('#idCountry,#idCountryProvider, #FormCountry,#EventCountry,#GiftCountry,#MealsCountry').val('USA');
        
        $('#uploadedImagesRecipient,#uploadedImagesProvider').html('');
        
        $('#reviewEventDelete').attr('onclick','DeleteEventReq(\'\')');
        
    }
    // Date conversion Starts
    
    function normalizeDateExtended(mydate) {
        mydate = new Date(mydate);
        data = new Date(mydate -  mydate.getTimezoneOffset() * 60000);
        var d = mydate.getDate();
        var month = mydate.getMonth()+1;
        var y = mydate.getFullYear();
        var m = '';
        var h = mydate.getHours();
        var min = mydate.getMinutes();
        switch (month) {
            case 1:
                m = 'Jan';
                break;
            case 2:
                m = 'Feb';
                break;
            case 3:
                m = 'Mar';
                break;
            case 4:
                m = 'Apr';
                break;
            case 5:
                m = 'May';
                break;
            case 6:
                m = 'Jun';
                break;
            case 7:
                m = 'Jul';
                break;
            case 8:
                m = 'Aug';
                break;
            case 9:
                m = 'Sep';
                break;
            case 10:
                m = 'Oct';
                break;
            case 11:
                m = 'Nov';
                break;
            case 12:
                m = 'Dec';
                break;    
            
        }
        return [m,d,y,h,min];
    }
    
    // Date conversion Ends
    var PendingCheck = false; 
    function approvalStatusView(){
        var listOfApprovalRecipients = '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 gh-approved-bar">' +
                                            'Approved' +
                                        '</div>'+
                                        '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="color: #777;">' +
                                            'Thank You for your application, you can proceed with the approved transaction.'+
                                        '</div>';
        var listOfPendingRecipients = '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12  gh-pending-bar">' +
                                            'Pending Review' +
                                        '</div>'+
                                        '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="color: #777;">' +
                                            'Thank you for your application, we are currently reviewing it. You will receive an email once Approved/Rejected.'+
                                        '</div>';    
                                   
        var ApprovedRec = 0;
        var PendingRec = 0;
        $.each(listOfRecipients, function( index, value ) {
            var giftOrMeal = '';
            var status = '';
            //ApprovedRec = 0;
            //PendingRec = 0;
            if(value.Gifts__c == true && value.Meals_Entertainment__c == false) {
                giftOrMeal = 'Gifts';
            }
            if(value.Gifts__c == true && value.Meals_Entertainment__c == true) {
                giftOrMeal = 'Gifts,Meals/Entertainment';
            }
            if(value.Gifts__c == false && value.Meals_Entertainment__c == true) {
                giftOrMeal = 'Meals/Entertainment';
            }
            if(value.Status__c == 'Approved'){               
                status = '(GO)';               
                listOfApprovalRecipients += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                                '<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient">'+
                                                    '<div>' + value.Name_of_Recipient__c + '</div>'+
                                                    '<small>' + value.Company__c + '</small>'+
                                                    '<div><span>'+ giftOrMeal +'</span></div>' +
                                                '</div>'+
                                                '<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-transation-status">' +
                                                    '<div class=""><span class="glyphicon glyphicon-ok"></span> <div>' + status +'</div></div>'+
                                                    
                                                '</div>'+
                                            '</div>';
                ApprovedRec++;
            }
            if(value.Status__c == 'Pending'){   
                status = '(Wait)';
                
                listOfPendingRecipients += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">' + 
                                                '<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 gh-recipient">'+
                                                    '<div>' + value.Name_of_Recipient__c + '</div>'+
                                                    '<small>' + value.Company__c + '</small>'+
                                                    '<div><span>'+ giftOrMeal +'</span></div>' +
                                                '</div>'+
                                                '<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 gh-transation-status">' +
                                                    '<div class="pending"><span class="glyphicon glyphicon-remove"></span> <div class="">' + status +'</div></div>'+
                                                    
                                                '</div>'+
                                            '</div>';
                PendingRec++;
            }  
            
            
        });
        if(ApprovedRec > 0) {
            $('#approvedRecipients').html(listOfApprovalRecipients);
            listOfApprovalRecipients = '';
            ApprovedRec = 0;
        }else{
            $('#approvedRecipients').html('');
        }
        if(PendingRec > 0) {
            PendingCheck = true;
            $('#pendingRecipients').html(listOfPendingRecipients);
            listOfPendingRecipients = '';
            PendingRec = 0;
        }else{
            $('#pendingRecipients').html('');
        }
    }

// New Contact Creation logic starts
        function NewContactValidation() {               
                $('#NewContactValidation').modal({
                show:true,
                closeOnEscape: true
            });
        }
        
        function NextAndContactValidate() {
           
            if(receivegift == true){
                if(validateRecipinetDetails() == false) {
    
                }else{
                    if($('#idRecipientId').val() == '') {
                        NewContactValidation();
                    }else{
                        navigateToBenefitDetails();
                    }
                }
            }else if(providegift == true){
                
                if(validateProviderDetails() == false) {
    
                }else{
                    if($('#idProviderId').val() == '') {
                        NewContactValidation();
                    }else{
                        navigateToBenefitDetails();
                    }
                }
            }
        }

        function NewContactForm() {
            document.getElementById("ContactFormId").reset();
            if(receivegift == true){
                $('#FormContactFirstName').val($('#idRecipient').val());
                $('#FormPosition').val($('#idPosition').val());
                $('#FormCompanyName').val($('#idCompany').val());
                $('#FormCity').val($('#idCity').val());
                $('#FormCountry').val($('#idCountry').val());
                $('#FormCompanyId').val($('#idCompanyId').val());
            }else if(providegift == true){
                $('#FormContactFirstName').val($('#idProvider').val());
                $('#FormPosition').val($('#idPositionProvider').val());
                $('#FormCompanyName').val($('#idCompanyProvider').val());
                $('#FormCity').val($('#idCityProvider').val());
                $('#FormCountry').val($('#idCountryProvider').val());
                $('#FormCompanyId').val($('#idCompanyProviderId').val());
            }

            $('#NewContactForm').modal({
                show:true,
                closeOnEscape: true
            });
            $('#NewContactValidation').modal("hide");
            
        }
        
        function SaveContact() {
            if($('#FormCompanyId').val() != '') {
                var ContactFirstName = $('#FormContactFirstName').val();
                var ContactLastName = $('#FormContactLastName').val();
                var AccountId = $('#FormCompanyId').val();
                var ContactEmail = $('#FormEmail').val();
                var ContactPosition = $('#FormPosition').val();
                var ContactCountry = $('#FormCountry').val();
                var ContactCity = $('#FormCity').val();
                if(ContactLastName != '' && ContactFirstName != '' && AccountId != '' && ContactEmail != '' && ContactPosition  != '' && ContactCountry != '' && ContactCity != '') {
                    $('#FormContactFirstName').attr('style','border-color: none');
                    $('#FormContactLastName').attr('style','border-color: none');
                    $('#FormCompanyName').attr('style','border-color: none');
                    $('#FormEmail').attr('style','border-color: none');
                    $('#FormPosition').attr('style','border-color: none');
                    $('#FormCountry').attr('style','border-color: none');
                    $('#FormCity').attr('style','border-color: none');
                    GH_OrderRequest.CreateContact(ContactFirstName,ContactLastName,AccountId,ContactEmail,ContactPosition,ContactCountry,ContactCity, function(result,event) {
                        if(event.status) {
                            PullFormContactDetails(result.Id);
                            $('#NewContactForm').modal("hide");
                        }
                    });
                }
                else {
                    ConValidatepopup();
                }
            }
            else {
                $('#AccountvalidateNotification').modal({
                    show:true,
                    closeOnEscape: true
                });
            }
        }
        
        function PullFormContactDetails(RecId) {
        if(RecId != null){
            GH_OrderRequest.getContactDetails(RecId, function(result, event){
                if(event.type == 'exception') {
                    //  alert(event.message);
                } else {
                     console.log(result[0].Country_Name__c);
                     if(result != null && result != ''){
                         if(receivegift == true){
                             $('#idRecipient').val(result[0].Name);
                             $('#idRecipientId').val(result[0].Id);
                             if(result[0].Account.Name != null)
                                 $('#idCompany').val(result[0].Account.Name);
                             
                             if(result[0].Country_Name__c != null)
                                 $('#idCountry').val(result[0].Country_Name__c);
                             
                             if(result[0].Title != null)    
                                 $('#idPosition').val(result[0].Title);
                                 
                             if(result[0].City_Name__c != null)    
                                 $('#idCity').val(result[0].City_Name__c);
                         }else if(providegift == true){
                             $('#idProvider').val(result[0].Name);
                             $('#idProviderId').val(result[0].Id);
                            if(result[0].Account.Name != null)
                                $('#idCompanyProvider').val(result[0].Account.Name);
                                 
                            if(result[0].Country_Name__c != null)
                                $('#idCountryProvider').val(result[0].Country_Name__c);
                             
                            if(result[0].Title != null)    
                                $('#idPositionProvider').val(result[0].Title);
                                 
                            if(result[0].City_Name__c != null)    
                                $('#idCityProvider').val(result[0].City_Name__c);
                         }
                     }
                }
            });
        }
    }
    
    function ConValidatepopup() {
        var validatevar = false;
        if($('#FormContactFirstName').val() == '') {
            $('#FormContactFirstName').attr('style','border-color: red');
            validatevar = true;
        }
        if($('#FormContactLastName').val() == '') {
            $('#FormContactLastName').attr('style','border-color: red');
            validatevar = true;
        }
        if($('#FormCompanyName').val() == '') {
            $('#FormCompanyName').attr('style','border-color: red');
            validatevar = true;
        }
        if($('#FormEmail').val() == '') {
            $('#FormEmail').attr('style','border-color: red');
            validatevar = true;
        }
        if($('#FormPosition').val() == '') {
            $('#FormPosition').attr('style','border-color: red');
            validatevar = true;
        }
        if($('#FormCountry').val() == '') {
            $('#FormCountry').attr('style','border-color: red');
            validatevar = true;
        }
        if($('#FormCity').val() == '') {
            $('#FormCity').attr('style','border-color: red');
            validatevar = true;
        }
        if(validatevar == true) {
            $('#FormFieldsValidation').modal({
                        show:true,
                        closeOnEscape: true
            });
        }
        if(validatevar == false) {
            SaveContact();
        }
        
    }
        
    // New Contact Creation logic ends
    

    //SBG and SBU values
    var SBUVal;
    var SBGVal;
    function GetSBUSBGValue() {
        GH_OrderRequest.searchUser( function(result,event){     
            if(event.status){
                if(result != null || result != ''){ 
                    if(result.SBU_User__c != '') {
                        SBUVal = result.SBU_User__c;
                    }
                    if(result.SBG__c != '') {
                        SBGVal = result.SBG__c;
                    }
                }
            }
        });

    }
    
    function updateuserfields(){
     
        var sbu = $('#sbuid').val();
        var sbg = $('#sbgid').val();
        if(sbu =='' || sbg == ''){
            $('#sbusbgValidation').removeClass('hidden');
        }else{
            if(sbu!=null && sbg!=null){
                GH_OrderRequest.updateUser(sbu,sbg,function(result,event){
                    if(event.status){
                        $('#UserfieldsNotification').modal('hide');
                        $('#myRequestPage').addClass('hidden');
                        $('#addRecipientPage').removeClass('hidden');   
                        $('#idRecipient').val('');
                        $('#idPosition').val('');
                        $('#idCompany').val('');
                        $('#idCity').val('');
                        $('#idCountry').val('USA');
                        
                        SBUVal = sbu;
                        SBGVal = sbg;
                    }
                });
            }
        }     
    }
    //End of SBG and SBU values
    
    // SBG dependent SBU Picklist values START
    function SbuSbgDependentPicklist(pickedSbg){
        //alert(pickedSbg);
        var ifAero = '<option value="ATR">ATR</option><option value="BGA">BGA</option><option value="D&S">D&S</option><option value="HTT">HTT</option><option value="FM">FM</option><option value="ISC">ISC</option>';
        var ifPmt = '<option value="UOP">UOP</option><option value="HPS">HPS</option><option value="R&C">R&C</option><option value="FP">FP</option><option value="HEM">HEM</option><option value="SP">SP</option>';
        var ifCorp = '<option>N/A</option>';
        //var ifAcs = '<option value="ECC">ECC</option><option value="HSG">HSG</option><option value="HFS">HFS</option><option value="HIS">HIS</option><option value="S&C">S&C</option><option value="HSM">HSM</option><option value="HBS">HBS</option>';
        var ifAcs = '<option value="EEC">E&ES</option>'+'<option value="HBS">HBS</option>'+'<option value="HIS">HIS</option>'+'<option value="HFS">HFS</option>'+'<option value="SPS">S&PS</option>';
        var ifTs = '<option>N/A</option>';
        
        if(pickedSbg== 'AERO'){
            $('#sbuid').html(ifAero);    
        }
        else if(pickedSbg=='PMT'){
            $('#sbuid').html(ifPmt);
        }
        else if(pickedSbg=='CORP'){
            $('#sbuid').html(ifCorp);
        }
        else if(pickedSbg=='ACS'){
            $('#sbuid').html(ifAcs);
        }
        else if(pickedSbg=='TS'){
            $('#sbuid').html(ifTs);
        }
        else{
            $('#sbuid').html(ifTs);    
        }
    }
    // SBG dependent SBU Picklist values END
    
    function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }
</script>
</apex:page>