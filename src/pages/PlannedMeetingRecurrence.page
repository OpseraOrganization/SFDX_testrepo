<!--
Created By   : NTTDATA
Description  : Page is replicated same as "Schedule Entitlement" custom button page.
Test Class   : 
Updates      : 
Created Date : 11/09/2017
-->

<apex:page standardcontroller="Planned_Meeting__c" extensions="PlannedMeetingRecurrenceController" showHeader="true" sidebar="true" id="recurrPage">
    <br/>
    <div class="content">
        <img src="/s.gif" alt="Custom" class="pageTitleIcon" title="Custom"/> 
        <h1 class='pageType'>Planned Meeting</h1> <br/> {!plannedMeetingObj.Name} <br/>
    </div>
    <br/>
    <apex:pageMessages id="errorMsgs"/>
    <apex:form id="formId">
        <apex:pageBlock id="meetingForm">
            <apex:pageBlockSection title="Planned Meeting Detail" collapsible="false">
                <apex:repeat value="{!detailfieldSetMemberList}" var="f">
                    <apex:outputField value="{!plannedMeetingObj[f.fieldPath]}"/>
                </apex:repeat>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Product Information" collapsible="false">
                <apex:repeat value="{!recordRetentionfieldSetMemberList }" var="f">
                    <apex:outputField value="{!plannedMeetingObj[f.fieldPath]}"/>
                </apex:repeat>
            </apex:pageBlockSection>
                       
            <apex:pageBlockSection title="System Information" collapsible="false">
                <apex:repeat value="{!systemInfofieldSetMemberList}" var="f">
                    <apex:outputField value="{!plannedMeetingObj[f.fieldPath]}"/>
                </apex:repeat>
            </apex:pageBlockSection>
            
            <apex:pageBlockButtons >
                <apex:commandButton value="Save" action="{!saveRecurrence}" reRender="errorMsgs"/>
                <apex:commandButton value="Cancel"/>
            </apex:pageBlockButtons>
            
            <apex:pageBlockSection title="Recurrence" collapsible="false"></apex:pageBlockSection>
            <div id="Recurrencediv" style="display:block;">                                
                <br/>
                <fieldset style="border-color:#F5F5F5;">
                    <legend>Recurrence Pattern</legend>             
                    <br/>
                    <div>
                        <apex:selectRadio value="{!recurenceType}" >
                            <apex:selectOption itemValue="Weekly" itemlabel="Weekly"/>
                            <apex:selectOption itemValue="Monthly" itemlabel="Monthly"/>
                            <apex:selectOption itemValue="Yearly" itemlabel="Yearly"/>
                            <apex:selectOption itemValue="Quarterly" itemlabel="Quarterly"/>
                        </apex:selectRadio>
                    </div> 
                
                    <div style="visibility:hidden;">
                        <apex:inputField value="{!Planned_Meeting__c.Completed_Date__c}"/>
                    </div>                                                
                </fieldset>                                                                                                                                                                                               
            </div>
            <br/>
            
             
            <div id="Recurrencediv1" style="display:block;"> 
                <fieldset style="border-color:#F5F5F5;">
                    <legend>Range of recurrence</legend>             
                    <br/>                
                    <div style="width:60%;font-size:13px;">Start:<apex:inputText size="10" id="demo3" onfocus="DatePicker.pickDate(false, this , false);" value="{!plannedMeetingStartDate}" style="margin-bottom:5px;"/></div>
                    
                    <div style="width:40%;margin-left: 18%;margin-top:-0.7cm;font-size:13px;">
                        <input type="radio" id="Monthly1" checked="True" name="FreqRb1"  value="RecursMonthly1" onchange="ClearValues();"/>End after :&nbsp;&nbsp;&nbsp; 
                        <apex:inputText id="OccurNo" style="width:20px;margin-bottom:5px;" value="{!Noc}"/> &nbsp;&nbsp;&nbsp; occurences                                     
                        <br/> 
                        
                        <input type="radio" id="Yearly1" name="FreqRb1"  value="RecursYearly1" onchange="ClearValues();"/>End by &nbsp;&nbsp;&nbsp;&nbsp;: &nbsp;&nbsp;&nbsp;
                        
                        <apex:inputText size="10" id="demo1" onfocus="DatePicker.pickDate(false, this , false);" value="{!endByDate}" style="margin-bottom:5px;"/>
                        <br/>                     
                    </div>                         
                </fieldset>   
            </div>    
            
        </apex:pageBlock>
    </apex:form>
    
    <script>
        function ClearValues()
        {   
            if(document.getElementById('Monthly1').checked==false)
            {
                document.getElementById('recurrPage:formId:meetingForm:OccurNo').value='';
            }
            
            if(document.getElementById('Yearly1').checked==false)
            {
                document.getElementById('recurrPage:formId:meetingForm:demo1').value='';
            }
        }
  </script>
</apex:page>