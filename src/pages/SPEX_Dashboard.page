<apex:page cache="false" expires="10" controller="SPEX_DB_Selection_cls" showHeader="false" standardStylesheets="false">
<html lang="en" style="height:100%">
<head>
<meta charset="utf-8" />
<meta http-equiv="refresh" content="300" />
<title>SPEX Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="format-detection" content="telephone=no" />
<!-- Le styles -->
<link href="{!URLFOR($Resource.db_bootstrap_zip, 'css/bootstrap.css')}" rel="stylesheet" type="text/css" />
<link href="{!URLFOR($Resource.db_bootstrap_zip, 'css/bootstrap-responsive.css')}" rel="stylesheet" type="text/css" />

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>-->
<c:lt_IE9_check />
<!--[endif]-->

<!-- Le fav and touch icons
<link rel="shortcut icon" href="ico/favicon.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png" />
<link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png" />
-->
    
<!-- Header Scripts -->
    
<link href="{!URLFOR($Resource.db_bootstrap_zip, 'css/SPEXdashboard-responsive.css')}" rel="stylesheet" type="text/css" />

<style type="text/css">
  body{
    margin-top: 100px;
  }  
</style>

    <!--<script type="text/javascript" src="http://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load('visualization', '1', {packages: ['corechart']});
      
      function drawVisualization() {
        // Create and populate the data table.
        
        var data_am = google.visualization.arrayToDataTable([
          ['Stock', 'Parts'],
          ['In-Stock', 127],
          ['At-Risk', 12],
          ['Stock Out', 4]
        ]);
        
        var data_em = google.visualization.arrayToDataTable([
          ['Stock', 'Parts'],
          ['In-Stock', 111],
          ['At-Risk', 29],
          ['Stock Out', 3]
        ]);
        
        var data_ap = google.visualization.arrayToDataTable([
          ['Stock', 'Parts'],
          ['In-Stock', 97],
          ['At-Risk', 44],
          ['Stock Out', 2]
        ]);
      
        // Create and draw the visualization.
        new google.visualization.PieChart(document.getElementById('visualization_am')).draw(data_am, {is3D:true, colors:['#19BD00','#F5CC00','#D7250D'],backgroundColor:'transparent',legend:{position:'none'},title:"Americas",titleTextStyle:{color: 'white'}});
        new google.visualization.PieChart(document.getElementById('visualization_em')).draw(data_em, {is3D:true, colors:['#19BD00','#F5CC00','#D7250D'],backgroundColor:'transparent',legend:{position:'none'},title:"EMEAI",titleTextStyle:{color: 'white'}});
        new google.visualization.PieChart(document.getElementById('visualization_ap')).draw(data_ap, {is3D:true, colors:['#19BD00','#F5CC00','#D7250D'],backgroundColor:'transparent',legend:{position:'none'},title:"APAC",titleTextStyle:{color: 'white'}});

        /* IE Fix */
        $("iframe").each( function(){
            $(this).contents().find("body").css("background-color","transparent")
        });
        /* IE Fix */
      }
      google.setOnLoadCallback(drawVisualization);
    </script>-->

</head>

<body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
      
          <div class="container-fluid visible-desktop">
            <div class="row-fluid">
              <div class="span2" style="width:auto">
                <a class="btn btn-large" href="../Dashboards"><i class="icon icon-chevron-left"></i>Home</a>
              </div>
              <div class="span4">
                <h1 style="font-weight: normal;padding-top: 8px;">SPEX - Dashboard</h1>
              </div>
              
              <p class="navbar-text pull-right">
                <span class="last_updated pull-left">Last Updated: {!dtRefreshTime}&nbsp;MST</span>
                <a class="btn btn-large pull-right" data-target="#myModal" data-toggle="modal"><i class="icon icon-info-sign"></i> Legend</a>
              </p>
              
            </div>
          </div>
          
          <div class="container hidden-desktop">      
              <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </a>
              <a href="#" class="brand">SPEX - Dashboard</a>
              <div class="nav-collapse collapse">
                <ul class="nav">
                  <li><a href="../Dashboards"><i class="icon-white icon-chevron-left"></i> Back</a></li>
                  <li><a href="SPEX_Dashboard_CriticalParts"><i class="icon-white icon-wrench"></i> Critical Parts</a></li>
                  <li><a href="SPEX_Dashboard_OEM"><i class="icon-white icon-plane"></i> View by OEM</a></li>
                  <li class="nav-header">Last Updated: {!dtRefreshTime}&nbsp;MST</li>
                  <li><a href="#" data-toggle="modal" data-target="#myModal"><i class="icon-white icon-info-sign"></i> Legend</a></li>
                  <li><a href="../Dashboards"><i class="icon-white icon-home"></i> Home - Intelligence Center</a></li>
                </ul>
              </div><!--/.nav-collapse -->        
          </div>          
          
      </div>  
    </div>

  <div class="container-fluid">
    <div class="row-fluid">
       <div class="span4">
        <h1 class="top">Top Critical Parts</h1>
        <table class="table table-striped">
          <tbody>
             <apex:repeat value="{!lstSpexDto2}" var="queryResultsRow">
            <tr>
            <td>
                {!queryResultsRow.strPartNo}
                <apex:OutputText value=": " rendered="{!queryResultsRow!=null}" />
                <span class="part">
                    {!queryResultsRow.strPartDesc}
                </span>
            </td>
            </tr> 
    </apex:repeat>
   </tbody>
        </table>
       </div>
       
       <div class="span8">
       <!--
        <h1 class="top">Stock Health</h1>
        <div class="row-fluid">
            <div class="span4" id="visualization_am"></div>
            <div class="span4" id="visualization_em"></div>
            <div class="span4" id="visualization_ap"></div>
            <script type="text/javascript">
                $('#visualization_am').height($('#visualization_am').width()*.7);
                $('#visualization_em').height($('#visualization_em').width()*.7);
                $('#visualization_ap').height($('#visualization_ap').width()*.7);
            </script>
        </div>
        -->
        <h1 class="top">Platforms At-Risk</h1>
        <div class="row-fluid">
     <!--   <apex:repeat value="{!lstPlatformSpexDto}" var="queryResultsRow">
          <a href="SPEX_Dashboard_Dassault_Customer?OEM=Dassault&PLATFORM={!queryResultsRow.strPlatform}" class="span4 thumbnail">
             <img alt="" src="{!URLFOR($Resource.db_bootstrap_zip, queryResultsRow.strImgFileName)}" />
              <div class="caption">
                <h2>{!queryResultsRow.strPlatform}</h2>
                <h3>{!queryResultsRow.intStockOut} Stockouts</h3>
                <h3>{!queryResultsRow.intAtRisk}  At-Risk</h3>
              </div>
          </a>
          </apex:repeat>  -->
          
          <apex:repeat value="{!lstPlatformSpexDto}" var="queryResultsRow" rows="3">
          
          <a class="span4 thumbnail" href="SPEX_Dashboard_Platform?OEM={!queryResultsRow.strOEMName}&PLATFORM={!queryResultsRow.strPlatform}">
     
            <img alt="" src="{!URLFOR($Resource.db_bootstrap_zip, queryResultsRow.strImgFileName)}" />
            <div class="caption">
             <h2>{!queryResultsRow.strPlatform}</h2>
             <!--<h3>{!queryResultsRow.intStockOutPlatforms} Stockouts / {!queryResultsRow].intAtRiskPlatforms} At-Risk</h3>-->
              <table cellspacing = "2" cellpadding = "2">
                <tr><td><b>AMER</b></td><td><span class='{!queryResultsRow.strAmerStatus}'>&nbsp;</span></td>
                    <td>{!queryResultsRow.intAmerStockOutPlatforms}&nbsp;Crit<span class="hidden-tablet">ical /</span> {!queryResultsRow.intAmerAtRiskPlatforms}&nbsp;<span class="hidden-tablet">At-</span>Risk</td></tr>
                <tr><td><b>EMEA</b></td><td><span class='{!queryResultsRow.strEmeaStatus}'>&nbsp;</span></td>
                    <td>{!queryResultsRow.intEmeaStockOutPlatforms}&nbsp;Crit<span class="hidden-tablet">ical /</span> {!queryResultsRow.intEmeaAtRiskPlatforms}&nbsp;<span class="hidden-tablet">At-</span>Risk</td></tr>
                <tr><td><b>APAC</b></td><td><span class='{!queryResultsRow.strApacStatus}'>&nbsp;</span></td>
                    <td>{!queryResultsRow.intApacStockOutPlatforms}&nbsp;Crit<span class="hidden-tablet">ical /</span> {!queryResultsRow.intApacAtRiskPlatforms}&nbsp;<span class="hidden-tablet">At-</span>Risk</td></tr>
              </table>   
             </div>
          </a>
            
            </apex:repeat> 
        </div>
        <div class="row-fluid">
          
          <apex:repeat value="{!lstPlatformSpexDto}" var="queryResultsRow" first="3" rows="3">
          
          <a class="span4 thumbnail" href="SPEX_Dashboard_Platform?OEM={!queryResultsRow.strOEMName}&PLATFORM={!queryResultsRow.strPlatform}">
     
            <img alt="" src="{!URLFOR($Resource.db_bootstrap_zip, queryResultsRow.strImgFileName)}" />
            <div class="caption">
             <h2>{!queryResultsRow.strPlatform}</h2>
              <table cellspacing = "2" cellpadding = "2">
                <tr><td><b>AMER</b></td><td><span class='{!queryResultsRow.strAmerStatus}'>&nbsp;</span></td>
                    <td>{!queryResultsRow.intAmerStockOutPlatforms}&nbsp;Crit<span class="hidden-tablet">ical /</span> {!queryResultsRow.intAmerAtRiskPlatforms}&nbsp;<span class="hidden-tablet">At-</span>Risk</td></tr>
                <tr><td><b>EMEA</b></td><td><span class='{!queryResultsRow.strEmeaStatus}'>&nbsp;</span></td>
                    <td>{!queryResultsRow.intEmeaStockOutPlatforms}&nbsp;Crit<span class="hidden-tablet">ical /</span> {!queryResultsRow.intEmeaAtRiskPlatforms}&nbsp;<span class="hidden-tablet">At-</span>Risk</td></tr>
                <tr><td><b>APAC</b></td><td><span class='{!queryResultsRow.strApacStatus}'>&nbsp;</span></td>
                    <td>{!queryResultsRow.intApacStockOutPlatforms}&nbsp;Crit<span class="hidden-tablet">ical /</span> {!queryResultsRow.intApacAtRiskPlatforms}&nbsp;<span class="hidden-tablet">At-</span>Risk</td></tr>
              </table>   
             </div>
          </a>
            
            </apex:repeat> 
        </div>
        <!--
        <div class="row-fluid">
            <div class="span4 thumbnail grey" style="padding-bottom:45px">
                <img src="{!URLFOR($Resource.db_bootstrap_zip,'img/SPEX-ac-placeholder.png')}" />
            </div>
            <div class="span4 thumbnail grey" style="padding-bottom:45px">
                <img src="{!URLFOR($Resource.db_bootstrap_zip,'img/SPEX-ac-placeholder.png')}" />
            </div>
            <div class="span4 thumbnail grey" style="padding-bottom:45px">
                <img src="{!URLFOR($Resource.db_bootstrap_zip,'img/SPEX-ac-placeholder.png')}" />
            </div>
        </div>
        -->
      </div>
     </div>
     
     <div class="row-fluid">
      <div class="span4" style="text-align: center;">
        <a href="SPEX_Dashboard_CriticalParts" class="btn btn-large">View Critical Parts <i class="icon-chevron-right"></i></a>
      </div>
      <div class="span8" style="text-align: center;">
        <a href="SPEX_Dashboard_OEM" class="btn btn-large">View by OEM <i class="icon-chevron-right"></i></a>
      </div>
    </div>
     
  </div> <!-- /container -->

  
    <div id="myModal" class="modal hide">
        <div class="modal-header">
            <h3>SPEX Legend</h3>
            <h4>What do these lists represent?</h4>
        </div>
        <div class="modal-body">
            <div class="modal-body">
                <div><h4>Top Critical Parts:</h4>
                Parts listed in order of most stockouts with the highest demand across all regions.            
                </div>
                <hr />
                <div><h4>Platforms At-Risk:</h4>
                The platforms displayed currently have a stockout with pending order(s).
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a class="btn btn-large btn-danger" data-dismiss="modal" href="#">Close</a>
        </div>
    </div>

    <script type="text/javascript" src="{!URLFOR($Resource.db_bootstrap_zip, 'js/jquery.js')}"></script>
    <script type="text/javascript" src="{!URLFOR($Resource.db_bootstrap_zip, 'js/bootstrap-collapse.js')}"></script>
    <script type="text/javascript" src="{!URLFOR($Resource.db_bootstrap_zip, 'js/bootstrap-modal.js')}"></script>        
    <script type="text/javascript" src="{!URLFOR($Resource.db_bootstrap_zip, 'js/jquery.cookie.js')}"></script>
    <script type="text/javascript" src="{!URLFOR($Resource.db_bootstrap_zip, 'js/SPEX-scripts.js')}"></script>

</body>
</html>
<apex:insert name="footer">
        <c:honeywellFooter />
</apex:insert>

</apex:page>