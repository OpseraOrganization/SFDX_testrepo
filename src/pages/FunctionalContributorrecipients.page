<apex:page showHeader="true" sidebar="false" controller="FunctionalContributorrecipientcls" tabStyle="Functional_Contributor_Update__c">  
   <style>
    
    .bPageBlock .detailList .dataCol
    {  
       width:1%;
    }
    .bPageBlock .detailList th, .bPageBlock .detailList td
    {
       vertical-align:bottom;
    }
   </style>
        <script type = "text/javascript">  
            function savememb()
            {             
                var sfdccon=document.getElementById('j_id0:j_id3:membAdd:pgs:j_id9:pgtable:0:sfdccon').value;
                var nonsfdccon=document.getElementById('j_id0:j_id3:membAdd:pgs:j_id25:j_id27:0:j_id32').value;      
                if((sfdccon == '') && (nonsfdccon == ''))
                {
                    alert('Please Enter SFDC Reciptent/Non SFDC Reciptent to generate letter.');
                }
                else
                { 
                    CallApexMethod();
                }      
            }
        </script>
         <script type = "text/javascript">  
            function savememb1()
            {             
                var sfdccon=document.getElementById('j_id0:j_id3:membAdd:pgs:j_id9:pgtable:0:sfdccon').value;      
                if((sfdccon == ''))
                {
                    alert('Please fill SFDC Reciptent');
                }
                else
                {
                    CallApexMethod1() ;
                }      
            }
        </script> 
        <script type = "text/javascript">  
            function savememb2()
            {   
                var nonsfdccon=document.getElementById('j_id0:j_id3:membAdd:pgs:j_id25:j_id27:0:j_id32').value;      
                if((nonsfdccon == ''))
                {
                    alert('Please fill Non SFDC Reciptent');
                }
                else
                {
                    CallApexMethod2() ;
                }      
            }
        </script>
        
         <apex:outputPanel id="scr">
            <apex:outputPanel id="scr1" rendered="{!callwindow}">
                <script>
                    alert('Opportunity Proposal record required fields are empty .so you Cannot generate letter.');                          
                </script>     
            </apex:outputPanel>
        </apex:outputPanel>
                       
    <apex:form >     
        <apex:actionFunction action="{!saveMemb}" name="CallApexMethod"/>
        <apex:actionFunction action="{!addRow}" name="CallApexMethod1"/>
        <apex:actionFunction action="{!addRow1}" name="CallApexMethod2"/>          
        <div class="bPageTitle">
            <div class="ptBody">
                <div class="content">
                    <img src="/s.gif" alt="Functional Contributor Update" class="pageTitleIcon" title="Functional Contributor Update"/>
                    <h1 class="pageType">Functional Contributor Workflow<span class="titleSeparatingColon">:</span></h1>
                    <h2 class="pageDescription"> New Functional Contributor Update</h2>
                    <div class="blank">&nbsp;</div>
                </div>
            </div>
        </div>       
        <apex:pageBlock id="membAdd">                     
        <apex:variable var="rowNum" value="{!0}"  id="row1"/> 
        <apex:variable var="rowNum1" value="{!0}"  />
            <apex:pageblockSection id="pgs">
                <apex:pageBlockSection title="SFDC Recipients">
                <div>
                <apex:pageBlockTable value="{!memberAddList}" var="memb" style="width:250px;" id="pgtable">                  
                    <apex:column headerValue="No." style="width:20px; text-align:center;" headerClass="centertext">
                        <apex:outputText value="{0,number, ###}" style="text-align:center;">   
                            <apex:param value="{!rowNum+1}" />   
                        </apex:outputText>
                    </apex:column>
                    <apex:column headerValue="Recipients">
                        <apex:inputField value="{!memb.SFDC_Recipients__c}" id="sfdccon"/>
                    </apex:column>
                    <apex:column headerValue="Type">
                        <apex:inputField value="{!memb.Type_of_Recipients__c}" id="sfdccon1" required="true"/>
                    </apex:column>
                    <apex:column headerValue="Comments">
                        <apex:inputField value="{!memb.comment__c}" id="sfdccon2" style="height:20px;width:180px;"/>
                    </apex:column>
                    <apex:column headerValue="Delete" style="text-align:center;">
                        <apex:commandLink style="font-size:15px; font-weight:bold; text-align:center;color:red;" value="X" action="{!delRow}" immediate="true" reRender="membAdd,temp" rendered="{!rowNum>0}">
                            <apex:param value="{!rowNum}" name="index" />
                        </apex:commandLink>
                        <apex:variable var="rowNum" value="{!rowNum+1}"/>
                    </apex:column>                                                               
                </apex:pageBlockTable>
                 <br/>                             
                <apex:outputPanel id="scr3">
                     <apex:commandLink value="Add SFDC Recipients" onclick="savememb1()" reRender="membAdd"/>
                </apex:outputPanel>
                </div>
                </apex:pageBlockSection>                                                          
                <br/>
                
                <apex:pageBlockSection title="NON SFDC Recipients" collapsible="true">
                <div>
                <apex:pageBlockTable value="{!memberAddList1}" var="memb1" style="width:280px;">                  
                    <apex:column headerValue="No." style="width:20px; text-align:center;" headerClass="centertext" >
                        <apex:outputText value="{0,number, ###}" style="text-align:center;">   
                            <apex:param value="{!rowNum1+1}" />   
                        </apex:outputText>
                    </apex:column>
                    <apex:column headerValue="Recipients">
                        <apex:inputField value="{!memb1.Non_SFDC_Recipient__c}" style="width:180px;"/>
                    </apex:column>
                    <apex:column headerValue="Type">
                        <apex:inputField value="{!memb1.Type_of_Recipients__c}" id="sfdccon3" required="true"/>
                    </apex:column>
                    <apex:column headerValue="Comments">
                        <apex:inputField value="{!memb1.comment__c}" id="sfdccon4" style="height:20px;width:180px;"/>
                    </apex:column>
                    <apex:column headerValue="Delete" style="text-align:center;" >
                        <apex:commandLink style="font-size:15px; font-weight:bold; text-align:center;color:red;" value="X" action="{!delRow1}" immediate="true" reRender="membAdd,temp" rendered="{!rowNum1>0}">
                            <apex:param value="{!rowNum1}" name="index" />
                        </apex:commandLink>
                        <apex:variable var="rowNum1" value="{!rowNum1+1}"/>
                    </apex:column>                                 
                </apex:pageBlockTable>
                 <br/>                  
                <apex:outputPanel id="scr4">
                     <apex:commandLink value="Add Non SFDC Recipients" onclick="savememb2()" reRender="membAdd"/>
              </apex:outputPanel>
              </div>
              </apex:pageBlockSection>
              
            </apex:pageblockSection>                       
            <apex:pageBlockButtons location="bottom">
                <apex:commandButton value="Save" onclick="savememb();return false;"/>
                <apex:commandButton value="Cancel" action="{!cancelpage}" />
            </apex:pageBlockButtons>            
        </apex:pageBlock>
    </apex:form>
    <apex:insert name="footer">
        <c:honeywellFooter />
</apex:insert>

</apex:page>