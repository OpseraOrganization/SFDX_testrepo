<apex:page Controller="PortalUserRegistrationcls"  showHeader="false" sidebar="false" docType="html-5.0">   
        <head>
            <apex:stylesheet value="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css"  />
            <apex:includeScript value="https://code.jquery.com/jquery-1.9.1.js" />
            <apex:includeScript value="https://code.jquery.com/ui/1.10.3/jquery-ui.js" />
        </head>
        <div style="WIDTH: 30px; HEIGHT: 20px"></div>
        <style>
        body input.btn, body input.btnDisabled, body input.btnCancel {
            margin-left: 100% !important;
        }
        </style>        
        <script type="text/javascript">
            j$ = jQuery.noConflict();
            j$(document).ready(function() {
                j$( "#start_date" ).datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    changeYear: true,
                    numberOfMonths: 1,
                    dateFormat:"mm-dd-yy",
                    altField: "#event_start_date_alternate",
                    altFormat: "yy-mm-dd",
                    minDate: new Date('2016/04/01'),
                    showAnim: "slide"
                })
                j$( "#end_date" ).datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    changeYear: true,
                    numberOfMonths: 1,
                    dateFormat:"mm-dd-yy",
                    altField: "#event_end_date_alternate",
                    altFormat: "yy-mm-dd",
                    minDate: new Date('2016/04/01'),
                    showAnim: "slide"
                })
            });
            function getCases() {
                //alert('inside get cases');
                var date=j$("#event_start_date_alternate").val();
                var date1=j$("#event_end_date_alternate").val();
                //alert(date);
                //alert(date1);
                if(date1>=date)
                {
                getcases1(j$("#event_start_date_alternate").val(),j$("#event_end_date_alternate").val());
                }
                else if(date1<=date)
                {
                    alert('End date shold be greater than start date ');
                }
            }
            function Refresh(input,Id){       
                 var doc = document.getElementById(Id).value;                       
                 RefreshData1();  
            }
        </script> 
        <center>
        <apex:panelGrid columns="1"  style="text-align:center;width:80%;background-color: #FFFFFF;font-size:14px;" >       
        <apex:form >
        <apex:pageBlock id="flt"  >
            <apex:actionFunction name="getcases1" action="{!getCases}" rerender="pg">
                <apex:param name="start_date" value="" />
                <apex:param name="end_date" value="" />
            </apex:actionFunction>
            <input type="hidden" name="event_start_date_alternate" id="event_start_date_alternate" />
            <input type="hidden" name="event_end_date_alternate" id="event_end_date_alternate" />
            <apex:pageBlockSection title="Filter Date" collapsible="false" >
                <apex:outputLabel >Created Date</apex:outputLabel>
                <!-- <apex:selectList id="chooseList" value="{!listSel}" size="1"   onchange="Refresh(this,'{!$Component.chooseList}')" > 
                    <apex:selectOption itemValue="Overall" itemLabel="Overall"/>
                    <apex:selectOption itemValue="Day" itemLabel="Day" />
                    <apex:selectOption itemValue="Week" itemLabel="Week"/>
                    <apex:selectOption itemValue="Month" itemLabel="Month"/>
                    <apex:selectOption itemValue="Quater" itemLabel="Quater"/>                                           
                    <apex:actionFunction name="RefreshData1" action="{!getCases}" rerender="pg" />  
                </apex:selectList> -->                                          
                Start Date : <input type="text" name="start_date" id="start_date" />
                End Date : <input type="text" name="end_date" id="end_date" />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <apex:commandButton value="Run Report" onclick="getCases();return false;" />
                <!-- <apex:input type="date" value="{!dat1}" label="End Date:">
                    <apex:actionFunction name="RefreshData1" action="{!getCases}" rerender="pg" /> 
                </apex:input> -->
            </apex:pageBlockSection>
        </apex:pageBlock>
            <apex:pageBlock id="pg" >      
                <apex:pageBlockSection title="Over All Registration Success Rate" collapsible="false">                   
                    Total Portal User ID Creation in SFDC <apex:outputText value="{!contactCreatedCount}"/>
                    Total No Of users in Portal User Registration<apex:outputText value="{!userRegCount}" />
                    Over all reg success rate %<apex:outputText value="{!ContactCreatedPercentage}%"/>                    
                </apex:pageBlockSection>
                
                <apex:pageBlockSection title="Over All Registration Drop out Rate" collapsible="false">                                       
                    
                    Total No Of users in Portal User Registration Failed <apex:outputText value="{!dropOutCount}"/>
                    Total No Of users in Portal User Registration<apex:outputText value="{!userRegCount}" />
                    Over all Reg Failure rate %<apex:outputText value="{!dropOutCountPercent}%"/>
                </apex:pageBlockSection>
                
                <apex:pageBlockSection title="Success Rate on First Try" collapsible="false">                                       
                    
                    Total No Of users in tried to Register and succeed with single Try<apex:outputText value="{!firstTryCount}"/>
                    Total No Of users in tried to Register<apex:outputText value="{!uniqueUserCount }" />
                    Over all Success Rate on First Try %<apex:outputText value="{!firstTryCountPercent}%"/>
                </apex:pageBlockSection>
                
                <apex:pageBlockTable value="{!Cases}" var="c">
                 <!-- <apex:column value="{!c.Honeywell_ID__c}" headerValue=" Honeywell ID"/>
                  <apex:column value="{!c.Name}" headerValue="Name" style="align:Left;"/>
                 <apex:column value="{!c.Contact_Creation_in_SFDC__c}" headerValue="Contact in SFDC"/>
                 <apex:column value="{!c.Honeywell_ID__c}" headerValue=" Honeywell ID"/>
                 <apex:column value="{!c.CreatedDate}" headerValue="Created Date"/> -->
                </apex:pageBlockTable>
            </apex:pageBlock>   
            </apex:form>            
    </apex:panelGrid>
    </center>
</apex:page>