<apex:page standardController="Discretionary__c" tabStyle="Discretionary__c" extensions="DRNewCreationPageController"  lightningStylesheets="true" >
    <!--<apex:pageBlock id="thePBlks" tabStyle="Discretionary__c" rendered="{! IF(opptSales.size > 0, false, true)}">
            <span align="center"><font color="red">
                <apex:pageMessages id="messages"/>
                 <script>
       function MyjavaFunction(){

       var inputValue = document.getElementById(ReceiveInputID).value;
         if('{!Discretionary__c.Opportunity__r.HasOpportunityLineItem}' == False){
            alert(' You can't create DR if opportunity is not having any product');
         } 
         else{
            alert(' You entered :: '+inputValue); 
         }
   }
  </script> 
            </font></span>
    </apex:pageBlock> -->
    <apex:form id="theFrm">           
        <apex:pageBlock id="thePBlk" title=" New Discretionary Request">
            <apex:pageBlockButtons >
                <apex:commandButton action="{!save}"  value="Save"/>
                <apex:commandButton action="{!cancel}" value="Cancel"/>
            </apex:pageBlockButtons> 
            <br/>  <br/>
        <apex:pageBlock id="errorPBlk" rendered="{!hasLineProd == false}">
            <apex:pageMessages id="showmsg"></apex:pageMessages>
           <!-- <br/><br/>
            <apex:commandButton value="Cancel" oncomplete="doRedirect();"/> -->
        </apex:pageBlock>
        <apex:pageBlockSection id="pblkSct" columns="2" title="Do not enter Restricted/Classified Program names or Information on this page" collapsible="false">            
            <apex:outputField label="Owner" value="{!DRReq.Owner.Name}" >{!$User.FirstName} {!$User.LastName} </apex:outputField>
            <apex:inputField id="active" value="{!DRReq.Legacy_Disc_Request_Number__c}"/> 
            <apex:inputField value="{!DRReq.CurrencyIsoCode}"/>
            </apex:pageBlockSection>
            <apex:pageBlockSection columns="2" collapsible="false" title="Information" >
                <apex:inputField value="{!DRReq.Program__c}"/> 
                <apex:inputField required="true" value="{!DRReq.SBU__c}"/> 
                <apex:inputField value="{!DRReq.Account__c}"/> 
                <apex:inputField required="true" value="{!DRReq.CBT__c}"/> 
                <apex:inputField value="{!DRReq.Funding_Comments__c}"/> 
                <apex:inputField required="true" value="{!DRReq.CBT_Team__c}"/> 
                <apex:inputField required="true" value="{!DRReq.Funding_Reason__c}"/> 
                <apex:inputField required="true" value="{!DRReq.CBT_Directorate__c}"/> 
                
                <apex:inputField value="{!DRReq.Fiscal_Year__c}"/> 
                <apex:inputField required="true" value="{!DRReq.Sales_Channel__c}"/> 
                <apex:inputField value="{!DRReq.Opportunity__c}"/> 
                <apex:inputField required="true" value="{!DRReq.SC1__c}"/> 
                <apex:inputField value="{!DRReq.Campaign__c}"/> 
                <apex:inputField required="true" value="{!DRReq.SC2__c}"/> 
                <apex:inputField value="{!DRReq.M_PM_Funded_VOC_Project__c}"/> 
                <apex:inputField required="true" value="{!DRReq.GBE__c}"/>                 
               
                <apex:inputField required="true" value="{!DRReq.Estimated_Completion_Date__c}"/> 
                <apex:inputField required="true" value="{!DRReq.Type__c }"/> 
                <br/>
                <apex:inputField value="{!DRReq.Approval_Status__c}"/> 
              
                <apex:inputField value="{!DRReq.Current_Approver__c}"/> 
                <apex:inputField value="{!DRReq.Engineering_lead_Contact__c}"/> 
                <apex:inputField value="{!DRReq.Approver_EmailId__c}"/> 
                <br/>
                <apex:inputField value="{!DRReq.Unique_ID__c}"/> 
                <br/> <br/>
                <apex:inputField value="{!DRReq.Backup_EmailId__c}"/> 
                
            <apex:pageBlockSectionitem >
            </apex:pageBlockSectionitem>
        </apex:pageBlockSection>
        <apex:pageBlockSection title="Record Retention" collapsible="false">
            <apex:inputField value="{!DRReq.Record_Code__c}"/> 
            <apex:inputField value="{!DRReq.Retention_Hold__c}"/> 
            <apex:inputField value="{!DRReq.Record_Class__c}"/> 
         
            <apex:inputField value="{!DRReq.Retention_Hold_Reason__c}"/> 
            
            <apex:inputField value="{!DRReq.Record_Data_Owner__c}"/> 
        </apex:pageBlockSection>
    </apex:pageBlock>
    <script language="javascript">
    document.getElementById('thePage:theFrm:thePBlk:pblkSct:pblkSctItm:active').focus();
    </script>
    <script type="text/javascript">
                function doRedirect(){
                    window.history.back();
                }

            </script>
</apex:form>
</apex:page>