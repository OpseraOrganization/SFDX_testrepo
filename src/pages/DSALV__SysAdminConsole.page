<apex:page controller="DSALV.s_ConsoleController" > 
<!-- // ******* Copyright Data Salvation Ltd December 2012. 
    // ******* Contact john.jordan@datasalvation.co.uk
    // ******* WARNING! Commercial Software, All Use Must Be Licensed)
    // ******* This software is protected by copyright Law and International Treaties. Unauthorized use, modification, duplication, 
    // ******* reverse engineering, any form of redistribution, or use in part or in whole other than by prior, express, 
    // ******* printed and signed license for use is subject to civil and criminal prosecution. This notice includes code & 
    // ******* any related objects, sub functions or classes pertaining to or dependent on this code. 
    // ******* If you have received this code in error, please notify copyright holder and destroy this and any other copies as instructed. -->
    
<apex:form >
    <apex:image id="theImage" value="{!$Resource.DSALV__DSAL_Logo_Small}" /><br/><br/> 
    
  
   <apex:pageMessages id="pageMessageBit" />  
   
     
<apex:pageBlock title="Data Salvation">   
    
    <apex:pageblocksection title="Admin Actions" collapsible="true"  columns="1">
    <!-- <apex:actionPoller reRender="batch" interval="15"/> -->

    <apex:pageblocksectionitem >
        <apex:commandButton action="{!s_DeleteAllDataAnalysisData}" value="Delete All Data Analysis Data" onclick="return confirmDelete();"/>  
    </apex:pageblocksectionitem>
    <apex:pageblocksectionitem >
        <apex:commandButton action="{!s_DeleteAllUniqueValues}" value="Delete All Unique Values Data" onclick="return confirmDelete();"/>  
    </apex:pageblocksectionitem>
    <apex:pageblocksectionitem > 
        <apex:commandButton action="{!s_DeleteTransactionLog}" value="Delete All Transaction Logs" onclick="return confirmDelete();"/>  
    </apex:pageblocksectionitem> 
    
</apex:pageblocksection>

<!-- *****************Product Key section************************** -->


<apex:outputPanel id="productkey" >
    <apex:pageblocksection title="Product Key" collapsible="true"  columns="1">
        
        <apex:outputPanel rendered="{!not(EnterKey)}" >
            <apex:outputText value="{!ExpDateText}" style="font-size:14px; color:green" rendered="{!valid}"/>
            <apex:outputText value="Product Key Invalid/Expired - Limited to 1000 Records! Please contact info@datasalvation.co.uk to remove product restrictions." style="font-size:14px; color:red" rendered="{!Not(valid)}"/>
        </apex:outputPanel>
        
        <apex:pageblocksectionitem rendered="{!not(EnterKey)}" >
            <apex:commandButton action="{!s_changeProductPage}" value="Update Product Key" rerender="productkey"/>
        </apex:pageblocksectionitem>
        
        <apex:pageblocksectionitem rendered="{!EnterKey}" >
            <apex:InputTextArea value="{!Key.DSALV__Key__c}" cols="95" rows="1"/>
            <apex:commandButton action="{!s_updateKey}" value="Save" rerender="productkey"/>
        </apex:pageblocksectionitem>
    </apex:pageblocksection>
</apex:outputPanel>
<!-- *********************************************************** -->


<!-- ***********Confirm Reset****************** -->


<script>

     function confirmDelete() 
     {
            if(confirm('Are you sure?'))       return true;
            return false; 
     }

</script>


  
</apex:pageblock>  
</apex:form>   


    
</apex:page>