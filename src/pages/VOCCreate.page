<apex:page standardController="Voice_of_Customer__c" sidebar="false" extensions="VoiceofcustomerClass" showHeader="false" docType="html-5.0">
<apex:form >
<html lang="en" style="height:100%">
<head>
  <meta HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE" />
  <meta charset="utf-8" />
  <title>Aero VOC - Create</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-title" content="HoneywellVOC" />

  <!-- styles -->

  <link href="{!URLFOR($Resource.VOC_bootstrap_zip, 'css/bootstrap.min.css')}" rel="stylesheet" type="text/css" />
  <style>
    body {padding-top: 60px;}
    .autoCompleteBoxScrolling{display:none !important;}
  </style>
  <link href="{!URLFOR($Resource.VOC_bootstrap_zip, 'css/bootstrap-responsive.min.css')}" rel="stylesheet" type="text/css" />
  <link href="{!URLFOR($Resource.VOC_bootstrap_zip, 'css/voc-responsive.css')}" rel="stylesheet" type="text/css" />

  <!-- resources -->
  <link rel="apple-touch-startup-image" href="{!URLFOR($Resource.VOC_bootstrap_zip, 'images/apple-startup.png')}" media="screen and (max-device-width: 320)" />
  <link rel="apple-touch-startup-image" href="{!URLFOR($Resource.VOC_bootstrap_zip, 'images/apple-startup-640x920.png')}" sizes="640x920" />

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{!URLFOR($Resource.VOC_bootstrap_zip, 'ico/apple-touch-icon-144-precomposed.png')}" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{!URLFOR($Resource.VOC_bootstrap_zip, 'ico/apple-touch-icon-114-precomposed.png')}" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{!URLFOR($Resource.VOC_bootstrap_zip, 'ico/apple-touch-icon-72-precomposed.png')}" />
  <link rel="apple-touch-icon-precomposed" href="{!URLFOR($Resource.VOC_bootstrap_zip, 'ico/apple-touch-icon-57-precomposed.png')}" />
  
  <script type="text/javascript" src="{!URLFOR($Resource.autocompletejs)}" />
  <apex:stylesheet value="{!$Resource.autocomplete}"/>
  
  <script type="text/javascript">
      str = window.location.href;
      if(str.charAt(str.length-1)=='/') window.location.href='../voc';
  </script>
    
</head>
<body>

<div class="navbar navbar-fixed-top">

  <div class="navbar-inner">

      <div class="container" style="text-align: center;margin-top: 5px;">
          
        <a href="VocStartPage" class="pull-left">
          <img alt="Back" src="{!URLFOR($Resource.VOC_bootstrap_zip, 'img/icon-voc-back.png')}" style="width:30px; height: 30px;" />
        </a>

        <img alt="Honeywell" src="{!URLFOR($Resource.VOC_bootstrap_zip, 'img/honeywell-logo.png')}" style="max-width: 240px; width: 50%;" />
        
        <a href="VocStartPage" class="pull-right">
          <img alt="Home" src="{!URLFOR($Resource.VOC_bootstrap_zip, 'img/icon-voc-home.png')}" style="width:30px; height: 30px;" />
        </a>
        
        <!--<a href="/secur/logout.jsp" class="pull-right"> 
          <img alt="Logout" src="{!URLFOR($Resource.VOC_bootstrap_zip, 'img/icon-voc-logout.png')}" style="width:30px; height: 30px;" /> 
        </a>-->

      </div> 

  </div>
        
</div> 

<!-- navbar -->

<div class="container-fluid main">

<!-- Input Fields -->

    <div class="row-fluid">
        <div class="span12">
            <h3 class="main-header clearfix"><img src="{!URLFOR($Resource.VOC_bootstrap_zip, 'img/create-voc.png')}" class="pull-left" />Create OVOC</h3>
        </div>
    </div>
    
    <div class="row-fluid">
        <span class="label" style="margin-top: 10px;">Fields marked (<span style="font-weight: bold;" class="text-error">*</span>) are required</span>
    </div>
    
    <!-- Def List -->
    <dl class="dl-horizontal">
    
      <div class="well">
      
      <dt><span class="text-error">*</span> Title</dt>
      <dd><apex:inputField value="{!ExceptionRecord.Title__c}"  styleClass="input-block-level" required="true"/></dd>
      
      <dt><span class="text-error">*</span> Type</dt>
      <dd>
            <apex:selectList styleClass="input-block-level"   value="{!ExceptionRecord.RecordtypeId}" size="1">
               <apex:selectOptions value="{!type}"/>          
            </apex:selectList>
      </dd>
      
      <dt><span class="text-error">*</span> Date</dt>
      <dd>
          <input type="date" id="vocDate" name="vocDate" data-hdn=".vocDate_hidden" placeholder="Date" class="input-block-level" />
          <apex:inputField value="{!ExceptionRecord.Date_of_VOC__c}" style="display:inline" styleClass="vocDate_hidden" required="true"/>
      </dd>
      
      </div>
      
      <div class="well">
      
      <dt><span class="text-error">*</span> Source</dt>
      <dd>
          <apex:actionRegion >
              <apex:inputField value="{!ExceptionRecord.Source__c}"  styleClass="input-block-level"  required="true">
                  <apex:actionSupport event="onchange" action="{!checkforaccount}" rerender="account" />
              </apex:inputField>
          </apex:actionRegion>
      </dd>
      
      <apex:outputPanel id="account" layout="none"> 
          <apex:outputPanel rendered="{!showaccount}" > 
          
       <dt><span class="text-error">*</span> Account Name</dt>
       <dd>
            <apex:actionRegion >
            <apex:inputField id="Accid" value="{!ExceptionRecord.VOC_Account__c}" styleClass="input-block-level"  required="true">
                  <c:Autocomplete id="item" AutoCompleteId="accACid" inputId="{!$Component.Accid}" ClassName="autocomplete autoMyCls " ObjectName="VOC_Accounts__c"  width="0"></c:Autocomplete>
            </apex:inputField>
            </apex:actionRegion>
       </dd>
       
          </apex:outputPanel>
      </apex:outputPanel>
      
      <dt><span class="text-error">*</span> SBU</dt>
      <dd><apex:inputField value="{!ExceptionRecord.SBU__c}" styleClass="input-block-level" required="true" /></dd>
      <dt><span class="text-error">*</span> OEM</dt>
      <dd class="oem-select"><apex:inputField value="{!ExceptionRecord.OEM__c}" styleClass="input-block-level" required="true" /></dd>
      <dt>Platform</dt>
      <dd>
            <apex:actionRegion >
                <apex:inputField id="platformid" value="{!ExceptionRecord.Platform__c}" styleClass="input-block-level">
                  <c:Autocomplete id="item" AutoCompleteId="platformid" inputId="{!$Component.platformid}" ClassName="autocomplete autoMyCls" ObjectName="Platform__c" width="0"></c:Autocomplete>
                </apex:inputField>
            </apex:actionRegion>
            <small>(leave blank if not platform specific)</small>
      </dd>
      <dt><span class="text-error">*</span> Product Family</dt>
      <dd>
            <apex:selectList styleClass="multiselect oemClass input-block-level" id="product" multiselect="true" value="{!ExceptionRecord.Product_Family__c}" size="4">
               <apex:selectOptions value="{!productfamily}"/>          
            </apex:selectList>
      </dd>
      
      </div>
      
      <div class="well">
      
      <dt><span class="text-error">*</span> Key Observations</dt>
      <dd><apex:inputField id="textarea" value="{!ExceptionRecord.Key_Takeaways1__c}" required="true" styleClass="input-block-level" /></dd>
      
      </div>
      
      <div class="well">
      
      <dt>Competitive Information?</dt>
      <dd>      
            <label class="checkbox">
                <apex:inputField value="{!ExceptionRecord.Competitor__c}" required="true" />
                Yes
            </label>            
      </dd>
      
      <dt>Sensitive Information?</dt>
      <dd>
              <label class="checkbox">
                  <apex:actionRegion >
                      <apex:inputField id="textarea1" value="{!ExceptionRecord.Sensitive__c}"  required="true" >
                         <apex:actionSupport event="onchange" action="{!showgroup}" reRender="upppanel"/>
                      </apex:inputField>
                  </apex:actionRegion>
                  Yes
              </label>
              
              <apex:outputText >
                  <small style="color: #C19600;">{!$ObjectType.Voice_of_Customer__c.fields.Sensitive__c.inlineHelpText}</small>
              </apex:outputText> 
      </dd>
      
      <apex:outputPanel id="upppanel"> 
          <apex:outputPanel id="group" rendered="{!sensitivedata}">          
        
      <dt><span class="text-error">*</span> Group</dt>
      <dd>
            <apex:selectList styleClass="multiselect oemClass input-block-level" id="grop"  value="{!ExceptionRecord.selectedgroup__c}" size="1" required="true">
                <apex:selectOptions value="{!chattergroup}"/>
            </apex:selectList>
      </dd>
      
          </apex:outputPanel>
      </apex:outputPanel>
      <br />
      <dt>Upload a Photo</dt>
      <dd><apex:inputFile value="{!attachment.body}" filename="{!attachment.name}" id="file" styleclass="input-block-level"/></dd>
      
      </div>
      
    </dl>
    <!-- / Def List -->

  <apex:commandButton action="{!save}" value=" Submit " status="closer" styleClass="btn btn-large btn-block btn-danger" />
  <input type="reset" class="btn btn-large btn-block" value="Reset" />
  
<!-- / Input Fields -->

</div>
<br/>
<script src="{!URLFOR($Resource.VOC_bootstrap_zip, 'js/jquery.js')}" type="text/javascript"></script>
<script src="{!URLFOR($Resource.VOC_bootstrap_zip, 'js/bootstrap.min.js')}" type="text/javascript"></script>
<script src="{!URLFOR($Resource.VOC_bootstrap_zip, 'js/mobile.min.js')}" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready( function() {
    $('#vocDate').val(new Date().toJSON().slice(0,10));
});
$("input[type='date']").blur(function(){
    var iosDate = $(this).val().split('-');
    $( $(this).attr("data-hdn") ).val([iosDate[1],iosDate[2],iosDate[0]].join('/'));
});
</script>
 
</body>
</html>

</apex:form>
</apex:page>