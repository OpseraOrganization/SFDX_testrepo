<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Restrict_based_on_Account_primary_email</fullName>
    <active>true</active>
    <description>Restrict using @honeywell.com in Primary Email Address and using Honeywell internal Accounts</description>
    <errorConditionFormula>OR(AND( ISNEW() ,OR(CONTAINS(Email,&apos;@honeywell.com&apos;),Account.Name==&apos;HONEYWELL EMPLOYEE AMERICAS&apos;,
Account.Name==&apos;HONEYWELL EMPLOYEE APAC&apos;,Account.Name==&apos;HONEYWELL EMPLOYEE EMEAI&apos;), $Profile.Name!=&apos;Master Data Administrator&apos; , 
$Profile.Name!=&apos;System Administrator&apos; , $Profile.Name!=&apos;CRM Admin&apos; , $Profile.Name!=&apos;API DATA LOAD&apos; , 
$Profile.Name!=&apos;PeopleSoft API User&apos; , $Profile.Name!=&apos;Portal API User - Self-Registration (US)&apos;),AND(OR(CONTAINS(Email,&apos;@honeywell.com&apos;),Account.Name==&apos;HONEYWELL EMPLOYEE AMERICAS&apos;,
Account.Name==&apos;HONEYWELL EMPLOYEE APAC&apos;,Account.Name==&apos;HONEYWELL EMPLOYEE EMEAI&apos;), $Profile.Name!=&apos;Master Data Administrator&apos; , 
$Profile.Name!=&apos;System Administrator&apos; , $Profile.Name!=&apos;CRM Admin&apos; , $Profile.Name!=&apos;API DATA LOAD&apos; , 
$Profile.Name!=&apos;PeopleSoft API User&apos; , $Profile.Name!=&apos;Portal API User - Self-Registration (US)&apos;,OR(ISCHANGED(Email),ISCHANGED( AccountId ))))</errorConditionFormula>
    <errorMessage>Don’t use Honeywell domain in Primary Email Address / Account name cannot contain “Employee”.</errorMessage>
</ValidationRule>
