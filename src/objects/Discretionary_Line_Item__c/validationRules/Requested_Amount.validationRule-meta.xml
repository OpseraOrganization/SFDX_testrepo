<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Requested_Amount</fullName>
    <active>true</active>
    <errorConditionFormula>AND( 
ISCHANGED( Requested_Amount__c ), 
Not CONTAINS( $Profile.Name , &quot;System Administrator&quot;),
Not CONTAINS( $Profile.Name , &quot;ApprovalProcess&quot;),
or(
text(  Discretionary_Request__r.Approval_Status__c ) = &apos;Pending Approval&apos;,
text( Approval_Status__c ) = &apos;Pending Close&apos;,
text( Approval_Status__c ) = &apos;Pending Open&apos;
)
)</errorConditionFormula>
    <errorDisplayField>Requested_Amount__c</errorDisplayField>
    <errorMessage>You cannot change the requested amount when action is pending or DR is previous year.</errorMessage>
</ValidationRule>
