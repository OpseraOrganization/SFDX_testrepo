<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Acknowledge</fullName>
    <availability>online</availability>
    <displayType>button</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Acknowledge</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/20.0/connection.js&quot;)} 

var newRecords = []; 

var dli = new sforce.SObject(&quot;Discretionary_Line_Item__c&quot;); 
dli.id =&quot;{!Discretionary_Line_Item__c.Id}&quot;; 
var accval= &quot;{!Discretionary_Line_Item__c.Id}&quot; 
var approvalst=&quot;{!Discretionary_Line_Item__c.Approval_Status__c}&quot;; 
if(accval!=&apos;&apos;){ 
if(approvalst==&apos;Pending Close&apos;) 
{ 
alert(&quot;Cannot be Acknowledged when Approval Status is Pending Close&quot;); 
} 
else 
{ 
dli.Acknowledge__c= &quot;True&quot;; 
newRecords.push(dli); 
 result = sforce.connection.update(newRecords);  
alert(&quot;Discretionary line item Acknowldged.&quot;); 
} 
} 
else 
alert(&quot;Error saving Discretionary line item. Contact System Adminstartor&quot;); 

window.location.reload();</url>
</WebLink>
