<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>DnS_Changing_Close_Date</fullName>
    <active>true</active>
    <errorConditionFormula>and(
 not CONTAINS( $Profile.Name, &quot;API&quot; ), 
 not CONTAINS( $Profile.Name, &quot;Admin&quot; ), 
 not CONTAINS( $Profile.Name, &quot;Analyst&quot; ), 
 not CONTAINS( $Profile.Name, &quot;Developer&quot; ), 
 text( SBU__c ) = &quot;D&amp;S&quot;, 
 or(
  text( PRIORVALUE( StageName ) ) = &quot;Closed Won&quot;, 
  text( PRIORVALUE( StageName ) ) = &quot;Closed Lost&quot;
 ),
 or( 
  ISCHANGED(CloseDate),
  ISCHANGED(StageName),
  ISCHANGED(RecordTypeId) 
 )
)</errorConditionFormula>
    <errorDisplayField>CloseDate</errorDisplayField>
    <errorMessage>You cannot change the Close Date, Opportunity Type, or Stage on a closed opportunity.</errorMessage>
</ValidationRule>
