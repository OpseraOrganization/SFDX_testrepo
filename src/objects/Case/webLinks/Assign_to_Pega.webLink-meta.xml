<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Assign_to_Pega</fullName>
    <availability>online</availability>
    <displayType>button</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Create PEGA Case</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/34.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/34.0/apex.js&quot;)} 
{!REQUIRESCRIPT(&quot;//code.jquery.com/jquery-1.11.0.min.js&quot;)} 
{!REQUIRESCRIPT(&quot;/support/console/34.0/integration.js&quot;)}


var result=&apos;&apos;;

btnVal = element.value; 
btnValModified = btnVal + &quot; : Processing... please wait.&quot; + result; 
element.value = btnValModified; 
element.title = btnValModified; 
element.style.background=&quot;#1797C0&quot;; 
element.style.color=&quot;#FFFFFF&quot;; 
element.disabled=true; 
 

setTimeout(function() { 

result = sforce.apex.execute(&quot;PegaCreateCaseController&quot;,&quot;CreatePegaCase&quot;,{pegaCaseId : &apos;{!Case.Id}&apos;});

if(result != null || result != &apos;&apos;){ 
alert(result);
window.location.reload(); 
}
},12);</url>
</WebLink>
