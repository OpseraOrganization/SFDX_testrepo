<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Assign_To_Me</fullName>
    <availability>online</availability>
    <description>Created a list button to assign a case to the current user.</description>
    <displayType>massActionButton</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Assign To Me</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <requireRowSelection>true</requireRowSelection>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/13.0/connection.js&quot;)} 

var url = parent.location.href; //string for the URL of the current page 
var records = {!GETRECORDIDS($ObjectType.Case)}; //grabs the Case records that the user is requesting to update 
var userid = &quot;{!$User.Id}&quot;; 

if (records[0] == null) { //if the button was clicked but there was no record selected 
alert(&quot;Please select at least one record to update.&quot;); //alert the user that they didn&apos;t make a selection 
} else { //otherwise, there was a record selection 

for (var a=0; a&lt;records.length; a++){ 
var CaseToUpdate = new sforce.SObject(&quot;Case&quot;); 
CaseToUpdate.Id=records[a]; 
CaseToUpdate.set(&quot;OwnerId&quot;, userid); 
var Result = sforce.connection.update([CaseToUpdate]); 
}

if(Result[0].getBoolean(&quot;success&quot;)) 
{ 
window.location.reload();
} 
else { 
alert(Result[0].errors.message); 
alert(&quot;Case owner cannot be changed&quot;); 
}
}</url>
</WebLink>
