<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Restrict_using_donot_use_fromdate_record</fullName>
    <active>true</active>
    <description>Restrict users from using Supported product appended with &quot;Do not use from&quot; in Case</description>
    <errorConditionFormula>AND(OR(AND(CONTAINS( UPPER(Supported_Products__r.Name ),&quot;DO NOT USE FROM&quot;), ISNEW()),AND(ISCHANGED(Supported_Products__c ), 
NOT(CONTAINS( UPPER(PRIORVALUE(Supported_Products__c )),&quot;DO NOT USE FROM&quot;)),CONTAINS(UPPER(Supported_Products__r.Name ),&quot;DO NOT USE FROM&quot;)),
AND(CONTAINS( UPPER(PRIORVALUE(Supported_Products__c )) ,&quot;Do Not Use from&quot;),PRIORVALUE(Supported_Products__c ) &lt;&gt;Supported_Products__r.Name),
AND(PRIORVALUE(Supported_Products__c)==null,ISCHANGED(Supported_Products__c),CONTAINS(UPPER(Supported_Products__r.Name ),&quot;DO NOT USE FROM&quot;))),$Profile.Name != $Label.API_data_Load_Profile,
$User.Profile_Name__c !=&apos;System Administrator&apos;,not CONTAINS( $Profile.Name, &quot;API&quot; ),
not CONTAINS( $Profile.Name, &quot;Admin&quot; ),OR(RecordType.Name= &apos;Technical Issue&apos;,$RecordType.DeveloperName =$Label.AeroCustomerSupportRecTypeName))</errorConditionFormula>
    <errorDisplayField>Supported_Products__c</errorDisplayField>
    <errorMessage>The selected supported product is expired</errorMessage>
</ValidationRule>
