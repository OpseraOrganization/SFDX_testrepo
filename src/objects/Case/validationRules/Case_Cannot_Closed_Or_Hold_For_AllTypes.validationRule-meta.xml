<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Case_Cannot_Closed_Or_Hold_For_AllTypes</fullName>
    <active>true</active>
    <description>Case Status cannot be changed until a Sales Order number is provided</description>
    <errorConditionFormula>AND (
ISPICKVAL( Status , &apos;Done&apos;) ,  
ISPICKVAL(Type, &apos;Place Order&apos;) , 
ISBLANK( Sales_Order_Number__c ) 
)
&amp;&amp;
$RecordType.DeveloperName ==&apos;Orders&apos;

&amp;&amp;
$Profile.Name !=&apos;Portal API User - RFQ&apos;
&amp;&amp;
$Profile.Name != &apos;System Administrator&apos;
&amp;&amp; $Profile.Name &lt;&gt; $Label.API_data_Load_Profile</errorConditionFormula>
    <errorDisplayField>Status</errorDisplayField>
    <errorMessage>Case Status cannot be changed until a Sales Order number is provided.</errorMessage>
</ValidationRule>
