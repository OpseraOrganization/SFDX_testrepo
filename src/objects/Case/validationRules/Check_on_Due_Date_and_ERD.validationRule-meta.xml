<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Check_on_Due_Date_and_ERD</fullName>
    <active>true</active>
    <description>Error message if Due Date and Estimated Resolution Date is blank/weekends</description>
    <errorConditionFormula>$Profile.Name &lt;&gt; $Label.API_data_Load_Profile
&amp;&amp; not CONTAINS( $Profile.Name, &quot;API&quot; )
&amp;&amp; not CONTAINS( $Profile.Name, &quot;Admin&quot; )
&amp;&amp; $User.Id&lt;&gt;&apos;005300000042rPL&apos;
&amp;&amp; ISCHANGED( OwnerId )= FALSE 
&amp;&amp; IF(
AND($RecordType.Name=&quot;ReturnsPRO&quot;,

OR(	ISBLANK( Due_Date__c ), 
	ISBLANK( Estimated_Resolution_Date__c ),
	Due_Date__c &lt;  TODAY() ,
	Estimated_Resolution_Date__c &lt; TODAY() , 
	Case(MOD(Estimated_Resolution_Date__c - DATE(1900,1,7) , 7) , 
			0 , &apos;0&apos; , 
			6 , &apos;0&apos; , 
			&apos;1&apos;) =&apos;0&apos;
	,
	Case(MOD(Due_Date__c - DATE(1900,1,7) , 7) , 
			0 , &apos;0&apos; , 
			6 , &apos;0&apos; , 
			&apos;1&apos;) =&apos;0&apos;
	)
	)
			
,TRUE
,FALSE)</errorConditionFormula>
    <errorMessage>Due Date/Estimated Resolution Date should not be -  blank/less than today/on weekends.
 Please provide valid inputs</errorMessage>
</ValidationRule>
