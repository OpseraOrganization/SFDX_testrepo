<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>AOG_OTTR_Check_while_Closing_Case</fullName>
    <active>true</active>
    <description>Rule created for Certido Ticket# 311052</description>
    <errorConditionFormula>AND(($RecordType.Name =&apos;AOG&apos;),
ISPICKVAL(Status, &apos;Propose to close&apos;) ,OTTR__c = false,
OR(
ISPICKVAL( X4_Hour_AOG__c,&apos;4-hour&apos;),
ISPICKVAL( X4_Hour_AOG__c,&apos;24-hour&apos;)
),
OR(
ISPICKVAL( AOG_OTTR_Miss_Reason__c,&apos;&apos;),
ISPICKVAL( AOG_OTTR_Miss_Detail__c,&apos;&apos;)
),
$Profile.Name &lt;&gt; $Label.API_data_Load_Profile,
$Profile.Name != &apos;System Administrator&apos;

)</errorConditionFormula>
    <errorDisplayField>of_Open_Activity__c</errorDisplayField>
    <errorMessage>&quot;AOG OTTR Miss Reason&quot; and &quot;AOG OTTR Miss Detail&quot; fields must be completed (filled) prior to Closing Case.</errorMessage>
</ValidationRule>
