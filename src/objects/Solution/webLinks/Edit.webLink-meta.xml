<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Edit</fullName>
    <availability>online</availability>
    <displayType>button</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Edit</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/13.0/connection.js&quot;)}
var rec,solno, no, gtoId, Id;
var soluId = &apos;{!Solution.Id}&apos;;
var gto = &apos;Solution GTO Technical&apos;;

var resultSol = sforce.connection.query(&apos;Select Id, SolutionNumber from Solution where Id =\&apos;&apos;+ soluId+&apos;\&apos;&apos;);
solno = resultSol.getArray(&apos;records&apos;);
no = solno[0].SolutionNumber ;
Id = solno[0].Id ;

var recSol = sforce.connection.query(&apos;Select Id, Name from RecordType where name = \&apos;&apos;+ gto+&apos;\&apos;&apos;);
var records = recSol.getArray(&apos;records&apos;);
rec = records[0];
gtoId=rec.Id;


var url= [location.protocol+&apos;//&apos;+location.host]+&apos;/apex/solution_page_edit?id=&apos;+Id+&apos;&amp;solno=&apos;+no+&apos;&amp;rec=&apos;+gtoId; 
window.parent.location.href =url;</url>
</WebLink>
