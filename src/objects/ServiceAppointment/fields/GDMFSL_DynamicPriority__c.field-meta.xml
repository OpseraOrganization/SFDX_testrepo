<?xml version="1.0" encoding="UTF-8"?>
<CustomField xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>GDMFSL_DynamicPriority__c</fullName>
    <description>Calculates the priority based on approaching DueDate and base priority value - current scale 1-100, 1 is most important and 100 least important.</description>
    <externalId>false</externalId>
    <formula>101-(
IF(  AND(Work_Type_Category__c =&apos;PM&apos; , DATEVALUE(DueDate) - TODAY() =0, GDMFSL_Service_Contract__r.GDMFSL_SLA_Guarantee_w_Financial_Penalty__c =True)  , CEILING(0.7*100) +  CASE( GDMFSL_Priority__c , 1, CEILING(0.3*100), 2, CEILING(0.3*75),3,CEILING(0.3*50),CEILING(0.3*45)) ,

IF(AND(Work_Type_Category__c =&apos;BF&apos; , DATEVALUE(DueDate) - TODAY() =0,  NOT(ISBLANK(GDMFSL_Service_Contract__c) )), CEILING(0.7*75) +  CASE( GDMFSL_Priority__c , 1, CEILING(0.3*100), 2, CEILING(0.3*75),3,CEILING(0.3*50),CEILING(0.3*45)),

IF(AND(Work_Type_Category__c =&apos;PM&apos; , DATEVALUE(DueDate) - TODAY() =0,GDMFSL_Service_Contract__r.GDMFSL_SLA_Guarantee_w_Financial_Penalty__c =False),  CEILING(0.7*50) +  CASE( GDMFSL_Priority__c , 1, CEILING(0.3*100), 2, CEILING(0.3*75),3,CEILING(0.3*50),CEILING(0.3*45)),
  
IF(AND(Work_Type_Category__c =&apos;BF&apos; , DATEVALUE(DueDate) - TODAY() =0,  ISBLANK(GDMFSL_Service_Contract__c) ), CEILING(0.7*25) +  CASE( GDMFSL_Priority__c , 1, CEILING(0.3*100), 2, CEILING(0.3*75),3,CEILING(0.3*50),CEILING(0.3*25)),  

IF(AND(Work_Type_Category__c =&apos;PM&apos; , DATEVALUE(DueDate) - TODAY() &gt;0, GDMFSL_Service_Contract__r.GDMFSL_SLA_Guarantee_w_Financial_Penalty__c =True),  CEILING(0.7*15) +  CASE( GDMFSL_Priority__c , 1, CEILING(0.3*15), 2, CEILING(0.3*10),3,CEILING(0.3*5),CEILING(0.3*3)),  

IF(AND(Work_Type_Category__c =&apos;BF&apos; , DATEVALUE(DueDate) - TODAY() &gt;0,  NOT(ISBLANK(GDMFSL_Service_Contract__c) )), CEILING(0.7*25) +  CASE( GDMFSL_Priority__c , 1, CEILING(0.3*15), 2, CEILING(0.3*10),3,CEILING(0.3*5),CEILING(0.3*3)), 

IF(AND(Work_Type_Category__c =&apos;PM&apos; , DATEVALUE(DueDate) - TODAY() &gt;0,GDMFSL_Service_Contract__r.GDMFSL_SLA_Guarantee_w_Financial_Penalty__c =False), CEILING(0.7*8) +  CASE( GDMFSL_Priority__c , 1, CEILING(0.3*15), 2, CEILING(0.3*10),3,CEILING(0.3*5),CEILING(0.3*3)),

IF(AND(Work_Type_Category__c =&apos;BF&apos; , DATEVALUE(DueDate) - TODAY() &gt;0,  ISBLANK(GDMFSL_Service_Contract__c) ), CEILING(0.7*1) +  CASE( GDMFSL_Priority__c , 1, CEILING(0.3*15), 2, CEILING(0.3*10),3,CEILING(0.3*5),CEILING(0.3*3)),1) )) ) ) ) ))
)</formula>
    <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
    <label>Dynamic Priority</label>
    <precision>18</precision>
    <required>false</required>
    <scale>0</scale>
    <trackHistory>false</trackHistory>
    <type>Number</type>
    <unique>false</unique>
</CustomField>
