<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Comments_added_to_ticket</fullName>
        <description>Comments added to ticket</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <recipients>
            <recipient>kelsey.shannon@honeywell.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <field>Assignee__c</field>
            <type>userLookup</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>SFDC_Tickets/SFDC_New_Comments_to_Comment_History</template>
    </alerts>
    <alerts>
        <fullName>New_SFDC_Ticket</fullName>
        <description>New SFDC Ticket</description>
        <protected>false</protected>
        <recipients>
            <recipient>haritha.lekkala@honeywell.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>ranga.udipi@honeywell.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>tony.naranjo@honeywell.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>SFDC_Tickets/New_SFDC_Ticket</template>
    </alerts>
    <alerts>
        <fullName>SFDC_Ticket_Closed</fullName>
        <description>SFDC Ticket Closed</description>
        <protected>false</protected>
        <recipients>
            <recipient>tony.naranjo@honeywell.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>SFDC_Tickets/SFDC_Ticket_Closed</template>
    </alerts>
    <alerts>
        <fullName>Ticket_Assigned</fullName>
        <description>Ticket Assigned</description>
        <protected>false</protected>
        <recipients>
            <recipient>haritha.lekkala@honeywell.com</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>satyaranjan.mohanty@honeywell.com</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>SFDC_Tickets/Ticket_Assigned</template>
    </alerts>
    <fieldUpdates>
        <fullName>Current_Comments_Wipe</fullName>
        <field>Current_Comments__c</field>
        <name>Current Comments Wipe</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Current_Comments_Wipe1</fullName>
        <field>Add_Comment__c</field>
        <name>Current Comments Wipe</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Current_Comments_to_History</fullName>
        <field>Comment_History__c</field>
        <formula>IF(Current_Comments__c != NULL, 
TEXT(TODAY()) &amp; &quot;: &quot; &amp; $User.FirstName &amp; &quot; &quot; &amp; LEFT($User.LastName,1) &amp; &quot;: &quot; &amp; Current_Comments__c &amp; BR() &amp; Comment_History__c, 
Comment_History__c)</formula>
        <name>Current Comments to History</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Current_Comments_too_History</fullName>
        <field>Comment_History__c</field>
        <formula>IF(Add_Comment__c != NULL, 
TEXT(TODAY()) &amp; &quot;: &quot; &amp; $User.FirstName &amp; &quot; &quot; &amp; LEFT($User.LastName,1) &amp; &quot;: &quot; &amp; Add_Comment__c &amp; BR() &amp; Comment_History__c, 
Comment_History__c)</formula>
        <name>Current Comments to History</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Assigned_Date</fullName>
        <field>Ticket_Assigned_Date__c</field>
        <formula>Today()</formula>
        <name>Update Assigned Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Closed_Date</fullName>
        <field>Closed_Date__c</field>
        <formula>Today()</formula>
        <name>Update Closed Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Record_Type_to_SFDC_Ticket</fullName>
        <field>RecordTypeId</field>
        <lookupValue>SFDC_Ticket</lookupValue>
        <lookupValueType>RecordType</lookupValueType>
        <name>Update Record Type to SFDC Ticket</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>LookupValue</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Status_to_Open</fullName>
        <field>Ticket_Status__c</field>
        <literalValue>In Review</literalValue>
        <name>Update Status to Open</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Closed Ticket Populate Date</fullName>
        <actions>
            <name>Update_Closed_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>AND(
ISCHANGED(Ticket_Status__c ),
OR(ISPICKVAL(Ticket_Status__c , &apos;Deferred&apos;),
ISPICKVAL(Ticket_Status__c , &apos;Closed&apos;),
ISPICKVAL(Ticket_Status__c , &apos;Move to Project&apos;),
ISPICKVAL(Ticket_Status__c , &apos;Rejected&apos;))
)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Comments to Comment History</fullName>
        <actions>
            <name>Comments_added_to_ticket</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Current_Comments_Wipe1</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Current_Comments_too_History</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>SFDC_Ticket__c.Add_Comment__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Open Ticket Send Email</fullName>
        <actions>
            <name>New_SFDC_Ticket</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Update_Status_to_Open</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>SFDC_Ticket__c.CreatedDate</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Ticket Assigned</fullName>
        <actions>
            <name>Ticket_Assigned</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Update_Assigned_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>AND( 
ISCHANGED(Assignee__c), 
NOT(ISNULL(Assignee__c)) 
)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Ticket is Closed</fullName>
        <actions>
            <name>SFDC_Ticket_Closed</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>SFDC_Ticket__c.Ticket_Status__c</field>
            <operation>equals</operation>
            <value>Deferred,Rejected,Closed,Move to Project</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update Record Type to Edit</fullName>
        <actions>
            <name>Update_Record_Type_to_SFDC_Ticket</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>SFDC_Ticket__c.RecordTypeId</field>
            <operation>equals</operation>
            <value>New</value>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
