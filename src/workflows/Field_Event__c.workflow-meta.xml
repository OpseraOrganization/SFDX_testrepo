<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>FER_Creation_Notification</fullName>
        <ccEmails>DL-AEROC&amp;PSTechOps-FieldEventReport@mail.Honeywell.com</ccEmails>
        <description>FER Creation Notification</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Case_Creation_Templates/Field_Event_Report_Template</template>
    </alerts>
    <alerts>
        <fullName>Field_Event_Cancelled</fullName>
        <description>Field Event Cancelled</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <senderAddress>yourresponse@honeywell.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Field_Event_Email_Templates/Field_Event_Notification_for_Cancellation_TECH</template>
    </alerts>
    <alerts>
        <fullName>SendMail_FieldEventReport</fullName>
        <ccEmails>harry.rosado@honeywell.com</ccEmails>
        <description>SendMail_FieldEventReport</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>yourresponse@honeywell.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Field_Event_Email_Templates/Field_event_report_email</template>
    </alerts>
    <alerts>
        <fullName>Send_Email_to_Field_Event_creator_and_Manager_if_Field_Event_tied_to_Temp_Accoun</fullName>
        <description>Send Email to Field Event creator and Manager if Field Event tied to Temp Account even after 30 days</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <recipients>
            <field>Creator_s_Manager_email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>yourresponse@honeywell.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Field_Event_Email_Templates/Notify_for_field_events_still_with_FSR_Temp_account</template>
    </alerts>
    <alerts>
        <fullName>Send_Email_to_Field_Event_creator_for_New_Account_request</fullName>
        <description>Send Email to Field Event creator for New Account request</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <senderAddress>yourresponse@honeywell.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Field_Event_Email_Templates/New_Account_Request_for_Field_Event</template>
    </alerts>
    <fieldUpdates>
        <fullName>Product_Code_Update_Field_Event</fullName>
        <field>Product_Code__c</field>
        <formula>Product_Name__r.ProductCode</formula>
        <name>Product Code Update - Field Event</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Description_From_Case</fullName>
        <description>Update Description From Case</description>
        <field>Description_from_Case__c</field>
        <formula>Case_Number__r.Description</formula>
        <name>Update Description From Case</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Manager_s_email</fullName>
        <field>Creator_s_Manager_email__c</field>
        <formula>CreatedBy.Manager.Email</formula>
        <name>Update Manager&apos;s email</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Problem_Des_plain_text_field</fullName>
        <field>Problem_Description__c</field>
        <formula>Problem_Description_rich_text__c</formula>
        <name>Update Problem Des plain text field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Resolution_From_Case</fullName>
        <description>Update Resolution From Case</description>
        <field>Resolution_from_Case__c</field>
        <formula>Case_Number__r.Resolution__c</formula>
        <name>Update Resolution From Case</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Autopopulate Description and Resolution from Case into Field Event</fullName>
        <actions>
            <name>Update_Description_From_Case</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Resolution_From_Case</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Autopopulate Description and Resolution from Case into Field Event</description>
        <formula>NOT( ISBLANK( Case_Number__c ) )</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>FER Notification to the DL and Case Owner</fullName>
        <actions>
            <name>FER_Creation_Notification</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Field_Event__c.Name</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Field Event Cancelled</fullName>
        <actions>
            <name>Field_Event_Cancelled</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Field_Event__c.Effect_on_Operation__c</field>
            <operation>equals</operation>
            <value>Cancellation(TECH)</value>
        </criteriaItems>
        <criteriaItems>
            <field>Field_Event__c.LastModifiedById</field>
            <operation>notEqual</operation>
            <value>SFDC Admin</value>
        </criteriaItems>
        <description>Field Event Cancelled</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>FieldEvent tied to temporary Account</fullName>
        <actions>
            <name>Send_Email_to_Field_Event_creator_and_Manager_if_Field_Event_tied_to_Temp_Accoun</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <description>IF Field Event created 30 days ago, still shows FSR Temp account, notify creator and manager to update.</description>
        <formula>DATEVALUE(CreatedDate)  =  (TODAY() -30) &amp;&amp;  Account_Name_Formula__c =&apos;FSR TEMPORARY OPERATOR&apos; &amp;&amp; LastModifiedBy.Alias !=&apos;sadmin&apos;</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>FieldEventReport_True</fullName>
        <actions>
            <name>SendMail_FieldEventReport</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Field_Event__c.Field_Event_Report__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>FieldEvent_SendEmailforAccountCreation</fullName>
        <actions>
            <name>Send_Email_to_Field_Event_creator_for_New_Account_request</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Field_Event__c.Account_Name_Formula__c</field>
            <operation>equals</operation>
            <value>FSR TEMPORARY OPERATOR</value>
        </criteriaItems>
        <criteriaItems>
            <field>Field_Event__c.LastModifiedById</field>
            <operation>notEqual</operation>
            <value>SFDC Admin</value>
        </criteriaItems>
        <description>IF Field Event is created for FSR Temp account, notify creator to have Account created in SFDC.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>FieldEvent_UpdateManagerEmail</fullName>
        <actions>
            <name>Update_Manager_s_email</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Field_Event__c.CreatedById</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Field_Event__c.LastModifiedById</field>
            <operation>notEqual</operation>
            <value>SFDC Admin</value>
        </criteriaItems>
        <description>Update Email Id of the Creator&apos;s Manager</description>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Product Code Update - Field Event</fullName>
        <actions>
            <name>Product_Code_Update_Field_Event</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>Product_Name__c != &apos;&apos; || Product_Name__c == &apos;&apos;</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update the plain text Problem description field</fullName>
        <actions>
            <name>Update_Problem_Des_plain_text_field</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Field_Event__c.CreatedDate</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <description>To update the Problem Description (plain text) field from the Problem Description (rich text) field. The UI has the Rich text field and the plain text field goes to the ITSS interface.</description>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
