<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>PasswordExpiredNotification</fullName>
        <description>Email template for expired password</description>
        <protected>false</protected>
        <recipients>
            <field>Contact__c</field>
            <type>contactLookup</type>
        </recipients>
        <senderAddress>myaerospace@honeywell.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PortalRegistration/PasswordExpiredNotification</template>
    </alerts>
    <alerts>
        <fullName>PasswordExpiringNotification</fullName>
        <description>PasswordExpiringNotification</description>
        <protected>false</protected>
        <recipients>
            <field>Contact__c</field>
            <type>contactLookup</type>
        </recipients>
        <senderAddress>myaerospace@honeywell.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PortalRegistration/PasswordExpiringNotification</template>
    </alerts>
    <alerts>
        <fullName>Send_email_when_email_counter_changes</fullName>
        <description>Send email when email counter changes</description>
        <protected>false</protected>
        <recipients>
            <field>Contact__c</field>
            <type>contactLookup</type>
        </recipients>
        <senderAddress>aerodonotreply@honeywell.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>PortalRegistration/AccountReValidationEmail</template>
    </alerts>
    <fieldUpdates>
        <fullName>UpdateBlank</fullName>
        <field>No_of_Days_to_Expire__c</field>
        <name>UpdateBlank</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <outboundMessages>
        <fullName>Claims_Admin_role_QA</fullName>
        <apiVersion>42.0</apiVersion>
        <endpointUrl>https://apis.honeywell.com/sfdc-notification-prc-api-hwcor-pd-v1/NotificationService/aero/ade/sfdc/user/roles</endpointUrl>
        <fields>Claims_Admin__c</fields>
        <fields>Id</fields>
        <fields>Name</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>myaerospace@honeywell.com</integrationUser>
        <name>Claims Admin role</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <outboundMessages>
        <fullName>Contracts_Admin_Role</fullName>
        <apiVersion>41.0</apiVersion>
        <endpointUrl>https://apis.honeywell.com/sfdc-notification-prc-api-hwcor-pd-v1/NotificationService/aero/ade/sfdc/user/roles</endpointUrl>
        <fields>Id</fields>
        <fields>Name</fields>
        <fields>contracts_admin__c</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>myaerospace@honeywell.com</integrationUser>
        <name>Contracts Admin Role</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <outboundMessages>
        <fullName>DynamicCatalog_Admin_Role_QA</fullName>
        <apiVersion>42.0</apiVersion>
        <endpointUrl>https://apis.honeywell.com/sfdc-notification-prc-api-hwcor-pd-v1/NotificationService/aero/ade/sfdc/user/roles</endpointUrl>
        <fields>Dynamic_Catalog_Admin__c</fields>
        <fields>Id</fields>
        <fields>Name</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>myaerospace@honeywell.com</integrationUser>
        <name>DynamicCatalog Admin Role</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <outboundMessages>
        <fullName>OBM_for_CreateWebPortalUser</fullName>
        <apiVersion>46.0</apiVersion>
        <description>OBM for Create Update Contact During Registration</description>
        <endpointUrl>https://it.api.honeywell.com/salesforce/v1/notifications/aero/joule/create/contact</endpointUrl>
        <fields>Contact__c</fields>
        <fields>Id</fields>
        <fields>Name</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>myaerospace@honeywell.com</integrationUser>
        <name>OBM for CreateWebPortalUser</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <outboundMessages>
        <fullName>OBM_for_DeleteWebPortalUser</fullName>
        <apiVersion>46.0</apiVersion>
        <description>Delete</description>
        <endpointUrl>https://it.api.honeywell.com/salesforce/v1/notifications/aero/joule/delete/contact</endpointUrl>
        <fields>Contact__c</fields>
        <fields>Email_Address__c</fields>
        <fields>Id</fields>
        <fields>Name</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>myaerospace@honeywell.com</integrationUser>
        <name>OBM for DeleteWebPortalUser</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <outboundMessages>
        <fullName>TechPub_Admin_Role_QA</fullName>
        <apiVersion>42.0</apiVersion>
        <endpointUrl>https://apis.honeywell.com/sfdc-notification-prc-api-hwcor-pd-v1/NotificationService/aero/ade/sfdc/user/roles</endpointUrl>
        <fields>Id</fields>
        <fields>Name</fields>
        <fields>Tech_Pubs_Admin__c</fields>
        <includeSessionId>true</includeSessionId>
        <integrationUser>myaerospace@honeywell.com</integrationUser>
        <name>TechPub Admin Role</name>
        <protected>false</protected>
        <useDeadLetterQueue>false</useDeadLetterQueue>
    </outboundMessages>
    <rules>
        <fullName>Claims Admin Role</fullName>
        <actions>
            <name>Claims_Admin_role_QA</name>
            <type>OutboundMessage</type>
        </actions>
        <active>false</active>
        <description>Sending obm message when change in contracts admin role</description>
        <formula>(ISCHANGED( Claims_Admin__c))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Contract Admin Role</fullName>
        <actions>
            <name>Contracts_Admin_Role</name>
            <type>OutboundMessage</type>
        </actions>
        <active>false</active>
        <description>Sending obm message when change in contracts admin role</description>
        <formula>(ISCHANGED(contracts_admin__c))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>DataSync_CreateWebPortalUser</fullName>
        <actions>
            <name>OBM_for_CreateWebPortalUser</name>
            <type>OutboundMessage</type>
        </actions>
        <active>true</active>
        <description>Create Update Contact During Registration</description>
        <formula>OR( 	AND 	( 		ISNEW(),!ISNULL(Contact__c), !ISPICKVAL( Portal_Status__c,&quot;Deleted&quot;), !ISPICKVAL( Portal_Status__c,&quot;InActive&quot;) 	), 	AND 	( 		ISCHANGED(Portal_Status__c),ISPICKVAL(Portal_Status__c,&quot;Active&quot;), 		OR( 			AND( 				ISCHANGED(Contact__c), 				!ISNULL(Contact__c) 			), 			AND( 				ISCHANGED(Delete_Contact_ID__c), ISNULL(Delete_Contact_ID__c) 			) 		) 	) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>DataSync_DeleteWebPortalUser</fullName>
        <actions>
            <name>OBM_for_DeleteWebPortalUser</name>
            <type>OutboundMessage</type>
        </actions>
        <active>true</active>
        <description>Delete</description>
        <formula>OR(  AND ( ISCHANGED(Portal_Status__c) ,ISPICKVAL(Portal_Status__c,&quot;Deleted&quot;)), AND(  ISCHANGED(Delete_Contact_ID__c),  !ISNULL(Delete_Contact_ID__c)  ) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>DynamicCatalog Admin Role</fullName>
        <actions>
            <name>DynamicCatalog_Admin_Role_QA</name>
            <type>OutboundMessage</type>
        </actions>
        <active>false</active>
        <description>Sending obm message when change in DynamicCatalog admin role</description>
        <formula>ISCHANGED(Dynamic_Catalog_Admin__c)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>PasswordExpiredNotification</fullName>
        <actions>
            <name>PasswordExpiredNotification</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <description>Triggering an email once password is expired. Also once email is sent, field update is set to blank.</description>
        <formula>(ISCHANGED(No_of_Days_to_Expire__c) &amp;&amp; (No_of_Days_to_Expire__c =&apos;-1&apos;))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>PasswordExpiryNotification</fullName>
        <actions>
            <name>PasswordExpiringNotification</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <description>Send email to the user for password expiry</description>
        <formula>(ISCHANGED(No_of_Days_to_Expire__c) &amp;&amp; ((No_of_Days_to_Expire__c =&apos;0&apos;) || (No_of_Days_to_Expire__c =&apos;7&apos;) || (No_of_Days_to_Expire__c =&apos;14&apos;) || (No_of_Days_to_Expire__c =&apos;21&apos;)))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Send email on email counter</fullName>
        <actions>
            <name>Send_email_when_email_counter_changes</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <formula>AND(ISCHANGED(Email_Sent_Counter__c  ) , Email_Sent_Counter__c  &gt; 5, ISPICKVAL(Portal_Status__c ,&quot;InActive&quot;))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>TechPub Admin Role</fullName>
        <actions>
            <name>TechPub_Admin_Role_QA</name>
            <type>OutboundMessage</type>
        </actions>
        <active>false</active>
        <description>Sending obm message when change in TechPub admin role</description>
        <formula>(ISCHANGED(Tech_Pubs_Admin__c))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
