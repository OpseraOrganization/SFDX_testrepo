<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <fieldUpdates>
        <fullName>Active_Checkbox_to_be_enabled</fullName>
        <field>Active__c</field>
        <literalValue>1</literalValue>
        <name>Active Checkbox to be enabled</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Active_checkbox_to_be_Unchecked</fullName>
        <field>Active__c</field>
        <literalValue>0</literalValue>
        <name>Active checkbox to be Unchecked</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Blanket_Forecast_to_be_Unchecked</fullName>
        <field>Blanket_Forecast__c</field>
        <literalValue>0</literalValue>
        <name>Blanket Forecast to be Unchecked</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Content_Product_Name</fullName>
        <field>Content_Product_Name__c</field>
        <formula>IF((Opportunity.Content_Product_Name__c!=&apos;&apos; &amp;&amp; Opportunity.Content_Product_Name__c!= Null), Opportunity.Content_Product_Name__c+&apos;, &apos;+ Product2.Name, Product2.Name)</formula>
        <name>Content Product Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
        <targetObject>OpportunityId</targetObject>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Product_Code_Update_Opp_Line_Item</fullName>
        <field>Product_Code__c</field>
        <formula>Product2.ProductCode</formula>
        <name>Product Code Update - Opp Line Item</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Forecast_AI</fullName>
        <field>Forecast_Factor_AI__c</field>
        <formula>Probability__c</formula>
        <name>Update Forecast AI</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Forecast_AI_to_Match_Prob</fullName>
        <field>Forecast_Factor_AI__c</field>
        <formula>Probability__c</formula>
        <name>Update Forecast AI to Match Prob</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Forecast_Override</fullName>
        <field>Forecast_Factor_Override__c</field>
        <formula>Probability__c</formula>
        <name>Update Forecast Override</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>New Product Update Forecast Probability</fullName>
        <actions>
            <name>Update_Forecast_AI</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>OpportunityLineItem.Type__c</field>
            <operation>equals</operation>
            <value>Forecast</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Opportunity Product Active check box to be Unchecked</fullName>
        <actions>
            <name>Active_checkbox_to_be_Unchecked</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Blanket_Forecast_to_be_Unchecked</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Opportunity.RecordTypeId</field>
            <operation>equals</operation>
            <value>BGA Operator</value>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Opportunity Product Active check box to be checked</fullName>
        <actions>
            <name>Active_Checkbox_to_be_enabled</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>ISNEW()</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update Non-SIOP Product Probabilities</fullName>
        <actions>
            <name>Update_Forecast_AI_to_Match_Prob</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>ISCHANGED( Probability__c )&amp;&amp; (ISBLANK(SIOP_Forecast_ID__c)||ISNULL(SIOP_Forecast_ID__c))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
