<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Send_Email_to_Call_Owner</name>
        <label>Send Email to Call Owner</label>
        <locationX>1547</locationX>
        <locationY>2270</locationY>
        <actionName>CQA_Summary__c.Call_Quality_New_Assessment_Created</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Get_Call_Assessment_Score</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <actionCalls>
        <name>Send_Email_To_Case_Owner</name>
        <label>Send Email To Case Owner</label>
        <locationX>3870</locationX>
        <locationY>1448</locationY>
        <actionName>CQA_Summary__c.CQI_New_KPI_Assessment_Created</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Get_Assessment_Summary_Score</targetReference>
        </connector>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <apiVersion>50.0</apiVersion>
    <assignments>
        <name>Assign_Call_Assessment_Parent_Id</name>
        <label>Assign Call Assessment Parent Id</label>
        <locationX>1643</locationX>
        <locationY>1624</locationY>
        <assignmentItems>
            <assignToReference>newInstance.Case_Quality_Assessment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Selected_Option__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_call_assessment.Selected_Option__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Question__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_call_assessment.Question__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Assessment_Score__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_call_assessment.Assessment_Score__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Object_to_List_Call_Self_Assessment_Insert</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Call_KPI_Assessment_Result</name>
        <label>Assign Call KPI Assessment Result</label>
        <locationX>1139</locationX>
        <locationY>2436</locationY>
        <assignmentItems>
            <assignToReference>newInstance.Case_Quality_Assessment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Question__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_call_KPI_Assessment_Results.Question__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Selected_Option__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_call_KPI_Assessment_Results.Selected_Option__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Assessment_Score__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_call_KPI_Assessment_Results.Assessment_Score__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Call_KPI_Results_to_Insert_List</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Call_KPI_Results_to_Insert_List</name>
        <label>Assign Call KPI Results to Insert List</label>
        <locationX>1296</locationX>
        <locationY>2438</locationY>
        <assignmentItems>
            <assignToReference>listToInsert</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>newInstance</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_each_call_KPI_Assessment_Results</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_KPI_Assessment_Result</name>
        <label>Assign KPI Assessment Result</label>
        <locationX>4086</locationX>
        <locationY>1599</locationY>
        <assignmentItems>
            <assignToReference>newInstance.Case_Quality_Assessment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Question__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_KPI_Assessment_Result.Question__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Selected_Option__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_KPI_Assessment_Result.Selected_Option__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Assessment_Score__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_KPI_Assessment_Result.Assessment_Score__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_KPI_result_to_list</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_KPI_result_to_list</name>
        <label>Assign KPI result to list</label>
        <locationX>3960</locationX>
        <locationY>1694</locationY>
        <assignmentItems>
            <assignToReference>listToInsert</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>newInstance</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_each_KPI_Assessment_Result</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Object_to_List_Call_Self_Assessment_Insert</name>
        <label>Assign Object to List Call Self Assessment Insert</label>
        <locationX>1507</locationX>
        <locationY>1686</locationY>
        <assignmentItems>
            <assignToReference>listToInsert</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>newInstance</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_each_call_assessment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Parent_Id_to_Assessment_Result</name>
        <label>Assign Parent Id to Assessment Result</label>
        <locationX>4228</locationX>
        <locationY>985</locationY>
        <assignmentItems>
            <assignToReference>newInstance.Case_Quality_Assessment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Selected_Option__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_assessment_result_1.Selected_Option__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Question__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_assessment_result_1.Question__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newInstance.Assessment_Score__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>For_each_assessment_result_1.Assessment_Score__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_the_object_to_list</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_the_object_to_list</name>
        <label>Assign the object to list</label>
        <locationX>3868</locationX>
        <locationY>1088</locationY>
        <assignmentItems>
            <assignToReference>listToInsert</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>newInstance</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>For_each_assessment_result_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assignment_before_update</name>
        <label>Assignment before update</label>
        <locationX>1045</locationX>
        <locationY>1882</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Call_Self_Assessment_Summary</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Call_KPI_Assignments_before_insert</name>
        <label>Call KPI Assignments before insert</label>
        <locationX>904</locationX>
        <locationY>2197</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.ManagerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Call_KPI_Assessment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Get_UI_data_for_Self_Assessment</name>
        <label>Get UI data for Self Assessment</label>
        <locationX>3479</locationX>
        <locationY>948</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Insert_Case_Quality_Summary_Parent_Record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Initialize_Assignment_Summary</name>
        <label>Initialize Assignment Summary</label>
        <locationX>3067</locationX>
        <locationY>1003</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Case__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentCaseRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Agent_Manager__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.ManagerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Agent_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Coach_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>selfAssessmentRecordTypeId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>CQI</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Case_Quality_Self_Assessment_Form</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Initialize_before_insert</name>
        <label>Initialize before insert</label>
        <locationX>1170</locationX>
        <locationY>1628</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Insert_Call_Self_Assessment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Initialize_KPI_Assessment_Summary</name>
        <label>Initialize KPI Assessment Summary</label>
        <locationX>3106</locationX>
        <locationY>1594</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Case__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentCaseRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Agent_Manager__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.ManagerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Agent_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentCaseRecord.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>kpiAssessmentRecordTypeId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Coach_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>CQI</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Case_KPI_Assessment_Form</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Initialize_new_call_KPI_assessment</name>
        <label>Initialize new call KPI assessment</label>
        <locationX>561</locationX>
        <locationY>2197</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Case__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentCaseRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Agent_Manager__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.ManagerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>callKPIRecTypeId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Coach_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loggedInUserInfo.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Task_Id__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentTaskRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.InContact_Task_Contact_Id__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentTaskRecord.inContact_ContactId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Agent_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>CQI</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Call_KPI_Assessment_Form</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Initialize_new_Call_Self_Assessment</name>
        <label>Initialize new Call Self-Assessment</label>
        <locationX>778</locationX>
        <locationY>1630</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Case__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentCaseRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Agent_Manager__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.ManagerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Agent_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Coach_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>callSelfAssessmentRecTypeId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Task_Id__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentTaskRecord.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.InContact_Task_Contact_Id__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>currentTaskRecord.inContact_ContactId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>CQI</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Call_Quality_Self_Assessment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>KPI_Assessment_Assignments_Before_Update</name>
        <label>KPI Assessment Assignments Before Update</label>
        <locationX>3476</locationX>
        <locationY>1593</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ownerUserInfo.ManagerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Insert_KPI_Assessment_Summary</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Error_Message</name>
        <label>Set Display Error Message</label>
        <locationX>3345</locationX>
        <locationY>1075</locationY>
        <assignmentItems>
            <assignToReference>isDisplayMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Case_Quality_Self_Assessment_Form</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Error_Message_2</name>
        <label>Set Display Error Message</label>
        <locationX>3282</locationX>
        <locationY>1399</locationY>
        <assignmentItems>
            <assignToReference>isDisplayMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Case_Quality_Self_Assessment_Update_Form</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Error_Message_3</name>
        <label>Set Display Error Message</label>
        <locationX>3377</locationX>
        <locationY>1805</locationY>
        <assignmentItems>
            <assignToReference>isDisplayMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Case_KPI_Assessment_Form</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Error_Message_4</name>
        <label>Set Display Error Message</label>
        <locationX>1126</locationX>
        <locationY>1767</locationY>
        <assignmentItems>
            <assignToReference>isDisplayMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Call_Quality_Self_Assessment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Error_Message_6</name>
        <label>Set Display Error Message</label>
        <locationX>579</locationX>
        <locationY>2378</locationY>
        <assignmentItems>
            <assignToReference>isDisplayMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Call_KPI_Assessment_Form</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Message_5</name>
        <label>Set Display Message</label>
        <locationX>716</locationX>
        <locationY>2066</locationY>
        <assignmentItems>
            <assignToReference>isDisplayMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Call_Quality_Self_Assessment_Update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Title</name>
        <label>Set Title</label>
        <locationX>2672</locationX>
        <locationY>742</locationY>
        <assignmentItems>
            <assignToReference>titleText</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>CQI Assessment - </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>titleText</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>caseRecordTypeLabel</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Self_Assessment_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Assessment_Summary</name>
        <label>Update Assessment Summary</label>
        <locationX>3455</locationX>
        <locationY>1230</locationY>
        <assignmentItems>
            <assignToReference>newAssessmentSummary.Date_Time_of_the_Evaluation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Case_Quality_Assessment_Summary_Parent</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>Verify if the current is either the case owner (for self-assessment) or Manager or CQI Coach User (for KPI assessment).</description>
        <name>Can_perform_Assessment</name>
        <label>Can perform Assessment?</label>
        <locationX>1659</locationX>
        <locationY>371</locationY>
        <defaultConnector>
            <targetReference>No_Access_Error_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_User_can_perform_Assessment</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ownerUserInfo.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ownerUserInfo.ManagerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ownerUserInfo.CQI_Coach_User__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Case_Closed</targetReference>
            </connector>
            <label>Yes, User can perform Assessment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Can_Perform_Task_Assessment</name>
        <label>Can Perform Task Assessment?</label>
        <locationX>1327</locationX>
        <locationY>1122</locationY>
        <defaultConnector>
            <targetReference>No_Access_Error_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_can_perform_no_task_assessment</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ownerUserInfo.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ownerUserInfo.ManagerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ownerUserInfo.CQI_Coach_User__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_All_Configured_Call_Quality_Assessments</targetReference>
            </connector>
            <label>Yes, can perform no task assessment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Case_Closed</name>
        <label>Case Closed?</label>
        <locationX>1970</locationX>
        <locationY>375</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Closed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentCaseRecord.IsClosed</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Case_Record_Type_Label</targetReference>
            </connector>
            <label>Yes Closed</label>
        </rules>
        <rules>
            <name>No_Case_is_Open</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentCaseRecord.IsClosed</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Repair_overhual</targetReference>
            </connector>
            <label>No Case is Open</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Object_Permission</name>
        <label>Has Object Permission?</label>
        <locationX>1070</locationX>
        <locationY>481</locationY>
        <defaultConnector>
            <targetReference>No_Profile_Permission_Error</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Profile_Object_Permission</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>hasObjectCreatePermission</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_Case_Record_Found</targetReference>
            </connector>
            <label>Yes, Profile Object Permission</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_All_KPI_Assessment_Answered</name>
        <label>Is All KPI Assessment Answered?</label>
        <locationX>3365</locationX>
        <locationY>1595</locationY>
        <defaultConnector>
            <targetReference>Set_Display_Error_Message_3</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_All_KPI_Questions_answered</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isAllQuestionsAnswered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>KPI_Assessment_Assignments_Before_Update</targetReference>
            </connector>
            <label>Yes, All KPI Questions answered</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_All_Questions_Answered</name>
        <label>Is All Questions Answered?</label>
        <locationX>1044</locationX>
        <locationY>1630</locationY>
        <defaultConnector>
            <targetReference>Set_Display_Error_Message_4</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_all_call_self_answered</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isAllQuestionsAnswered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Initialize_before_insert</targetReference>
            </connector>
            <label>Yes, all call self answered</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_All_Questions_Answered_Call_KPI</name>
        <label>Is All Questions Answered?</label>
        <locationX>796</locationX>
        <locationY>2357</locationY>
        <defaultConnector>
            <targetReference>Set_Display_Error_Message_6</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_All_Call_KPI_Answered</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isAllQuestionsAnswered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Call_KPI_Assignments_before_insert</targetReference>
            </connector>
            <label>Yes, All Call KPI Answered</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_All_Questions_Answered_self_update</name>
        <label>Is All Questions Answered?</label>
        <locationX>903</locationX>
        <locationY>2063</locationY>
        <defaultConnector>
            <targetReference>Set_Display_Message_5</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_all_call_self_updated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isAllQuestionsAnswered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assignment_before_update</targetReference>
            </connector>
            <label>Yes, all call self updated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_All_Self_Assessment_Answered</name>
        <label>Is All Self-Assessment Answered?</label>
        <locationX>3331</locationX>
        <locationY>946</locationY>
        <defaultConnector>
            <targetReference>Set_Display_Error_Message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_all_self_assessment_answered</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isAllQuestionsAnswered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_UI_data_for_Self_Assessment</targetReference>
            </connector>
            <label>Yes, all self-assessment answered</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_All_Self_Update_Answered</name>
        <label>Is All Self-Update Answered?</label>
        <locationX>3268</locationX>
        <locationY>1240</locationY>
        <defaultConnector>
            <targetReference>Set_Display_Error_Message_2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_all_self_update_answers</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isAllQuestionsAnswered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Assessment_Summary</targetReference>
            </connector>
            <label>Yes, all self-updates answers</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Call_KPI_Assessment</name>
        <label>Is Call KPI Assessment?</label>
        <locationX>301</locationX>
        <locationY>1630</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Call_KPI_Assessment</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ownerUserInfo.ManagerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ownerUserInfo.CQI_Coach_User__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Call_KPI_Assessment_Record_Type_ID</targetReference>
            </connector>
            <label>Yes, Call KPI Assessment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Call_Question_Setup_Found</name>
        <label>Is Call Question Setup Found?</label>
        <locationX>1724</locationX>
        <locationY>1259</locationY>
        <defaultConnector>
            <targetReference>No_Setup_Found_Error</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Call_Questions_found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>cqiQuestionsMetadata</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Get_Related_Case_Record</targetReference>
            </connector>
            <label>Yes, Call Questions found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Call_Self_Assessment</name>
        <label>Is Call Self-Assessment?</label>
        <locationX>554</locationX>
        <locationY>1293</locationY>
        <defaultConnector>
            <targetReference>Is_Call_KPI_Assessment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Call_Self_Assessment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ownerUserInfo.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Call_Self_Assessment_Record_TypeId</targetReference>
            </connector>
            <label>Yes, Call Self Assessment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Case_Record_Found</name>
        <label>Is Case Record Found?</label>
        <locationX>1313</locationX>
        <locationY>293</locationY>
        <defaultConnector>
            <targetReference>Get_Task_Record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Case_record_found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentCaseRecord.Id</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Get_Case_Owner_User_Details</targetReference>
            </connector>
            <label>Yes, Case record found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Existing_Call_KPI_Assessment</name>
        <label>Is Existing Call KPI Assessment?</label>
        <locationX>307</locationX>
        <locationY>2200</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Call_Assessment_exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newAssessmentSummary.Id</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Call_KPI_Assessment_Already_Exists</targetReference>
            </connector>
            <label>Yes, Call Assessment exists</label>
        </rules>
        <rules>
            <name>No_not_found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newAssessmentSummary.Id</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Initialize_new_call_KPI_assessment</targetReference>
            </connector>
            <label>No, not found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Existing_Call_Self_Assessment</name>
        <label>Is Existing Call Self - Assessment?</label>
        <locationX>580</locationX>
        <locationY>1697</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_update_existing_self_assessment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newAssessmentSummary.Id</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Get_All_existing_Call_Results</targetReference>
            </connector>
            <label>Yes, update existing self assessment</label>
        </rules>
        <rules>
            <name>No_Insert_new_call_self_assessment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newAssessmentSummary.Id</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Initialize_new_Call_Self_Assessment</targetReference>
            </connector>
            <label>No, Insert new call self assessment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Existing_KPI_Assessment</name>
        <label>Is Existing KPI Assessment?</label>
        <locationX>2857</locationX>
        <locationY>1595</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Existing_KPI_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newAssessmentSummary.Id</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>KPI_Already_Exists</targetReference>
            </connector>
            <label>Yes Existing KPI Found</label>
        </rules>
        <rules>
            <name>No_new_KPI</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newAssessmentSummary.Id</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Initialize_KPI_Assessment_Summary</targetReference>
            </connector>
            <label>No new KPI</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Existing_Self_Assessment</name>
        <label>Is Existing Self-Assessment?</label>
        <locationX>2805</locationX>
        <locationY>1080</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_update_existing_records</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newAssessmentSummary.Id</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Get_All_existing_results</targetReference>
            </connector>
            <label>Yes, update existing records</label>
        </rules>
        <rules>
            <name>No_insert_new_self_assessment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newAssessmentSummary.Id</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Initialize_Assignment_Summary</targetReference>
            </connector>
            <label>No, insert new self-assessment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_KPI_Assessment</name>
        <label>Is KPI Assessment?</label>
        <locationX>2179</locationX>
        <locationY>1009</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_KPI_Assessment</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ownerUserInfo.ManagerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ownerUserInfo.CQI_Coach_User__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_KPI_Assessment_Record_Type_ID</targetReference>
            </connector>
            <label>Yes , KPI Assessment</label>
        </rules>
    </decisions>
    <decisions>
        <description>If current user is the case owner. It will be a self-assessment.</description>
        <name>Is_Self_Assessment_1</name>
        <label>Is Self-Assessment?</label>
        <locationX>2427</locationX>
        <locationY>846</locationY>
        <defaultConnector>
            <targetReference>Is_KPI_Assessment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Self_Assessment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentCaseRecord.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>loggedInUserInfo.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Self_Assessment_Record_Type_Id</targetReference>
            </connector>
            <label>Yes Self-Assessment</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check if the question setup is found for the current case owner matching criteria</description>
        <name>Is_Setup_Found</name>
        <label>Is Setup Found?</label>
        <locationX>2428</locationX>
        <locationY>622</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Setup_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>cqiQuestionsMetadata</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Set_Title</targetReference>
            </connector>
            <label>Setup Found</label>
        </rules>
        <rules>
            <name>Set_up_Not_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>cqiQuestionsMetadata</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>No_Setup_Found_Error</targetReference>
            </connector>
            <label>Set up Not Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Task_Record_Found</name>
        <label>Is Task Record Found?</label>
        <locationX>1317</locationX>
        <locationY>716</locationY>
        <defaultConnector>
            <targetReference>Show_Error_Task_Not_Closed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Task_Record_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentTaskRecord.Id</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Get_Task_Owner_Details</targetReference>
            </connector>
            <label>Yes, Task Record Found</label>
        </rules>
    </decisions>
    <decisions>
        <description>Repair &amp; overhual</description>
        <name>Repair_overhual</name>
        <label>Repair &amp; overhual</label>
        <locationX>1969</locationX>
        <locationY>570</locationY>
        <defaultConnector>
            <targetReference>Case_Not_Closed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Repair_and_Overhaul</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>currentCaseRecord.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>On Hold</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>currentCaseRecord.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Repair_Overhaul</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>currentCaseRecord.Type</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Get_Case_Record_Type_Label</targetReference>
            </connector>
            <label>Repair and Overhaul</label>
        </rules>
    </decisions>
    <interviewLabel>CQA Evaluation Form Flow {!$Flow.CurrentDateTime} + Input Case Record Id : {!recordId}</interviewLabel>
    <label>CQI Evaluation Form Flow</label>
    <loops>
        <name>For_each_assessment_result_1</name>
        <label>For each assessment result</label>
        <locationX>3701</locationX>
        <locationY>1003</locationY>
        <collectionReference>outputResultsInsertUpdate</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Parent_Id_to_Assessment_Result</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Insert_Case_Quality_Results</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>For_each_call_assessment</name>
        <label>For each call assessment</label>
        <locationX>1376</locationX>
        <locationY>1629</locationY>
        <collectionReference>outputResultsInsertUpdate</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Call_Assessment_Parent_Id</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Insert_Call_Self_Assessment_Results</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>For_each_call_KPI_Assessment_Results</name>
        <label>For each call KPI Assessment Results</label>
        <locationX>1147</locationX>
        <locationY>2198</locationY>
        <collectionReference>outputResultsInsertUpdate</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Call_KPI_Assessment_Result</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Insert_Call_KPI_Assessment_Results</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>For_each_KPI_Assessment_Result</name>
        <label>For each KPI Assessment Result</label>
        <locationX>3818</locationX>
        <locationY>1593</locationY>
        <collectionReference>outputResultsInsertUpdate</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_KPI_Assessment_Result</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Insert_KPI_Assessment_Results</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Call_KPI_Assessment</name>
        <label>Create Call KPI Assessment</label>
        <locationX>1011</locationX>
        <locationY>2197</locationY>
        <connector>
            <targetReference>For_each_call_KPI_Assessment_Results</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen_for_Call_Assessment</targetReference>
        </faultConnector>
        <inputReference>newAssessmentSummary</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Insert_Call_KPI_Assessment_Results</name>
        <label>Insert Call KPI Assessment Results</label>
        <locationX>1381</locationX>
        <locationY>2196</locationY>
        <connector>
            <targetReference>Send_Email_to_Call_Owner</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen_for_Call_Assessment</targetReference>
        </faultConnector>
        <inputReference>listToInsert</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Insert_Call_Self_Assessment</name>
        <label>Insert Call Self Assessment</label>
        <locationX>1268</locationX>
        <locationY>1629</locationY>
        <connector>
            <targetReference>For_each_call_assessment</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen_for_Call_Assessment</targetReference>
        </faultConnector>
        <inputReference>newAssessmentSummary</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Insert_Call_Self_Assessment_Results</name>
        <label>Insert Call Self Assessment Results</label>
        <locationX>1381</locationX>
        <locationY>1828</locationY>
        <connector>
            <targetReference>Get_Call_Assessment_Score</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen_for_Call_Assessment</targetReference>
        </faultConnector>
        <inputReference>listToInsert</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Insert_Case_Quality_Results</name>
        <label>Insert Case Quality Results</label>
        <locationX>3702</locationX>
        <locationY>1183</locationY>
        <connector>
            <targetReference>Get_Assessment_Summary_Score</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen</targetReference>
        </faultConnector>
        <inputReference>listToInsert</inputReference>
    </recordCreates>
    <recordCreates>
        <description>Insert the Parent record of the case quality assessment results.</description>
        <name>Insert_Case_Quality_Summary_Parent_Record</name>
        <label>Insert Case Quality Summary (Parent Record)</label>
        <locationX>3575</locationX>
        <locationY>949</locationY>
        <connector>
            <targetReference>For_each_assessment_result_1</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen</targetReference>
        </faultConnector>
        <inputReference>newAssessmentSummary</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Insert_KPI_Assessment_Results</name>
        <label>Insert KPI Assessment Results</label>
        <locationX>3702</locationX>
        <locationY>1449</locationY>
        <connector>
            <targetReference>Send_Email_To_Case_Owner</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen</targetReference>
        </faultConnector>
        <inputReference>listToInsert</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Insert_KPI_Assessment_Summary</name>
        <label>Insert KPI Assessment Summary</label>
        <locationX>3599</locationX>
        <locationY>1593</locationY>
        <connector>
            <targetReference>For_each_KPI_Assessment_Result</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen</targetReference>
        </faultConnector>
        <inputReference>newAssessmentSummary</inputReference>
    </recordCreates>
    <recordLookups>
        <name>Check_Create_Permission_on_Quality_Assessment_Object</name>
        <label>Check Create Permission on Quality Assessment Object</label>
        <locationX>907</locationX>
        <locationY>480</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Has_Object_Permission</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>permissionParentId</elementReference>
            </value>
        </filters>
        <filters>
            <field>PermissionsCreate</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>CQA_Summary__c</stringValue>
            </value>
        </filters>
        <object>ObjectPermissions</object>
        <outputAssignments>
            <assignToReference>hasObjectCreatePermission</assignToReference>
            <field>PermissionsCreate</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_All_existing_Call_Results</name>
        <label>Get All existing Call Results</label>
        <locationX>593</locationX>
        <locationY>1944</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Call_Quality_Self_Assessment_Update</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case_Quality_Assessment__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </filters>
        <object>CQA_Results__c</object>
        <outputReference>existingQueryResults</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Question__c</queriedFields>
        <queriedFields>Case_Quality_Assessment__c</queriedFields>
        <queriedFields>Selected_Option__c</queriedFields>
        <queriedFields>Assessment_Score__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_All_existing_results</name>
        <label>Get All existing results</label>
        <locationX>3016</locationX>
        <locationY>1238</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Case_Quality_Self_Assessment_Update_Form</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case_Quality_Assessment__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </filters>
        <object>CQA_Results__c</object>
        <outputReference>existingQueryResults</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Question__c</queriedFields>
        <queriedFields>Case_Quality_Assessment__c</queriedFields>
        <queriedFields>Selected_Option__c</queriedFields>
        <queriedFields>Assessment_Score__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Assessment_Summary_Score</name>
        <label>Get Assessment Summary Score</label>
        <locationX>4051</locationX>
        <locationY>1346</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Display_Screen_2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </filters>
        <object>CQA_Summary__c</object>
        <outputReference>resultAssessmentSummary</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Assessment_Score__c</queriedFields>
        <queriedFields>Record_Link__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Call_Assessment_Score</name>
        <label>Get Call Assessment Score</label>
        <locationX>1787</locationX>
        <locationY>2234</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Display_Call_Assessment_Result</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>newAssessmentSummary.Id</elementReference>
            </value>
        </filters>
        <object>CQA_Summary__c</object>
        <outputReference>resultAssessmentSummary</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Assessment_Score__c</queriedFields>
        <queriedFields>Record_Link__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Call_KPI_Assessment_Record_Type_ID</name>
        <label>Get Call KPI Assessment Record Type ID</label>
        <locationX>313</locationX>
        <locationY>1862</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Existing_Call_KPI_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>CQA_Summary__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Call_Quality_Assessment</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>callKPIRecTypeId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Call_Self_Assessment_Record_TypeId</name>
        <label>Get Call Self Assessment Record TypeId</label>
        <locationX>762</locationX>
        <locationY>1508</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Existing_Call_Self_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>CQA_Summary__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Self_Assessment_Call</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>callSelfAssessmentRecTypeId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Retrieve information like Agent Id, Manager Id for the current case owner.</description>
        <name>Get_Case_Owner_User_Details</name>
        <label>Get Case Owner User Details</label>
        <locationX>1550</locationX>
        <locationY>370</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Can_perform_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentCaseRecord.OwnerId</elementReference>
            </value>
        </filters>
        <object>User</object>
        <outputReference>ownerUserInfo</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>ManagerId</queriedFields>
        <queriedFields>CQI_Coach_User__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>Get the Label of Case Record Type.</description>
        <name>Get_Case_Record_Type_Label</name>
        <label>Get Case Record Type Label</label>
        <locationX>2191</locationX>
        <locationY>372</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_All_Configured_Metadata_Questions</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentCaseRecord.RecordTypeId</elementReference>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>caseRecordTypeLabel</assignToReference>
            <field>Name</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Retrieve Current Case record fields</description>
        <name>Get_Current_Case_Record</name>
        <label>Get Current Case Record</label>
        <locationX>935</locationX>
        <locationY>182</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Permission_Id</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <object>Case</object>
        <outputReference>currentCaseRecord</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>OwnerId</queriedFields>
        <queriedFields>RecordTypeId</queriedFields>
        <queriedFields>IsClosed</queriedFields>
        <queriedFields>Status</queriedFields>
        <queriedFields>Type</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Current_User_Record</name>
        <label>Get Current User Record</label>
        <locationX>1142</locationX>
        <locationY>177</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Current_Case_Record</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </filters>
        <object>User</object>
        <outputReference>loggedInUserInfo</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>ProfileId</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Existing_Call_KPI_Assessment</name>
        <label>Get Existing Call KPI Assessment</label>
        <locationX>314</locationX>
        <locationY>2029</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Existing_Call_KPI_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Task_Id__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentTaskRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>callKPIRecTypeId</elementReference>
            </value>
        </filters>
        <object>CQA_Summary__c</object>
        <outputReference>newAssessmentSummary</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Existing_Call_Self_Assessment</name>
        <label>Get Existing Call Self Assessment</label>
        <locationX>588</locationX>
        <locationY>1508</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Existing_Call_Self_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>callSelfAssessmentRecTypeId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Task_Id__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentTaskRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Agent_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </filters>
        <object>CQA_Summary__c</object>
        <outputReference>newAssessmentSummary</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Agent_Manager__c</queriedFields>
        <queriedFields>Agent_Name__c</queriedFields>
        <queriedFields>Article_Number_s__c</queriedFields>
        <queriedFields>Case__c</queriedFields>
        <queriedFields>Coach_Comments__c</queriedFields>
        <queriedFields>Coach_Name__c</queriedFields>
        <queriedFields>Evaluator_Notes__c</queriedFields>
        <queriedFields>Date_Time_of_the_Evaluation__c</queriedFields>
        <queriedFields>Survey_s__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Existing_KPI_Assessment</name>
        <label>Get Existing KPI Assessment</label>
        <locationX>2665</locationX>
        <locationY>1593</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Existing_KPI_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentCaseRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>kpiAssessmentRecordTypeId</elementReference>
            </value>
        </filters>
        <object>CQA_Summary__c</object>
        <outputReference>newAssessmentSummary</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Agent_Manager__c</queriedFields>
        <queriedFields>Agent_Name__c</queriedFields>
        <queriedFields>Article_Number_s__c</queriedFields>
        <queriedFields>Assessment_Score__c</queriedFields>
        <queriedFields>Calibration_Date__c</queriedFields>
        <queriedFields>Case__c</queriedFields>
        <queriedFields>Coach_Comments__c</queriedFields>
        <queriedFields>Coach_Name__c</queriedFields>
        <queriedFields>Evaluator_Notes__c</queriedFields>
        <queriedFields>Survey_s__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>Query and get the existing self-assessment.</description>
        <name>Get_Existing_Self_Assessment</name>
        <label>Get Existing Self-Assessment</label>
        <locationX>2639</locationX>
        <locationY>1077</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Existing_Self_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentCaseRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>selfAssessmentRecordTypeId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Agent_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </filters>
        <object>CQA_Summary__c</object>
        <outputReference>newAssessmentSummary</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Agent_Manager__c</queriedFields>
        <queriedFields>Agent_Name__c</queriedFields>
        <queriedFields>Article_Number_s__c</queriedFields>
        <queriedFields>Case__c</queriedFields>
        <queriedFields>Coach_Name__c</queriedFields>
        <queriedFields>Coach_Comments__c</queriedFields>
        <queriedFields>Evaluator_Notes__c</queriedFields>
        <queriedFields>Date_Time_of_the_Evaluation__c</queriedFields>
        <queriedFields>Survey_s__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_KPI_Assessment_Record_Type_ID</name>
        <label>Get KPI Assessment Record Type ID</label>
        <locationX>2437</locationX>
        <locationY>1593</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Existing_KPI_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>CQA_Summary__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>KPI_Assessment</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>kpiAssessmentRecordTypeId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Permission_Id</name>
        <label>Get Permission Id</label>
        <locationX>804</locationX>
        <locationY>317</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Create_Permission_on_Quality_Assessment_Object</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ProfileId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Profile.Id</elementReference>
            </value>
        </filters>
        <object>PermissionSet</object>
        <outputAssignments>
            <assignToReference>permissionParentId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Related_Case_Record</name>
        <label>Get Related Case Record</label>
        <locationX>780</locationX>
        <locationY>1162</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Call_Self_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentTaskRecord.WhatId</elementReference>
            </value>
        </filters>
        <object>Case</object>
        <outputReference>currentCaseRecord</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Self_Assessment_Record_Type_Id</name>
        <label>Get Self-Assessment Record Type Id</label>
        <locationX>2440</locationX>
        <locationY>1077</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Existing_Self_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>CQA_Summary__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Self_Assessment</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>selfAssessmentRecordTypeId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Task_Owner_Details</name>
        <label>Get Task Owner Details</label>
        <locationX>1324</locationX>
        <locationY>929</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Can_Perform_Task_Assessment</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>currentTaskRecord.OwnerId</elementReference>
            </value>
        </filters>
        <object>User</object>
        <outputReference>ownerUserInfo</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>ManagerId</queriedFields>
        <queriedFields>CQI_Coach_User__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Task_Record</name>
        <label>Get Task Record</label>
        <locationX>1326</locationX>
        <locationY>550</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Task_Record_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Call</stringValue>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>Task</object>
        <outputReference>currentTaskRecord</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Type</queriedFields>
        <queriedFields>OwnerId</queriedFields>
        <queriedFields>inContact_ContactId__c</queriedFields>
        <queriedFields>WhatId</queriedFields>
        <queriedFields>inContact_Contact_Details__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Update_Assessment_Results</name>
        <label>Update Assessment Results</label>
        <locationX>3651</locationX>
        <locationY>1329</locationY>
        <connector>
            <targetReference>Get_Assessment_Summary_Score</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen</targetReference>
        </faultConnector>
        <inputReference>outputResultsInsertUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Call_Self_Assessment_Results</name>
        <label>Update Call Self Assessment Results</label>
        <locationX>1199</locationX>
        <locationY>1998</locationY>
        <connector>
            <targetReference>Get_Call_Assessment_Score</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen_for_Call_Assessment</targetReference>
        </faultConnector>
        <inputReference>outputResultsInsertUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Call_Self_Assessment_Summary</name>
        <label>Update Call Self Assessment Summary</label>
        <locationX>1065</locationX>
        <locationY>2036</locationY>
        <connector>
            <targetReference>Update_Call_Self_Assessment_Results</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen_for_Call_Assessment</targetReference>
        </faultConnector>
        <inputReference>newAssessmentSummary</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case_Quality_Assessment_Summary_Parent</name>
        <label>Update Case Quality Assessment Summary (Parent)</label>
        <locationX>3559</locationX>
        <locationY>1232</locationY>
        <connector>
            <targetReference>Update_Assessment_Results</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Flow_Exception_Screen</targetReference>
        </faultConnector>
        <inputReference>newAssessmentSummary</inputReference>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>Call_KPI_Assessment_Already_Exists</name>
        <label>Call KPI Assessment Already Exists</label>
        <locationX>50</locationX>
        <locationY>2201</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Display_Existing_KPI_Error</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 18px; color: rgb(255, 0, 0);&quot;&gt;Call quality evaluation has already been completed for this task.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Call_KPI_Assessment_Form</name>
        <label>Call KPI Assessment Form</label>
        <locationX>718</locationX>
        <locationY>2199</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Is_All_Questions_Answered_Call_KPI</targetReference>
        </connector>
        <fields>
            <name>Call_KPI_Title</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;font-size: 18px; background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Call Quality Assessment &lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Display_Error_Message_6</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: red; background-color: white; font-family: Arial, sans-serif; font-size: 10pt;&quot;&gt;Please answer all assessment questions to proceed&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>isDisplayMessage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Display_Help_Text_Call_KPI</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Click on the following hyperlink to open the Call recording in Incontact&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Display_InContact_Link_KPI</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;{!currentTaskRecord.inContact_Contact_Details__c}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Call_KPI_Assessment</name>
            <extensionName>c:CQA_AssessmentForm</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>outputResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>assessmentSummary</name>
                <value>
                    <elementReference>newAssessmentSummary</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputQuestionsMetadata</name>
                <value>
                    <elementReference>cqiQuestionsMetadata</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputAssessmentResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>outputResultsInsertUpdate</assignToReference>
                <name>outputResults</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>newAssessmentSummary</assignToReference>
                <name>assessmentSummary</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>cqiQuestionsMetadata</assignToReference>
                <name>inputQuestionsMetadata</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>isAllQuestionsAnswered</assignToReference>
                <name>isFormValidated</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Call_Quality_Self_Assessment</name>
        <label>Call Quality Self Assessment</label>
        <locationX>920</locationX>
        <locationY>1629</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Is_All_Questions_Answered</targetReference>
        </connector>
        <fields>
            <name>Display_Call_Self_Assessment</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); font-size: 16px; background-color: rgb(255, 255, 255);&quot;&gt;SELF-ASSESSMENT &lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Display_Error_Message_Call_Self</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: red; background-color: white; font-family: Arial, sans-serif; font-size: 10pt;&quot;&gt;Please answer all assessment questions to proceed&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>isDisplayMessage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Display_Help_Text_Self_New_insert</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 12px;&quot;&gt;Click on the following hyperlink to open the Call recording in Incontact&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Display_InContact_Link_Self_new</name>
            <fieldText>&lt;p&gt;&lt;b&gt;{!currentTaskRecord.inContact_Contact_Details__c}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>CQI_Call_Self_Assessment_Insert</name>
            <extensionName>c:CQA_AssessmentForm</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>outputResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>assessmentSummary</name>
                <value>
                    <elementReference>newAssessmentSummary</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputQuestionsMetadata</name>
                <value>
                    <elementReference>cqiQuestionsMetadata</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputAssessmentResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>outputResultsInsertUpdate</assignToReference>
                <name>outputResults</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>newAssessmentSummary</assignToReference>
                <name>assessmentSummary</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>cqiQuestionsMetadata</assignToReference>
                <name>inputQuestionsMetadata</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>isAllQuestionsAnswered</assignToReference>
                <name>isFormValidated</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Call_Quality_Self_Assessment_Update</name>
        <label>Call Quality Self Assessment Update</label>
        <locationX>803</locationX>
        <locationY>1801</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Is_All_Questions_Answered_self_update</targetReference>
        </connector>
        <fields>
            <name>Self_Call_Assessment_Update</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255); font-size: 16px; color: rgb(62, 62, 60);&quot;&gt;SELF-ASSESSMENT &lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Display_Error_Message_Call_Self_Update</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: red; background-color: white; font-family: Arial, sans-serif; font-size: 10pt;&quot;&gt;Please answer all assessment questions to proceed&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>isDisplayMessage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Display_Help_Text_Self_Update</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Click on the following hyperlink to open the Call recording in Incontact&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Display_InContact_Details_Self_Update</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!currentTaskRecord.inContact_Contact_Details__c}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Call_Self_Assessment_Update</name>
            <extensionName>c:CQA_AssessmentForm</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>outputResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>assessmentSummary</name>
                <value>
                    <elementReference>newAssessmentSummary</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputAssessmentResults</name>
                <value>
                    <elementReference>existingQueryResults</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputQuestionsMetadata</name>
                <value>
                    <elementReference>cqiQuestionsMetadata</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>outputResultsInsertUpdate</assignToReference>
                <name>outputResults</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>newAssessmentSummary</assignToReference>
                <name>assessmentSummary</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>existingQueryResults</assignToReference>
                <name>inputAssessmentResults</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>cqiQuestionsMetadata</assignToReference>
                <name>inputQuestionsMetadata</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>isAllQuestionsAnswered</assignToReference>
                <name>isFormValidated</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Case_KPI_Assessment_Form</name>
        <label>Case KPI Assessment Form</label>
        <locationX>3261</locationX>
        <locationY>1593</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Is_All_KPI_Assessment_Answered</targetReference>
        </connector>
        <fields>
            <name>Display_KPI_Message</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;font-size: 18px;&quot;&gt;{!titleText}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Display_Error_message_KPI</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: red; background-color: white; font-family: Arial, sans-serif; font-size: 10pt;&quot;&gt;Please answer all assessment questions to proceed&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>isDisplayMessage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>CQA_KPI_AssessmentForm</name>
            <extensionName>c:CQA_AssessmentForm</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>outputResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>assessmentSummary</name>
                <value>
                    <elementReference>newAssessmentSummary</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputQuestionsMetadata</name>
                <value>
                    <elementReference>cqiQuestionsMetadata</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputAssessmentResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>outputResultsInsertUpdate</assignToReference>
                <name>outputResults</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>newAssessmentSummary</assignToReference>
                <name>assessmentSummary</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>cqiQuestionsMetadata</assignToReference>
                <name>inputQuestionsMetadata</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>isAllQuestionsAnswered</assignToReference>
                <name>isFormValidated</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Case_Not_Closed</name>
        <label>Case Not Closed</label>
        <locationX>1852</locationX>
        <locationY>723</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Display_Case_Not_Closed_Error_Message</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(255, 2, 2); font-size: 18px;&quot;&gt;Case quality evaluation can be performed for closed cases only&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Case_Quality_Self_Assessment_Form</name>
        <label>Case Quality  Self Assessment Form</label>
        <locationX>3180</locationX>
        <locationY>1003</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Is_All_Self_Assessment_Answered</targetReference>
        </connector>
        <fields>
            <name>Display_Self_Assessment_Message</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255); font-size: 16px;&quot;&gt;SELF-ASSESSMENT&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Self_Assessment_Error_Message</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: red; background-color: white; font-family: Arial, sans-serif; font-size: 10pt;&quot;&gt;Please answer all assessment questions to proceed&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>isDisplayMessage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>CQA_AssessmentForm_Cmp</name>
            <extensionName>c:CQA_AssessmentForm</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>assessmentSummary</name>
                <value>
                    <elementReference>newAssessmentSummary</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>outputResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputQuestionsMetadata</name>
                <value>
                    <elementReference>cqiQuestionsMetadata</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputAssessmentResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>outputResultsInsertUpdate</assignToReference>
                <name>outputResults</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>cqiQuestionsMetadata</assignToReference>
                <name>inputQuestionsMetadata</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>newAssessmentSummary</assignToReference>
                <name>assessmentSummary</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>isAllQuestionsAnswered</assignToReference>
                <name>isFormValidated</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Case_Quality_Self_Assessment_Update_Form</name>
        <label>Case Quality Self Assessment Update Form</label>
        <locationX>3139</locationX>
        <locationY>1239</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Is_All_Self_Update_Answered</targetReference>
        </connector>
        <fields>
            <name>Display_Self_Assessment</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;SELF-ASSESSMENT&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Display_Error_Message_Self_Update</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: red; background-color: white; font-family: Arial, sans-serif; font-size: 10pt;&quot;&gt;Please answer all assessment questions to proceed&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>isDisplayMessage</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>CQA_AssessmentForm_2</name>
            <extensionName>c:CQA_AssessmentForm</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>outputResults</name>
                <value>
                    <elementReference>outputResultsInsertUpdate</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>assessmentSummary</name>
                <value>
                    <elementReference>newAssessmentSummary</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputAssessmentResults</name>
                <value>
                    <elementReference>existingQueryResults</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>inputQuestionsMetadata</name>
                <value>
                    <elementReference>cqiQuestionsMetadata</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>outputResultsInsertUpdate</assignToReference>
                <name>outputResults</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>newAssessmentSummary</assignToReference>
                <name>assessmentSummary</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>existingQueryResults</assignToReference>
                <name>inputAssessmentResults</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>cqiQuestionsMetadata</assignToReference>
                <name>inputQuestionsMetadata</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>isAllQuestionsAnswered</assignToReference>
                <name>isFormValidated</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Display_Call_Assessment_Result</name>
        <label>Display Call Assessment Result</label>
        <locationX>1769</locationX>
        <locationY>1956</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Display_Call_Assessment_Result_1</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255); font-size: 18px;&quot;&gt;Call quality evaluation is completed with a CQI Score of &lt;/b&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255); font-size: 22px;&quot;&gt;{!resultAssessmentSummary.Assessment_Score__c}&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;&lt;span class=&quot;ql-cursor&quot;&gt;﻿&lt;/span&gt;Click to {!resultAssessmentSummary.Record_Link__c} or click Finish to close this window&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Display_Screen_2</name>
        <label>Display Screen 2</label>
        <locationX>4223</locationX>
        <locationY>1346</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Display_Score_Message</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;font-size: 18px;&quot;&gt;Case quality evaluation is completed with a CQI Score of &lt;/b&gt;&lt;b style=&quot;font-size: 22px;&quot;&gt;{!resultAssessmentSummary.Assessment_Score__c}&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;Click to {!resultAssessmentSummary.Record_Link__c} or click Finish to close this window&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Flow_Exception_Screen</name>
        <label>Flow Exception Screen</label>
        <locationX>4521</locationX>
        <locationY>1171</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Display_Flow_Error_Case_Assessment</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;Assessment cannot be completed due to below error&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;{!$Flow.FaultMessage}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Flow_Exception_Screen_for_Call_Assessment</name>
        <label>Flow Exception Screen for Call Assessment</label>
        <locationX>2077</locationX>
        <locationY>1785</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Display_Flow_Exception_Call_Assessment</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;Assessment cannot be completed due to below error&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;{!$Flow.FaultMessage}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>KPI_Already_Exists</name>
        <label>KPI_Already_Exists</label>
        <locationX>2867</locationX>
        <locationY>1860</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Display_Error_KPI_Existing</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 18px; color: rgb(255, 0, 0);&quot;&gt;Case quality evaluation has already been completed for this case&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>No_Access_Error_Screen</name>
        <label>No Access Error Screen</label>
        <locationX>1669</locationX>
        <locationY>607</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>No_Access_Error</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rgb(253, 0, 0); font-size: 18px;&quot;&gt;You do not have permission to perform quality evaluation for this case/call.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>No_Profile_Permission_Error</name>
        <label>No Profile Permission Error</label>
        <locationX>1198</locationX>
        <locationY>569</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Display_Profile_Permission_Error</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 18px; color: rgb(253, 0, 0);&quot;&gt;Your profile do not have permission to perform quality evaluation&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>No_Setup_Found_Error</name>
        <label>No Setup Found Error</label>
        <locationX>2033</locationX>
        <locationY>748</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Display_No_Setup_Error</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;color: rgb(250, 0, 0);&quot;&gt;NO QUALITY ASSESSMENT SETUP FOUND. PLEASE CONTACT ADMIN.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Show_Error_Task_Not_Closed</name>
        <label>Show Error Task Not Closed</label>
        <locationX>1085</locationX>
        <locationY>715</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Display_Task_Not_Closed</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 18px; color: rgb(253, 0, 0);&quot;&gt;Please make sure Call Activity (Task) is closed &amp;amp; is of Type: Call&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>1016</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Get_Current_User_Record</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Get_All_Configured_Call_Quality_Assessments</name>
        <label>Get All Configured Call Quality Assessments</label>
        <locationX>1611</locationX>
        <locationY>1115</locationY>
        <connector>
            <targetReference>Is_Call_Question_Setup_Found</targetReference>
        </connector>
        <flowName>CQI_Find_Configured_Setup</flowName>
        <inputAssignments>
            <name>inputRecordTypeLabel</name>
            <value>
                <stringValue>Call Quality Assessment</stringValue>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>cqiQuestionsMetadata</assignToReference>
            <name>outputCQIQuestions</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Get_All_Configured_Metadata_Questions</name>
        <label>Get All Configured Metadata Questions</label>
        <locationX>2436</locationX>
        <locationY>372</locationY>
        <connector>
            <targetReference>Is_Setup_Found</targetReference>
        </connector>
        <flowName>CQI_Find_Configured_Setup</flowName>
        <inputAssignments>
            <name>inputRecordTypeLabel</name>
            <value>
                <elementReference>caseRecordTypeLabel</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>cqiQuestionsMetadata</assignToReference>
            <name>outputCQIQuestions</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>assessmentRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>callKPIRecTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>callSelfAssessmentRecTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>caseRecordTypeLabel</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>List variable to store the questions identified for the case record type.</description>
        <name>cqiQuestionsMetadata</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CQI_Question_Setup__mdt</objectType>
    </variables>
    <variables>
        <name>currentCaseRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>currentTaskRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Task</objectType>
    </variables>
    <variables>
        <name>existingQueryResults</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>CQA_Results__c</objectType>
    </variables>
    <variables>
        <description>Variable that contains the results entered by end user. Information is output by a lightning component.</description>
        <name>flowVarAssessmentResults</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CQA_Results__c</objectType>
    </variables>
    <variables>
        <name>hasObjectCreatePermission</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>isAllQuestionsAnswered</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>isDisplayMessage</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>String instance to store the json result returned from the UI component in the String format.</description>
        <name>jsonResultsFromUI</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>kpiassessmentCaseOwnerShare</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CQA_Summary__Share</objectType>
    </variables>
    <variables>
        <name>kpiAssessmentRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>listToInsert</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CQA_Results__c</objectType>
    </variables>
    <variables>
        <name>loggedInUserInfo</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>User</objectType>
    </variables>
    <variables>
        <description>List String instance for APEX Action input to create Assessment Result Child Records. 

NOTE: This Apex Action is needed because, Lightning Flow, can&apos;t handle sobject output dynamically constructed from Component js. as of this version.</description>
        <name>lstStringInputs</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Instance variable to insert Case Assessment Summary</description>
        <name>newAssessmentSummary</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CQA_Summary__c</objectType>
    </variables>
    <variables>
        <name>newInstance</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CQA_Results__c</objectType>
    </variables>
    <variables>
        <name>outputResultsInsertUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>CQA_Results__c</objectType>
    </variables>
    <variables>
        <description>Instance to store the case owner user information.</description>
        <name>ownerUserInfo</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>User</objectType>
    </variables>
    <variables>
        <name>permissionParentId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>input record of current case record</description>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>resultAssessmentSummary</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CQA_Summary__c</objectType>
    </variables>
    <variables>
        <name>selfAssessmentRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Result returned from the sub flow to identify the question setup to be displayed for the coach users.</description>
        <name>setupId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>titleText</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
